apiVersion: v1
kind: ConfigMap
metadata:
  name: config-dataresidency
  namespace: events-system
  annotations:
    knative.dev/example-checksum: 3c0011c5
data:
  default-dataresidency-config: "clusterDefaults:\n  messagestoragepolicy.allowedpersistenceregions:\
    \ []\n"
  _example: "################################\n#                              #\n\
    #    EXAMPLE CONFIGURATION     #\n#                              #\n################################\n\
    \n# This block is not actually functional configuration,\n# but serves to illustrate\
    \ the available configuration\n# options and document them in a way that is accessible\n\
    # to users that `kubectl edit` this config map.\n#\n# These sample configuration\
    \ options may be copied out of\n# this example block and unindented to be in the\
    \ data block\n# to actually change the configuration.\n\n# default-dataresidency-config\
    \ is the configuration for determining the default\n# data residency to apply\
    \ to all objects that require data residency.\n# This is expected to be Channels\
    \ and Sources and Brokers.\n#\n# We only support cluster scoped now\ndefault-dataresidency-config:\
    \ |\n  # clusterDefaults are the defaults to apply to every namespace in the\n\
    \  # cluster\n  clusterDefaults:\n    # messagestoragepolicy.global determines\
    \ whether Global PubSub Topics are allowed.\n    # If set to false, then the PubSub\
    \ Topic will be regional, based on the region the\n    # GKE cluster is running\
    \ in. If set to true, then the PubSub Topic is allowed to be\n    # Global, as\
    \ long as messagestoragepolicy.allowedpersistenceregions is empty and no GCP Org\
    \ Policy forbids it.\n    messagestoragepolicy.global: false\n    # messagestoragepolicy.allowedpersistenceregions\
    \ field specifies\n    # all the allowed regions for data residency. The default\
    \ or an empty value will\n    # mean no data residency requirement.\n    messagestoragepolicy.allowedpersistenceregions:\n\
    \      - us-east1\n      - us-west1"
