apiVersion: v1
kind: ConfigMap
metadata:
  name: k6-scripts
data:
  nginx-test.js: "import http, { FileData } from 'k6/http'; \nimport { check } from\
    \ 'k6';\nimport { FormData } from 'https://jslib.k6.io/formdata/0.0.2/index.js';\n\
    \n  export const options = {\n  discardResponseBodies: true,\n  scenarios: {\n\
    \    contacts: {\n      executor: 'per-vu-iterations',\n      vus: 1,\n      iterations:\
    \ 100,\n      maxDuration: '10s',\n    },\n  },\n};\n\nconst binFile = open('/data/pda765_2019-10-30_02.16.11.txt.gz','b');\n\
    \nexport default function () {\n  const responses = http.post('http://10.129.3.14:31485/contentListener',\
    \ binFile \n    );\n\n  check(responses, { 'is status 200': (r) => r.status ===\
    \ 200, });\n\n}\n\n\n/*export default function () {\n\n const payload = JSON.stringify({\n\
    \  email: 'aaa',\n  password: 'bbb',\n});\n\n const responses = http.post('http://loalhost:8888/contentListener',\
    \ payload);\n\n check(responses, { 'is status 200': (r) => r.status === 200, });\n\
    }*/"
