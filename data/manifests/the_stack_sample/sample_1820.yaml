apiVersion: v1
kind: ConfigMap
metadata:
  name: monitoring-kyma-frontends-dashboard
  labels:
    grafana_dashboard: '1'
    app: monitoring-grafana
data:
  kyma-frontends-dashboard.json: "{\n  \"annotations\": {\n    \"list\": [\n     \
    \ {\n        \"builtIn\": 1,\n        \"datasource\": \"-- Grafana --\",\n   \
    \     \"enable\": true,\n        \"hide\": true,\n        \"iconColor\": \"rgba(0,\
    \ 211, 255, 1)\",\n        \"name\": \"Annotations & Alerts\",\n        \"type\"\
    : \"dashboard\"\n      }\n    ]\n  },\n  \"editable\": false,\n  \"gnetId\": null,\n\
    \  \"graphTooltip\": 0,\n  \"id\": 57,\n  \"iteration\": 1600434829873,\n  \"\
    links\": [],\n  \"panels\": [\n    {\n      \"content\": \"\\nAll pods having\
    \ label `kyma-project.io/component: frontend`\\n\\n\",\n      \"datasource\":\
    \ null,\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"custom\"\
    : {}\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n\
    \        \"h\": 2,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 0\n\
    \      },\n      \"id\": 16,\n      \"mode\": \"markdown\",\n      \"timeFrom\"\
    : null,\n      \"timeShift\": null,\n      \"title\": \"Note\",\n      \"type\"\
    : \"text\"\n    },\n    {\n      \"collapsed\": false,\n      \"datasource\":\
    \ null,\n      \"gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n       \
    \ \"x\": 0,\n        \"y\": 2\n      },\n      \"id\": 4,\n      \"panels\": [],\n\
    \      \"title\": \"Pod Metrics\",\n      \"type\": \"row\"\n    },\n    {\n \
    \     \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n\
    \      \"dashes\": false,\n      \"datasource\": null,\n      \"fieldConfig\"\
    : {\n        \"defaults\": {\n          \"custom\": {}\n        },\n        \"\
    overrides\": []\n      },\n      \"fill\": 1,\n      \"fillGradient\": 0,\n  \
    \    \"gridPos\": {\n        \"h\": 9,\n        \"w\": 12,\n        \"x\": 0,\n\
    \        \"y\": 3\n      },\n      \"hiddenSeries\": false,\n      \"id\": 2,\n\
    \      \"legend\": {\n        \"avg\": false,\n        \"current\": false,\n \
    \       \"max\": false,\n        \"min\": false,\n        \"show\": true,\n  \
    \      \"total\": false,\n        \"values\": false\n      },\n      \"lines\"\
    : true,\n      \"linewidth\": 2,\n      \"nullPointMode\": \"null\",\n      \"\
    options\": {\n        \"dataLinks\": []\n      },\n      \"percentage\": false,\n\
    \      \"pointradius\": 2,\n      \"points\": false,\n      \"renderer\": \"flot\"\
    ,\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"stack\"\
    : false,\n      \"steppedLine\": false,\n      \"targets\": [\n        {\n   \
    \       \"expr\": \"sum by(container) (container_memory_usage_bytes{namespace=\\\
    \"$namespace\\\", pod=\\\"$pod\\\", container_name!=\\\"POD\\\",container!=\\\"\
    \\\"})\",\n          \"interval\": \"\",\n          \"legendFormat\": \"Current:\
    \ {{`{{container_name}}`}}\",\n          \"refId\": \"A\"\n        },\n      \
    \  {\n          \"expr\": \"sum by(container) (kube_pod_container_resource_requests{namespace=\\\
    \"$namespace\\\", resource=\\\"memory\\\", pod=\\\"$pod\\\"})\",\n          \"\
    interval\": \"\",\n          \"legendFormat\": \"Requests: {{`{{container}}`}}\"\
    ,\n          \"refId\": \"B\"\n        },\n        {\n          \"expr\": \"sum\
    \ by(container) (kube_pod_container_resource_limits{namespace=\\\"$namespace\\\
    \", resource=\\\"memory\\\", pod=\\\"$pod\\\"})\",\n          \"interval\": \"\
    \",\n          \"legendFormat\": \"Limit: {{`{{ container }}`}}\",\n         \
    \ \"refId\": \"C\"\n        },\n        {\n          \"expr\": \"sum by(container)\
    \ (container_memory_cache{ namespace=\\\"$namespace\\\", pod=~\\\"$pod\\\", container!=\\\
    \"POD\\\"})\",\n          \"interval\": \"\",\n          \"legendFormat\": \"\
    Cache: {{`{{ container }}`}}\",\n          \"refId\": \"D\"\n        }\n     \
    \ ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeRegions\"\
    : [],\n      \"timeShift\": null,\n      \"title\": \"Memory Usage\",\n      \"\
    tooltip\": {\n        \"shared\": true,\n        \"sort\": 0,\n        \"value_type\"\
    : \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n \
    \       \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n\
    \        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n\
    \        {\n          \"format\": \"bytes\",\n          \"label\": null,\n   \
    \       \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n\
    \          \"show\": true\n        },\n        {\n          \"format\": \"short\"\
    ,\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
    \          \"min\": null,\n          \"show\": true\n        }\n      ],\n   \
    \   \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n  \
    \    }\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n  \
    \    \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": null,\n\
    \      \"fieldConfig\": {\n        \"defaults\": {\n          \"custom\": {}\n\
    \        },\n        \"overrides\": []\n      },\n      \"fill\": 1,\n      \"\
    fillGradient\": 0,\n      \"gridPos\": {\n        \"h\": 9,\n        \"w\": 12,\n\
    \        \"x\": 12,\n        \"y\": 3\n      },\n      \"hiddenSeries\": false,\n\
    \      \"id\": 8,\n      \"legend\": {\n        \"avg\": false,\n        \"current\"\
    : false,\n        \"max\": false,\n        \"min\": false,\n        \"show\":\
    \ true,\n        \"total\": false,\n        \"values\": false\n      },\n    \
    \  \"lines\": true,\n      \"linewidth\": 1,\n      \"nullPointMode\": \"null\"\
    ,\n      \"options\": {\n        \"dataLinks\": []\n      },\n      \"percentage\"\
    : false,\n      \"pointradius\": 2,\n      \"points\": false,\n      \"renderer\"\
    : \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n    \
    \  \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n  \
    \      {\n          \"expr\": \"sum by (container) (irate(container_cpu_usage_seconds_total{namespace=\\\
    \"$namespace\\\", image!=\\\"\\\", pod=\\\"$pod\\\", container!=\\\"POD\\\"}[4m]))\"\
    ,\n          \"interval\": \"\",\n          \"legendFormat\": \"Current: {{`{{\
    \ container }}`}}\",\n          \"refId\": \"A\"\n        },\n        {\n    \
    \      \"expr\": \"sum by(container) (kube_pod_container_resource_requests{namespace=\\\
    \"$namespace\\\", resource=\\\"cpu\\\", pod=\\\"$pod\\\"})\",\n          \"interval\"\
    : \"\",\n          \"legendFormat\": \"Requested: {{`{{ container }}`}}\",\n \
    \         \"refId\": \"B\"\n        },\n        {\n          \"expr\": \"sum by(container)\
    \ (kube_pod_container_resource_limits{namespace=\\\"$namespace\\\", resource=\\\
    \"cpu\\\", pod=\\\"$pod\\\"})\",\n          \"interval\": \"\",\n          \"\
    legendFormat\": \"Limit: {{`{{ container }}`}}\",\n          \"refId\": \"C\"\n\
    \        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n \
    \     \"timeRegions\": [],\n      \"timeShift\": null,\n      \"title\": \"CPU\
    \ Usage\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\"\
    : 0,\n        \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\"\
    ,\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\"\
    ,\n        \"name\": null,\n        \"show\": true,\n        \"values\": []\n\
    \      },\n      \"yaxes\": [\n        {\n          \"format\": \"short\",\n \
    \         \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
    \          \"min\": \"0\",\n          \"show\": true\n        },\n        {\n\
    \          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\"\
    : 1,\n          \"max\": null,\n          \"min\": \"0\",\n          \"show\"\
    : true\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n \
    \       \"alignLevel\": null\n      }\n    },\n    {\n      \"aliasColors\": {},\n\
    \      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n\
    \      \"datasource\": null,\n      \"fieldConfig\": {\n        \"defaults\":\
    \ {\n          \"custom\": {}\n        },\n        \"overrides\": []\n      },\n\
    \      \"fill\": 1,\n      \"fillGradient\": 0,\n      \"gridPos\": {\n      \
    \  \"h\": 8,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 12\n     \
    \ },\n      \"hiddenSeries\": false,\n      \"id\": 6,\n      \"legend\": {\n\
    \        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n\
    \        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n\
    \        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\"\
    : 1,\n      \"nullPointMode\": \"null\",\n      \"options\": {\n        \"dataLinks\"\
    : []\n      },\n      \"percentage\": false,\n      \"pointradius\": 2,\n    \
    \  \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
    : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
    : false,\n      \"targets\": [\n        {\n          \"expr\": \"sort_desc(sum\
    \ by (pod) (irate(container_network_receive_bytes_total{namespace=\\\"$namespace\\\
    \", pod=\\\"$pod\\\"}[4m])))\",\n          \"interval\": \"\",\n          \"legendFormat\"\
    : \"RX: {{`{{ pod }}`}}\",\n          \"refId\": \"A\"\n        },\n        {\n\
    \          \"expr\": \"sort_desc(sum by (pod) (irate(container_network_transmit_bytes_total{namespace=\\\
    \"$namespace\\\", pod=\\\"$pod\\\"}[4m])))\",\n          \"interval\": \"\",\n\
    \          \"legendFormat\": \"TX: {{`{{ pod }}`}}\",\n          \"refId\": \"\
    B\"\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n\
    \      \"timeRegions\": [],\n      \"timeShift\": null,\n      \"title\": \"Network\
    \ I/O\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\": 0,\n\
    \        \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\",\n\
    \      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\",\n\
    \        \"name\": null,\n        \"show\": true,\n        \"values\": []\n  \
    \    },\n      \"yaxes\": [\n        {\n          \"format\": \"short\",\n   \
    \       \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
    \          \"min\": null,\n          \"show\": true\n        },\n        {\n \
    \         \"format\": \"short\",\n          \"label\": null,\n          \"logBase\"\
    : 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\":\
    \ true\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n \
    \       \"alignLevel\": null\n      }\n    },\n    {\n      \"aliasColors\": {},\n\
    \      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n\
    \      \"datasource\": null,\n      \"fieldConfig\": {\n        \"defaults\":\
    \ {\n          \"custom\": {}\n        },\n        \"overrides\": []\n      },\n\
    \      \"fill\": 1,\n      \"fillGradient\": 0,\n      \"gridPos\": {\n      \
    \  \"h\": 8,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 12\n    \
    \  },\n      \"hiddenSeries\": false,\n      \"id\": 10,\n      \"legend\": {\n\
    \        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n\
    \        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n\
    \        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\"\
    : 1,\n      \"nullPointMode\": \"null\",\n      \"options\": {\n        \"dataLinks\"\
    : []\n      },\n      \"percentage\": false,\n      \"pointradius\": 2,\n    \
    \  \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
    : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
    : false,\n      \"targets\": [\n        {\n          \"expr\": \"max by (container)\
    \ (kube_pod_container_status_restarts_total{ namespace=\\\"$namespace\\\", pod=\\\
    \"$pod\\\"})\",\n          \"interval\": \"\",\n          \"legendFormat\": \"\
    Restarts: {{`{{ container }}`}}\",\n          \"refId\": \"A\"\n        }\n  \
    \    ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeRegions\"\
    : [],\n      \"timeShift\": null,\n      \"title\": \"Total Restarts Per Container\"\
    ,\n      \"tooltip\": {\n        \"shared\": false,\n        \"sort\": 0,\n  \
    \      \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\",\n\
    \      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\",\n\
    \        \"name\": null,\n        \"show\": true,\n        \"values\": []\n  \
    \    },\n      \"yaxes\": [\n        {\n          \"format\": \"short\",\n   \
    \       \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
    \          \"min\": \"0\",\n          \"show\": true\n        },\n        {\n\
    \          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\"\
    : 1,\n          \"max\": null,\n          \"min\": \"0\",\n          \"show\"\
    : true\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n \
    \       \"alignLevel\": null\n      }\n    },\n    {\n      \"collapsed\": false,\n\
    \      \"datasource\": null,\n      \"gridPos\": {\n        \"h\": 1,\n      \
    \  \"w\": 24,\n        \"x\": 0,\n        \"y\": 20\n      },\n      \"id\": 12,\n\
    \      \"panels\": [],\n      \"title\": \"Logs\",\n      \"type\": \"row\"\n\
    \    },\n    {\n      \"datasource\": \"Loki\",\n      \"fieldConfig\": {\n  \
    \      \"defaults\": {\n          \"custom\": {}\n        },\n        \"overrides\"\
    : []\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 24,\n\
    \        \"x\": 0,\n        \"y\": 21\n      },\n      \"id\": 14,\n      \"options\"\
    : {\n        \"showLabels\": false,\n        \"showTime\": true,\n        \"sortOrder\"\
    : \"Descending\",\n        \"wrapLogMessage\": true\n      },\n      \"targets\"\
    : [\n        {\n          \"expr\": \"{namespace=\\\"$namespace\\\", instance=\\\
    \"$pod\\\"}\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"timeFrom\"\
    : null,\n      \"timeShift\": null,\n      \"title\": \"Logs\",\n      \"type\"\
    : \"logs\"\n    }\n  ],\n  \"refresh\": \"10s\",\n  \"schemaVersion\": 25,\n \
    \ \"tags\": [\n    \"kyma\"\n  ],\n  \"templating\": {\n    \"list\": [\n    \
    \  {\n        \"allValue\": null,\n        \"current\": {\n          \"selected\"\
    : false,\n          \"text\": \"kyma-system\",\n          \"value\": \"kyma-system\"\
    \n        },\n        \"datasource\": \"Prometheus\",\n        \"definition\"\
    : \"label_values(kube_pod_labels{label_kyma_project_io_component=\\\"frontend\\\
    \"},namespace)\",\n        \"hide\": 0,\n        \"includeAll\": false,\n    \
    \    \"label\": null,\n        \"multi\": false,\n        \"name\": \"namespace\"\
    ,\n        \"options\": [],\n        \"query\": \"label_values(kube_pod_labels{label_kyma_project_io_component=\\\
    \"frontend\\\"},namespace)\",\n        \"refresh\": 1,\n        \"regex\": \"\"\
    ,\n        \"skipUrlSync\": false,\n        \"sort\": 1,\n        \"tagValuesQuery\"\
    : \"\",\n        \"tags\": [],\n        \"tagsQuery\": \"\",\n        \"type\"\
    : \"query\",\n        \"useTags\": false\n      },\n      {\n        \"allValue\"\
    : null,\n        \"current\": {\n          \"selected\": true,\n          \"text\"\
    : \"helm-broker-addons-ui-7bf8767656-h2j2l\",\n          \"value\": \"helm-broker-addons-ui-7bf8767656-h2j2l\"\
    \n        },\n        \"datasource\": \"Prometheus\",\n        \"definition\"\
    : \"label_values(kube_pod_labels{label_kyma_project_io_component=\\\"frontend\\\
    \",namespace=\\\"$namespace\\\"},pod)\",\n        \"hide\": 0,\n        \"includeAll\"\
    : false,\n        \"label\": null,\n        \"multi\": false,\n        \"name\"\
    : \"pod\",\n        \"options\": [],\n        \"query\": \"label_values(kube_pod_labels{label_kyma_project_io_component=\\\
    \"frontend\\\",namespace=\\\"$namespace\\\"},pod)\",\n        \"refresh\": 1,\n\
    \        \"regex\": \"\",\n        \"skipUrlSync\": false,\n        \"sort\":\
    \ 1,\n        \"tagValuesQuery\": \"\",\n        \"tags\": [],\n        \"tagsQuery\"\
    : \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      }\n \
    \   ]\n  },\n  \"time\": {\n    \"from\": \"now-1h\",\n    \"to\": \"now\"\n \
    \ },\n  \"timepicker\": {\n    \"hidden\": false,\n    \"refresh_intervals\":\
    \ [\n      \"5s\",\n      \"10s\",\n      \"30s\",\n      \"1m\",\n      \"5m\"\
    ,\n      \"15m\",\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"1d\"\n\
    \    ]\n  },\n  \"timezone\": \"\",\n  \"title\": \"Kyma / Components / Frontends\"\
    ,\n  \"uid\": \"WK_q8xdMk\",\n  \"version\": 10\n}"
