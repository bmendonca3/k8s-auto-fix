apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana
  namespace: logging
data:
  dashboards.json: "{\n  \"__inputs\": [\n    {\n      \"name\": \"DS_PROMETHEUS\"\
    ,\n      \"label\": \"prometheus\",\n      \"description\": \"\",\n      \"type\"\
    : \"datasource\",\n      \"pluginId\": \"prometheus\",\n      \"pluginName\":\
    \ \"Prometheus\"\n    }\n  ],\n  \"__requires\": [\n    {\n      \"type\": \"\
    panel\",\n      \"id\": \"singlestat\",\n      \"name\": \"Singlestat\",\n   \
    \   \"version\": \"\"\n    },\n    {\n      \"type\": \"panel\",\n      \"id\"\
    : \"graph\",\n      \"name\": \"Graph\",\n      \"version\": \"\"\n    },\n  \
    \  {\n      \"type\": \"grafana\",\n      \"id\": \"grafana\",\n      \"name\"\
    : \"Grafana\",\n      \"version\": \"3.1.1\"\n    },\n    {\n      \"type\": \"\
    datasource\",\n      \"id\": \"prometheus\",\n      \"name\": \"Prometheus\",\n\
    \      \"version\": \"1.0.0\"\n    }\n  ],\n  \"id\": null,\n  \"title\": \"Kubernetes\"\
    ,\n  \"tags\": [],\n  \"style\": \"dark\",\n  \"timezone\": \"browser\",\n  \"\
    editable\": true,\n  \"hideControls\": false,\n  \"sharedCrosshair\": false,\n\
    \  \"rows\": [\n    {\n      \"title\": \"New row\",\n      \"height\": \"250px\"\
    ,\n      \"editable\": true,\n      \"collapse\": false,\n      \"panels\": [\n\
    \        {\n          \"title\": \"Number of Pods\",\n          \"error\": false,\n\
    \          \"span\": 12,\n          \"editable\": true,\n          \"type\": \"\
    singlestat\",\n          \"isNew\": true,\n          \"id\": 2,\n          \"\
    targets\": [\n            {\n              \"refId\": \"A\",\n              \"\
    expr\": \"count(count(container_start_time_seconds{io_kubernetes_pod_name!=\\\"\
    \\\"}) by (io_kubernetes_pod_name))\",\n              \"intervalFactor\": 2,\n\
    \              \"step\": 240\n            }\n          ],\n          \"links\"\
    : [],\n          \"datasource\": \"${DS_PROMETHEUS}\",\n          \"maxDataPoints\"\
    : 100,\n          \"interval\": null,\n          \"cacheTimeout\": null,\n   \
    \       \"format\": \"none\",\n          \"prefix\": \"\",\n          \"postfix\"\
    : \"\",\n          \"nullText\": null,\n          \"valueMaps\": [\n         \
    \   {\n              \"value\": \"null\",\n              \"op\": \"=\",\n    \
    \          \"text\": \"N/A\"\n            }\n          ],\n          \"mappingTypes\"\
    : [\n            {\n              \"name\": \"value to text\",\n             \
    \ \"value\": 1\n            },\n            {\n              \"name\": \"range\
    \ to text\",\n              \"value\": 2\n            }\n          ],\n      \
    \    \"rangeMaps\": [\n            {\n              \"from\": \"null\",\n    \
    \          \"to\": \"null\",\n              \"text\": \"N/A\"\n            }\n\
    \          ],\n          \"mappingType\": 1,\n          \"nullPointMode\": \"\
    connected\",\n          \"valueName\": \"avg\",\n          \"prefixFontSize\"\
    : \"50%\",\n          \"valueFontSize\": \"80%\",\n          \"postfixFontSize\"\
    : \"50%\",\n          \"thresholds\": \"20,25\",\n          \"colorBackground\"\
    : false,\n          \"colorValue\": false,\n          \"colors\": [\n        \
    \    \"rgba(50, 172, 45, 0.97)\",\n            \"rgba(237, 129, 40, 0.89)\",\n\
    \            \"rgba(245, 54, 54, 0.9)\"\n          ],\n          \"sparkline\"\
    : {\n            \"show\": false,\n            \"full\": false,\n            \"\
    lineColor\": \"rgb(31, 120, 193)\",\n            \"fillColor\": \"rgba(31, 118,\
    \ 189, 0.18)\"\n          },\n          \"gauge\": {\n            \"show\": true,\n\
    \            \"minValue\": 0,\n            \"maxValue\": 30,\n            \"thresholdMarkers\"\
    : true,\n            \"thresholdLabels\": false\n          }\n        }\n    \
    \  ]\n    },\n    {\n      \"collapse\": false,\n      \"editable\": true,\n \
    \     \"height\": \"250px\",\n      \"panels\": [\n        {\n          \"aliasColors\"\
    : {},\n          \"bars\": false,\n          \"datasource\": \"${DS_PROMETHEUS}\"\
    ,\n          \"editable\": true,\n          \"error\": false,\n          \"fill\"\
    : 1,\n          \"grid\": {\n            \"threshold1\": null,\n            \"\
    threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n            \"threshold2\":\
    \ null,\n            \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n    \
    \      },\n          \"id\": 1,\n          \"isNew\": true,\n          \"legend\"\
    : {\n            \"avg\": false,\n            \"current\": false,\n          \
    \  \"max\": false,\n            \"min\": false,\n            \"show\": true,\n\
    \            \"total\": false,\n            \"values\": false\n          },\n\
    \          \"lines\": true,\n          \"linewidth\": 2,\n          \"links\"\
    : [],\n          \"nullPointMode\": \"connected\",\n          \"percentage\":\
    \ false,\n          \"pointradius\": 5,\n          \"points\": false,\n      \
    \    \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"\
    span\": 12,\n          \"stack\": false,\n          \"steppedLine\": false,\n\
    \          \"targets\": [\n            {\n              \"expr\": \"count(count(container_start_time_seconds{io_kubernetes_pod_name!=\\\
    \"\\\"}) by (io_kubernetes_pod_name))\",\n              \"intervalFactor\": 2,\n\
    \              \"legendFormat\": \"\",\n              \"refId\": \"A\",\n    \
    \          \"step\": 20\n            }\n          ],\n          \"timeFrom\":\
    \ null,\n          \"timeShift\": null,\n          \"title\": \"Pods\",\n    \
    \      \"tooltip\": {\n            \"msResolution\": true,\n            \"shared\"\
    : true,\n            \"sort\": 0,\n            \"value_type\": \"cumulative\"\n\
    \          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n      \
    \      \"show\": true\n          },\n          \"yaxes\": [\n            {\n \
    \             \"format\": \"short\",\n              \"label\": null,\n       \
    \       \"logBase\": 1,\n              \"max\": null,\n              \"min\":\
    \ null,\n              \"show\": true\n            },\n            {\n       \
    \       \"format\": \"short\",\n              \"label\": null,\n             \
    \ \"logBase\": 1,\n              \"max\": null,\n              \"min\": null,\n\
    \              \"show\": true\n            }\n          ]\n        }\n      ],\n\
    \      \"title\": \"Row\"\n    }\n  ],\n  \"time\": {\n    \"from\": \"now-3h\"\
    ,\n    \"to\": \"now\"\n  },\n  \"timepicker\": {\n    \"refresh_intervals\":\
    \ [\n      \"5s\",\n      \"10s\",\n      \"30s\",\n      \"1m\",\n      \"5m\"\
    ,\n      \"15m\",\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"1d\"\n\
    \    ],\n    \"time_options\": [\n      \"5m\",\n      \"15m\",\n      \"1h\"\
    ,\n      \"6h\",\n      \"12h\",\n      \"24h\",\n      \"2d\",\n      \"7d\"\
    ,\n      \"30d\"\n    ]\n  },\n  \"templating\": {\n    \"list\": []\n  },\n \
    \ \"annotations\": {\n    \"list\": []\n  },\n  \"refresh\": \"5s\",\n  \"schemaVersion\"\
    : 12,\n  \"version\": 5,\n  \"links\": [],\n  \"gnetId\": null\n}"
