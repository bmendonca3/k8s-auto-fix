apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboard-definition-knative-eventing-resources
  namespace: openshift-config-managed
  labels:
    console.openshift.io/dashboard: 'true'
data:
  resource-dashboard.json: "{\n  \"__inputs\": [\n    {\n      \"description\": \"\
    \",\n      \"label\": \"prometheus\",\n      \"name\": \"prometheus\",\n     \
    \ \"pluginId\": \"prometheus\",\n      \"pluginName\": \"Prometheus\",\n     \
    \ \"type\": \"datasource\"\n    }\n  ],\n  \"annotations\": {\n    \"list\": []\n\
    \  },\n  \"description\": \"Knative Eventing - Source CPU, Memory and Network\
    \ Usage\",\n  \"editable\": false,\n  \"gnetId\": null,\n  \"graphTooltip\": 0,\n\
    \  \"links\": [],\n  \"panels\": [\n    {\n      \"collapsed\": true,\n      \"\
    gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n     \
    \   \"y\": 0\n      },\n      \"id\": 1,\n      \"panels\": [],\n      \"repeat\"\
    : null,\n      \"title\": \"Eventing Source Resources\",\n      \"type\": \"row\"\
    \n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"\
    dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"prometheus\"\
    ,\n      \"fill\": 1,\n      \"gridPos\": {\n        \"h\": 9,\n        \"w\"\
    : 12,\n        \"x\": 0,\n        \"y\": 0\n      },\n      \"id\": 2,\n     \
    \ \"legend\": {\n        \"avg\": false,\n        \"current\": false,\n      \
    \  \"max\": false,\n        \"min\": false,\n        \"show\": true,\n       \
    \ \"total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n\
    \      \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\": \"null\"\
    ,\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\":\
    \ false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n    \
    \  \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n\
    \      \"targets\": [\n        {\n          \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\
    \"$namespace\\\", pod=~\\\"$pod|k8s_POD_pingsource-mt-adapter-.+\\\", container\
    \ != \\\"POD\\\", container != \\\"\\\"}[1m])) by (container)\",\n          \"\
    format\": \"time_series\",\n          \"intervalFactor\": 1,\n          \"legendFormat\"\
    : \"{{container}}\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"\
    thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n   \
    \   \"title\": \"Total CPU Usage (avg/sec, over 1m window)\",\n      \"tooltip\"\
    : {\n        \"shared\": true,\n        \"sort\": 2,\n        \"value_type\":\
    \ \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n \
    \       \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n\
    \        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n\
    \        {\n          \"format\": \"s\",\n          \"label\": null,\n       \
    \   \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n    \
    \      \"show\": true\n        },\n        {\n          \"format\": \"short\"\
    ,\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
    \          \"min\": null,\n          \"show\": false\n        }\n      ]\n   \
    \ },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\"\
    : 10,\n      \"dashes\": false,\n      \"datasource\": \"prometheus\",\n     \
    \ \"fill\": 1,\n      \"gridPos\": {\n        \"h\": 9,\n        \"w\": 12,\n\
    \        \"x\": 12,\n        \"y\": 0\n      },\n      \"id\": 3,\n      \"legend\"\
    : {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n\
    \        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n\
    \        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\"\
    : 1,\n      \"links\": [],\n      \"nullPointMode\": \"null\",\n      \"percentage\"\
    : false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\"\
    : \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n    \
    \  \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n  \
    \      {\n          \"expr\": \"sum(container_memory_usage_bytes{namespace=\\\"\
    $namespace\\\", pod=~\\\"$pod|k8s_POD_pingsource-mt-adapter-.+\\\", container\
    \ != \\\"POD\\\", container != \\\"\\\"}) by (container)\",\n          \"format\"\
    : \"time_series\",\n          \"intervalFactor\": 1,\n          \"legendFormat\"\
    : \"{{container}}\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"\
    thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n   \
    \   \"title\": \"Total Memory Usage (bytes)\",\n      \"tooltip\": {\n       \
    \ \"shared\": true,\n        \"sort\": 2,\n        \"value_type\": \"individual\"\
    \n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\"\
    : null,\n        \"mode\": \"time\",\n        \"name\": null,\n        \"show\"\
    : true,\n        \"values\": []\n      },\n      \"yaxes\": [\n        {\n   \
    \       \"format\": \"decbytes\",\n          \"label\": null,\n          \"logBase\"\
    : 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\":\
    \ true\n        },\n        {\n          \"format\": \"short\",\n          \"\
    label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n        \
    \  \"min\": null,\n          \"show\": false\n        }\n      ]\n    },\n   \
    \ {\n        \"aliasColors\": {},\n        \"bars\": false,\n        \"dashLength\"\
    : 10,\n        \"dashes\": false,\n        \"datasource\": \"prometheus\",\n \
    \       \"description\": \"Network I/O at the pod level\",\n        \"fill\":\
    \ 1,\n        \"fillGradient\": 0,\n        \"gridPos\": {\n          \"h\": 9,\n\
    \          \"w\": 12,\n          \"x\": 0,\n          \"y\": 9\n        },\n \
    \       \"id\": 4,\n        \"legend\": {\n          \"avg\": false,\n       \
    \   \"current\": false,\n          \"max\": false,\n          \"min\": false,\n\
    \          \"show\": true,\n          \"total\": false,\n          \"values\"\
    : false\n        },\n        \"lines\": true,\n        \"linewidth\": 1,\n   \
    \     \"links\": [],\n        \"nullPointMode\": \"null\",\n        \"options\"\
    : {\n          \"dataLinks\": []\n        },\n        \"percentage\": false,\n\
    \        \"pointradius\": 5,\n        \"points\": false,\n        \"renderer\"\
    : \"flot\",\n        \"seriesOverrides\": [],\n        \"spaceLength\": 10,\n\
    \        \"stack\": false,\n        \"steppedLine\": false,\n        \"targets\"\
    : [\n         {\n            \"expr\": \"sum(rate(container_network_receive_bytes_total{namespace=\\\
    \"$namespace\\\", container=\\\"POD\\\", name=~\\\"k8s_POD_$pod.+|k8s_POD_pingsource-mt-adapter-.+\\\
    \"}[1m]))\",\n            \"format\": \"time_series\",\n            \"intervalFactor\"\
    : 1,\n            \"legendFormat\": \"received bytes\",\n            \"refId\"\
    : \"A\"\n          },\n          {\n            \"expr\": \"sum(rate(container_network_transmit_bytes_total{namespace=\\\
    \"$namespace\\\", container=\\\"POD\\\", name=~\\\"k8s_POD_$pod.+|k8s_POD_pingsource-mt-adapter-.+\\\
    \"}[1m]))\",\n            \"legendFormat\": \"transmitted bytes\",\n         \
    \   \"refId\": \"B\"\n          }\n        ],\n        \"thresholds\": [],\n \
    \       \"timeFrom\": null,\n        \"timeRegions\": [],\n        \"timeShift\"\
    : null,\n        \"title\": \"Total Network I/O (avg/sec, over 1m window)\",\n\
    \        \"tooltip\": {\n          \"shared\": true,\n          \"sort\": 2,\n\
    \          \"value_type\": \"individual\"\n        },\n        \"type\": \"graph\"\
    ,\n        \"xaxis\": {\n          \"buckets\": null,\n          \"mode\": \"\
    time\",\n          \"name\": null,\n          \"show\": true,\n          \"values\"\
    : []\n        },\n        \"yaxes\": [\n          {\n            \"format\": \"\
    decbytes\",\n            \"label\": null,\n            \"logBase\": 1,\n     \
    \           \"max\": null,\n                \"min\": null,\n                \"\
    show\": true\n          },\n          {\n            \"format\": \"short\",\n\
    \            \"label\": null,\n            \"logBase\": 1,\n            \"max\"\
    : null,\n            \"min\": null,\n            \"show\": false\n          }\n\
    \        ],\n        \"yaxis\": {\n              \"align\": false,\n         \
    \     \"alignLevel\": null\n        }\n      },\n      {\n        \"aliasColors\"\
    : {},\n        \"bars\": false,\n        \"dashLength\": 10,\n        \"dashes\"\
    : false,\n        \"datasource\": \"prometheus\",\n        \"description\": \"\
    Network I/O errors (avg/sec, over 1m window)\",\n        \"fill\": 1,\n      \
    \  \"fillGradient\": 0,\n        \"gridPos\": {\n          \"h\": 9,\n       \
    \   \"w\": 12,\n          \"x\": 12,\n          \"y\": 9\n        },\n       \
    \ \"id\": 5,\n        \"legend\": {\n          \"avg\": false,\n          \"current\"\
    : false,\n          \"max\": false,\n          \"min\": false,\n          \"show\"\
    : true,\n          \"total\": false,\n          \"values\": false\n        },\n\
    \        \"lines\": true,\n        \"linewidth\": 1,\n        \"links\": [],\n\
    \        \"nullPointMode\": \"null\",\n        \"options\": {\n          \"dataLinks\"\
    : []\n        },\n        \"percentage\": false,\n        \"pointradius\": 5,\n\
    \        \"points\": false,\n        \"renderer\": \"flot\",\n        \"seriesOverrides\"\
    : [],\n        \"spaceLength\": 10,\n        \"stack\": false,\n        \"steppedLine\"\
    : false,\n        \"targets\": [\n          {\n            \"expr\": \"sum(rate(container_network_receive_errors_total{namespace=\\\
    \"$namespace\\\", container=\\\"POD\\\", name=~\\\"k8s_POD_$pod.+|k8s_POD_pingsource-mt-adapter-.+\\\
    \"}[1m]))\",\n            \"format\": \"time_series\",\n            \"intervalFactor\"\
    : 1,\n            \"legendFormat\":  \"receive errors\",\n            \"refId\"\
    : \"A\"\n          },\n          {\n            \"expr\": \"sum(rate(container_network_transmit_errors_total{namespace=\\\
    \"$namespace\\\", container=\\\"POD\\\", name=~\\\"k8s_POD_$pod.+|k8s_POD_pingsource-mt-adapter-.+\\\
    \"}[1m]))\",\n            \"format\": \"time_series\",\n            \"instant\"\
    : false,\n            \"legendFormat\": \"transmit errors\",\n            \"refId\"\
    : \"B\"\n          }\n        ],\n        \"thresholds\": [],\n        \"timeFrom\"\
    : null,\n        \"timeRegions\": [],\n        \"timeShift\": null,\n        \"\
    title\": \"Total Network Errors (avg/sec, over 1m window)\",\n        \"tooltip\"\
    : {\n          \"shared\": true,\n          \"sort\": 2,\n          \"value_type\"\
    : \"individual\"\n        },\n        \"type\": \"graph\",\n        \"xaxis\"\
    : {\n          \"buckets\": null,\n          \"mode\": \"time\",\n          \"\
    name\": null,\n          \"show\": true,\n          \"values\": []\n        },\n\
    \        \"yaxes\": [\n          {\n            \"format\": \"none\",\n      \
    \      \"label\": \"\",\n            \"logBase\": 1,\n            \"max\": null,\n\
    \            \"min\": \"0\",\n            \"show\": true\n          },\n     \
    \     {\n            \"format\": \"short\",\n            \"label\": null,\n  \
    \          \"logBase\": 1,\n            \"max\": null,\n            \"min\": null,\n\
    \            \"show\": false\n          }\n        ],\n        \"yaxis\": {\n\
    \          \"align\": false,\n          \"alignLevel\": null\n        }\n    \
    \  }\n  ],\n  \"refresh\": \"5s\",\n  \"schemaVersion\": 16,\n  \"style\": \"\
    dark\",\n  \"tags\": [\"Knative\"],\n  \"templating\": {\n    \"list\": [\n  \
    \    {\n        \"allValue\": null,\n        \"current\": {},\n        \"datasource\"\
    : \"prometheus\",\n        \"hide\": 0,\n        \"includeAll\": false,\n    \
    \    \"label\": \"Namespace\",\n        \"multi\": false,\n        \"name\": \"\
    namespace\",\n        \"options\": [],\n        \"query\": \"label_values(kube_pod_labels{label_eventing_knative_dev_source=~\\\
    \".+\\\"}, namespace)\",\n        \"refresh\": 2,\n        \"regex\": \"\",\n\
    \        \"sort\": 1,\n        \"tagValuesQuery\": \"\",\n        \"tags\": [],\n\
    \        \"tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"useTags\"\
    : false\n      },\n      {\n        \"allValue\": null,\n        \"current\":\
    \ {},\n        \"datasource\": \"prometheus\",\n        \"hide\": 1,\n       \
    \ \"includeAll\": false,\n        \"label\": \"scontroller\",\n        \"multi\"\
    : false,\n        \"name\": \"scontroller\",\n        \"options\": [],\n     \
    \   \"query\": \"label_values(kube_pod_labels{label_eventing_knative_dev_source=~\\\
    \".+\\\", namespace=\\\"$namespace\\\"}, label_eventing_knative_dev_source)\"\
    ,\n        \"refresh\": 2,\n        \"regex\": \"\",\n        \"sort\": 1,\n \
    \       \"tagValuesQuery\": \"\",\n        \"tags\": [],\n        \"tagsQuery\"\
    : \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      },\n\
    \      {\n        \"allValue\": null,\n        \"current\": {},\n        \"datasource\"\
    : \"prometheus\",\n        \"hide\": 0,\n        \"includeAll\": false,\n    \
    \    \"label\": \"Source Type\",\n        \"multi\": false,\n        \"name\"\
    : \"SourceType\",\n        \"options\": [],\n        \"query\": \"label_values(label_replace(kube_pod_labels{namespace=\\\
    \"$namespace\\\", label_eventing_knative_dev_source=\\\"$scontroller\\\"}, \\\"\
    label_eventing_knative_dev_source\\\", \\\"$1$2\\\", \\\"label_eventing_knative_dev_source\\\
    \", \\\"(.+)-(.+)-(controller)\\\"), label_eventing_knative_dev_source)\",\n \
    \       \"refresh\": 2,\n        \"regex\": \"\",\n        \"sort\": 1,\n    \
    \    \"tagValuesQuery\": \"\",\n        \"tags\": [],\n        \"tagsQuery\":\
    \ \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      },\n\
    \      {\n        \"allValue\": null,\n        \"current\": {},\n        \"datasource\"\
    : \"prometheus\",\n        \"hide\": 1,\n        \"includeAll\": false,\n    \
    \    \"label\": \"Sprefix\",\n        \"multi\": false,\n        \"name\": \"\
    sprefix\",\n        \"options\": [],\n        \"query\": \"label_values(label_replace(kube_pod_labels{namespace=\\\
    \"$namespace\\\", label_eventing_knative_dev_source=\\\"$scontroller\\\"}, \\\"\
    label_eventing_knative_dev_source\\\", \\\"$1$2\\\", \\\"label_eventing_knative_dev_source\\\
    \", \\\"(.+)-(.+)-(controller)\\\"), label_eventing_knative_dev_source)\",\n \
    \       \"refresh\": 2,\n        \"regex\": \"\",\n        \"sort\": 1,\n    \
    \    \"tagValuesQuery\": \"\",\n        \"tags\": [],\n        \"tagsQuery\":\
    \ \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      },\n\
    \      {\n        \"allValue\": null,\n        \"current\": {},\n        \"datasource\"\
    : \"prometheus\",\n        \"hide\": 0,\n        \"includeAll\": false,\n    \
    \    \"label\": \"SourceName\",\n        \"multi\": false,\n        \"name\":\
    \ \"nameofSource\",\n        \"options\": [],\n        \"query\": \"label_values(kube_pod_labels{label_eventing_knative_dev_sourceName=~\\\
    \".+\\\", label_eventing_knative_dev_source_name=\\\"\\\", namespace=\\\"$namespace\\\
    \", label_eventing_knative_dev_source=\\\"$scontroller\\\"}, label_eventing_knative_dev_sourceName)\"\
    ,\n        \"refresh\": 2,\n        \"regex\": \"\",\n        \"sort\": 2,\n \
    \       \"tagValuesQuery\": \"\",\n        \"tags\": [],\n        \"tagsQuery\"\
    : \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      },\n\
    \      {\n        \"allValue\": null,\n        \"current\": {},\n        \"datasource\"\
    : \"prometheus\",\n        \"hide\": 0,\n        \"includeAll\": false,\n    \
    \    \"label\": \"SourceName\",\n        \"multi\": false,\n        \"name\":\
    \ \"sourceName\",\n        \"options\": [],\n        \"query\": \"label_values(kube_pod_labels{label_eventing_knative_dev_source_name=~\\\
    \".+\\\", label_eventing_knative_dev_sourceName=\\\"\\\", namespace=\\\"$namespace\\\
    \", label_eventing_knative_dev_source=\\\"$scontroller\\\"}, label_eventing_knative_dev_source_name)\"\
    ,\n        \"refresh\": 2,\n        \"regex\": \"\",\n        \"sort\": 2,\n \
    \       \"tagValuesQuery\": \"\",\n        \"tags\": [],\n        \"tagsQuery\"\
    : \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      },\n\
    \      {\n        \"allValue\": null,\n        \"current\": {},\n        \"datasource\"\
    : \"prometheus\",\n        \"hide\": 1,\n        \"includeAll\": false,\n    \
    \    \"label\": \"SourcePodName\",\n        \"multi\": false,\n        \"name\"\
    : \"pod\",\n        \"options\": [],\n        \"query\": \"label_values(kube_pod_labels{label_eventing_knative_dev_source_name=\\\
    \"$sourceName\\\", label_eventing_knative_dev_sourceName=\\\"\\\", namespace=\\\
    \"$namespace\\\", label_eventing_knative_dev_source=\\\"$scontroller\\\"} or kube_pod_labels{label_eventing_knative_dev_sourceName=\\\
    \"$nameofSource\\\", label_eventing_knative_dev_source_name=\\\"\\\", namespace=\\\
    \"$namespace\\\", label_eventing_knative_dev_source=\\\"$scontroller\\\"}, pod)\"\
    ,\n        \"refresh\": 2,\n        \"regex\": \"\",\n        \"sort\": 2,\n \
    \       \"tagValuesQuery\": \"\",\n        \"tags\": [],\n        \"tagsQuery\"\
    : \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n      }\n \
    \   ]\n  },\n  \"time\": {\n    \"from\": \"now-15m\",\n    \"to\": \"now\"\n\
    \  },\n  \"timepicker\": {\n    \"refresh_intervals\": [\n      \"5s\",\n    \
    \  \"10s\",\n      \"30s\",\n      \"1m\",\n      \"5m\",\n      \"15m\",\n  \
    \    \"30m\",\n      \"1h\",\n      \"2h\",\n      \"1d\"\n    ],\n    \"time_options\"\
    : [\n      \"5m\",\n      \"15m\",\n      \"1h\",\n      \"6h\",\n      \"12h\"\
    ,\n      \"24h\",\n      \"2d\",\n      \"7d\",\n      \"30d\"\n    ]\n  },\n\
    \  \"timezone\": \"\",\n  \"title\": \"Knative Eventing - Source CPU, Memory and\
    \ Network Usage\",\n  \"uid\": \"bKOoE9Wmk\",\n  \"version\": 4\n}"
