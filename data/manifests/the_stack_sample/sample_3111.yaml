apiVersion: v1
kind: Pod
metadata:
  name: kafka-bench-consumer
spec:
  imagePullSecrets:
  - name: kar.ibm.com.image-pull
  containers:
  - name: consumer
    image: quay.io/ibm/kar-kafka-bench
    command:
    - /kar/bin/consumer
    env:
    - name: KAFKA_BROKERS
      valueFrom:
        secretKeyRef:
          name: kar.ibm.com.runtime-config
          key: kafka_brokers
    - name: KAFKA_ENABLE_TLS
      valueFrom:
        secretKeyRef:
          name: kar.ibm.com.runtime-config
          key: kafka_enable_tls
    - name: KAFKA_PASSWORD
      valueFrom:
        secretKeyRef:
          name: kar.ibm.com.runtime-config
          key: kafka_password
    - name: KAFKA_VERSION
      valueFrom:
        secretKeyRef:
          name: kar.ibm.com.runtime-config
          key: kafka_version
