apiVersion: v1
kind: ConfigMap
metadata:
  name: adapter-config
  namespace: custom-metrics
data:
  config.yaml: "rules:\n\n# rule for products backend service\n- seriesQuery: '{__name__=~\"\
    ^.*_http_requests_total\"}'\n  resources:\n    overrides:\n      namespace: {resource:\
    \ \"namespace\"}\n      pod: {resource: \"pod\"}\n  name:\n    matches: \"^(.*)_http_requests_total\"\
    \n    as: \"${1}_http_requests_total_per_second\"\n  metricsQuery: 'sum(rate(<<.Series>>{<<.LabelMatchers>>,http_url!=\"\
    \"}[1m])) by (<<.GroupBy>>)'"
