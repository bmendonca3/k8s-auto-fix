apiVersion: v1
kind: ConfigMap
metadata:
  name: traefik-config
  namespace: admin
data:
  dynamic.yml: "http:\n  middlewares:\n    basic:\n      basicAuth:\n        users:\
    \ [\"${traefik_basic_auth_credentials_hash}\"]\n\n    localOnly:\n      ipWhiteList:\n\
    \        sourceRange:\n          - \"${network_subnet}\"\n          - 10.42.0.1/16\n\
    \n  routers:\n    api:\n      rule: \"Host(`traefik.${domain}`)\"\n      entrypoints:\
    \ [\"websecure\"]\n      service: \"api@internal\"\n      middlewares:\n     \
    \   - \"localOnly@file\"\n        - \"admin-forwardauth-authelia@kubernetescrd\""
