apiVersion: v1
kind: ConfigMap
metadata:
  name: trial-template
  labels:
    app: katib-trial-templates
data:
  defaultTrialTemplate.yaml: "apiVersion: batch/v1\nkind: Job\nspec:\n  template:\n\
    \    spec:\n      containers:\n        - name: training-container\n          image:\
    \ docker.io/kubeflowkatib/mxnet-mnist:v1beta1-91e4996\n          command:\n  \
    \          - \"python3\"\n            - \"/opt/mxnet-mnist/mnist.py\"\n      \
    \      - \"--batch-size=64\"\n            - \"--lr=${trialParameters.learningRate}\"\
    \n            - \"--num-layers=${trialParameters.numberLayers}\"\n           \
    \ - \"--optimizer=${trialParameters.optimizer}\"\n      restartPolicy: Never"
  enasCPUTemplate: "apiVersion: batch/v1\nkind: Job\nspec:\n  template:\n    spec:\n\
    \      containers:\n        - name: training-container\n          image: docker.io/kubeflowkatib/enas-cnn-cifar10-cpu:v1beta1-91e4996\n\
    \          command:\n            - python3\n            - -u\n            - RunTrial.py\n\
    \            - --num_epochs=1\n            - \"--architecture=\\\"${trialParameters.neuralNetworkArchitecture}\\\
    \"\"\n            - \"--nn_config=\\\"${trialParameters.neuralNetworkConfig}\\\
    \"\"\n      restartPolicy: Never"
  pytorchJobTemplate: "apiVersion: \"kubeflow.org/v1\"\nkind: PyTorchJob\nspec:\n\
    \  pytorchReplicaSpecs:\n    Master:\n      replicas: 1\n      restartPolicy:\
    \ OnFailure\n      template:\n        spec:\n          containers:\n         \
    \   - name: pytorch\n              image: gcr.io/kubeflow-ci/pytorch-dist-mnist-test:v1.0\n\
    \              imagePullPolicy: Always\n              command:\n             \
    \   - \"python\"\n                - \"/var/mnist.py\"\n                - \"--lr=${trialParameters.learningRate}\"\
    \n                - \"--momentum=${trialParameters.momentum}\"\n    Worker:\n\
    \      replicas: 2\n      restartPolicy: OnFailure\n      template:\n        spec:\n\
    \          containers:\n            - name: pytorch\n              image: gcr.io/kubeflow-ci/pytorch-dist-mnist-test:v1.0\n\
    \              imagePullPolicy: Always\n              command:\n             \
    \   - \"python\"\n                - \"/var/mnist.py\"\n                - \"--lr=${trialParameters.learningRate}\"\
    \n                - \"--momentum=${trialParameters.momentum}\""
