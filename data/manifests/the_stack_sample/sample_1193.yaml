apiVersion: v1
kind: Service
metadata:
  name: fluentd-aggregator
  namespace: logging
  labels:
    k8s-app: fluentd-aggregator
spec:
  type: ClusterIP
  selector:
    k8s-app: fluentd-aggregator
  ports:
  - name: fluentd-input
    port: 24224
    targetPort: fwd-input
    protocol: TCP
  - name: fluentd-input-udp
    port: 24224
    targetPort: fwd-input-udp
    protocol: UDP
  - name: prometheus-metrics
    port: 24231
    targetPort: prom-metrics
    protocol: TCP
  - name: monitor-agent
    port: 24220
    targetPort: monitor-agent
    protocol: TCP
