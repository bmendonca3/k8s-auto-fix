apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboard-realtime
  namespace: default
data:
  realtime.json: "{\n  \"annotations\": {\n    \"list\": [\n      {\n        \"builtIn\"\
    : 1,\n        \"datasource\": \"prometheus\",\n        \"enable\": true,\n   \
    \     \"hide\": true,\n        \"iconColor\": \"rgba(0, 211, 255, 1)\",\n    \
    \    \"name\": \"Annotations & Alerts\",\n        \"type\": \"dashboard\"\n  \
    \    }\n    ]\n  },\n  \"editable\": true,\n  \"gnetId\": null,\n  \"graphTooltip\"\
    : 0,\n  \"iteration\": 1625175811197,\n  \"links\": [],\n  \"panels\": [\n   \
    \ {\n      \"datasource\": null,\n      \"gridPos\": {\n        \"h\": 2,\n  \
    \      \"w\": 24,\n        \"x\": 0,\n        \"y\": 0\n      },\n      \"id\"\
    : 15,\n      \"options\": {\n        \"content\": \"<h1 style=\\\"text-align:\
    \ center\\\">RealtimeAPI</h1>\",\n        \"mode\": \"markdown\"\n      },\n \
    \     \"pluginVersion\": \"8.0.4\",\n      \"timeFrom\": null,\n      \"timeShift\"\
    : null,\n      \"transparent\": true,\n      \"type\": \"text\"\n    },\n    {\n\
    \      \"collapsed\": false,\n      \"datasource\": null,\n      \"gridPos\":\
    \ {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\":\
    \ 2\n      },\n      \"id\": 22,\n      \"panels\": [],\n      \"title\": \"API\
    \ Stats\",\n      \"type\": \"row\"\n    },\n    {\n      \"aliasColors\": {},\n\
    \      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n\
    \      \"datasource\": null,\n      \"description\": \"Request rate, computed\
    \ over every minute, of an API\",\n      \"fill\": 1,\n      \"fillGradient\"\
    : 0,\n      \"gridPos\": {\n        \"h\": 9,\n        \"w\": 12,\n        \"\
    x\": 0,\n        \"y\": 3\n      },\n      \"hiddenSeries\": false,\n      \"\
    id\": 2,\n      \"legend\": {\n        \"alignAsTable\": true,\n        \"avg\"\
    : true,\n        \"current\": true,\n        \"max\": true,\n        \"min\":\
    \ true,\n        \"rightSide\": false,\n        \"show\": true,\n        \"total\"\
    : false,\n        \"values\": true\n      },\n      \"lines\": true,\n      \"\
    linewidth\": 1,\n      \"nullPointMode\": \"null\",\n      \"options\": {\n  \
    \      \"alertThreshold\": true\n      },\n      \"percentage\": false,\n    \
    \  \"pluginVersion\": \"8.0.4\",\n      \"pointradius\": 2,\n      \"points\"\
    : false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n    \
    \  \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n\
    \      \"targets\": [\n        {\n          \"exemplar\": true,\n          \"\
    expr\": \"sum (rate(istio_requests_total{destination_service=~\\\"api-$api_name.+\\\
    \"}[1m])) by (destination_service)\",\n          \"interval\": \"\",\n       \
    \   \"legendFormat\": \"{{destination_service}}\",\n          \"refId\": \"Request\
    \ Rate\"\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\":\
    \ null,\n      \"timeRegions\": [],\n      \"timeShift\": null,\n      \"title\"\
    : \"Request Rate\",\n      \"tooltip\": {\n        \"shared\": true,\n       \
    \ \"sort\": 0,\n        \"value_type\": \"individual\"\n      },\n      \"transformations\"\
    : [\n        {\n          \"id\": \"renameByRegex\",\n          \"options\": {\n\
    \            \"regex\": \"([^\\\\.]+)\\\\..+\",\n            \"renamePattern\"\
    : \"$1\"\n          }\n        },\n        {\n          \"id\": \"renameByRegex\"\
    ,\n          \"options\": {\n            \"regex\": \"api-(.*)\",\n          \
    \  \"renamePattern\": \"$1\"\n          }\n        }\n      ],\n      \"type\"\
    : \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\"\
    : \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\"\
    : []\n      },\n      \"yaxes\": [\n        {\n          \"format\": \"reqps\"\
    ,\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
    \          \"min\": \"0\",\n          \"show\": true\n        },\n        {\n\
    \          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\"\
    : 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\":\
    \ true\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n \
    \       \"alignLevel\": null\n      }\n    },\n    {\n      \"aliasColors\": {},\n\
    \      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n\
    \      \"datasource\": null,\n      \"description\": \"Active in-flight requests\
    \ for an API.\\n\\nNote: In-flight requests are recorded every 10 seconds, which\
    \ will correspond to the minimum resolution.\",\n      \"fill\": 1,\n      \"\
    fillGradient\": 0,\n      \"gridPos\": {\n        \"h\": 9,\n        \"w\": 12,\n\
    \        \"x\": 12,\n        \"y\": 3\n      },\n      \"hiddenSeries\": false,\n\
    \      \"id\": 4,\n      \"legend\": {\n        \"alignAsTable\": true,\n    \
    \    \"avg\": true,\n        \"current\": true,\n        \"max\": true,\n    \
    \    \"min\": true,\n        \"show\": true,\n        \"total\": false,\n    \
    \    \"values\": true\n      },\n      \"lines\": true,\n      \"linewidth\":\
    \ 1,\n      \"nullPointMode\": \"null\",\n      \"options\": {\n        \"alertThreshold\"\
    : true\n      },\n      \"percentage\": false,\n      \"pluginVersion\": \"8.0.4\"\
    ,\n      \"pointradius\": 2,\n      \"points\": false,\n      \"renderer\": \"\
    flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"\
    stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n       \
    \ {\n          \"expr\": \"sum(cortex_in_flight_requests{api_name=~\\\"$api_name\\\
    \"}) by (api_name)\",\n          \"interval\": \"\",\n          \"legendFormat\"\
    : \"{{api_name}}\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"\
    thresholds\": [],\n      \"timeFrom\": null,\n      \"timeRegions\": [],\n   \
    \   \"timeShift\": null,\n      \"title\": \"In-Flight Requests\",\n      \"tooltip\"\
    : {\n        \"shared\": true,\n        \"sort\": 0,\n        \"value_type\":\
    \ \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n \
    \       \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n\
    \        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n\
    \        {\n          \"decimals\": 0,\n          \"format\": \"short\",\n   \
    \       \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
    \          \"min\": \"0\",\n          \"show\": true\n        },\n        {\n\
    \          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\"\
    : 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\":\
    \ true\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n \
    \       \"alignLevel\": null\n      }\n    },\n    {\n      \"aliasColors\": {},\n\
    \      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n\
    \      \"datasource\": null,\n      \"description\": \"Request rate, computed\
    \ over every minute, for responses with status code 2XX of an API\",\n      \"\
    fill\": 1,\n      \"fillGradient\": 0,\n      \"gridPos\": {\n        \"h\": 9,\n\
    \        \"w\": 12,\n        \"x\": 0,\n        \"y\": 12\n      },\n      \"\
    hiddenSeries\": false,\n      \"id\": 8,\n      \"legend\": {\n        \"alignAsTable\"\
    : true,\n        \"avg\": true,\n        \"current\": true,\n        \"max\":\
    \ true,\n        \"min\": true,\n        \"rightSide\": false,\n        \"show\"\
    : true,\n        \"total\": false,\n        \"values\": true\n      },\n     \
    \ \"lines\": true,\n      \"linewidth\": 1,\n      \"nullPointMode\": \"null\"\
    ,\n      \"options\": {\n        \"alertThreshold\": true\n      },\n      \"\
    percentage\": false,\n      \"pluginVersion\": \"8.0.4\",\n      \"pointradius\"\
    : 2,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
    : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
    : false,\n      \"targets\": [\n        {\n          \"exemplar\": true,\n   \
    \       \"expr\": \"sum(rate(istio_requests_total{destination_service=~\\\"api-$api_name.+\\\
    \", response_code=~\\\"2.+\\\"}[1m])) by (destination_service, response_code)\"\
    ,\n          \"interval\": \"\",\n          \"legendFormat\": \"{{destination_service}}\"\
    ,\n          \"refId\": \"2XX\"\n        }\n      ],\n      \"thresholds\": [],\n\
    \      \"timeFrom\": null,\n      \"timeRegions\": [],\n      \"timeShift\": null,\n\
    \      \"title\": \"2XX Responses\",\n      \"tooltip\": {\n        \"shared\"\
    : true,\n        \"sort\": 0,\n        \"value_type\": \"individual\"\n      },\n\
    \      \"transformations\": [\n        {\n          \"id\": \"renameByRegex\"\
    ,\n          \"options\": {\n            \"regex\": \"([^\\\\.]+)\\\\..+\",\n\
    \            \"renamePattern\": \"$1\"\n          }\n        },\n        {\n \
    \         \"id\": \"renameByRegex\",\n          \"options\": {\n            \"\
    regex\": \"api-(.*)\",\n            \"renamePattern\": \"$1\"\n          }\n \
    \       }\n      ],\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"\
    buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n     \
    \   \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n  \
    \      {\n          \"$$hashKey\": \"object:1217\",\n          \"format\": \"\
    reqps\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"\
    max\": null,\n          \"min\": \"0\",\n          \"show\": true\n        },\n\
    \        {\n          \"$$hashKey\": \"object:1218\",\n          \"format\": \"\
    short\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"\
    max\": null,\n          \"min\": null,\n          \"show\": true\n        }\n\
    \      ],\n      \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\"\
    : null\n      }\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n\
    \      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": null,\n\
    \      \"fill\": 1,\n      \"fillGradient\": 0,\n      \"gridPos\": {\n      \
    \  \"h\": 9,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 12\n    \
    \  },\n      \"hiddenSeries\": false,\n      \"id\": 7,\n      \"legend\": {\n\
    \        \"alignAsTable\": true,\n        \"avg\": true,\n        \"current\"\
    : true,\n        \"max\": true,\n        \"min\": true,\n        \"show\": true,\n\
    \        \"total\": false,\n        \"values\": true\n      },\n      \"lines\"\
    : true,\n      \"linewidth\": 1,\n      \"nullPointMode\": \"null\",\n      \"\
    options\": {\n        \"alertThreshold\": true\n      },\n      \"percentage\"\
    : false,\n      \"pluginVersion\": \"8.0.4\",\n      \"pointradius\": 2,\n   \
    \   \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
    : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
    : false,\n      \"targets\": [\n        {\n          \"expr\": \"count(cortex_in_flight_requests{api_name=~\\\
    \"$api_name\\\"}) by (api_name)\",\n          \"interval\": \"\",\n          \"\
    legendFormat\": \"{{api_name}}\",\n          \"refId\": \"Active Replicas\"\n\
    \        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n \
    \     \"timeRegions\": [],\n      \"timeShift\": null,\n      \"title\": \"Active\
    \ Replicas\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\"\
    : 0,\n        \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\"\
    ,\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\"\
    ,\n        \"name\": null,\n        \"show\": true,\n        \"values\": []\n\
    \      },\n      \"yaxes\": [\n        {\n          \"$$hashKey\": \"object:236\"\
    ,\n          \"decimals\": 0,\n          \"format\": \"short\",\n          \"\
    label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n        \
    \  \"min\": \"0\",\n          \"show\": true\n        },\n        {\n        \
    \  \"$$hashKey\": \"object:237\",\n          \"format\": \"short\",\n        \
    \  \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n   \
    \       \"min\": null,\n          \"show\": true\n        }\n      ],\n      \"\
    yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n      }\n\
    \    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\"\
    : 10,\n      \"dashes\": false,\n      \"datasource\": null,\n      \"description\"\
    : \"Request rate, computed over every minute, for responses with status code 4XX\
    \ of an API\",\n      \"fill\": 1,\n      \"fillGradient\": 0,\n      \"gridPos\"\
    : {\n        \"h\": 9,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\":\
    \ 21\n      },\n      \"hiddenSeries\": false,\n      \"id\": 9,\n      \"legend\"\
    : {\n        \"alignAsTable\": true,\n        \"avg\": true,\n        \"current\"\
    : true,\n        \"max\": true,\n        \"min\": true,\n        \"rightSide\"\
    : false,\n        \"show\": true,\n        \"total\": false,\n        \"values\"\
    : true\n      },\n      \"lines\": true,\n      \"linewidth\": 1,\n      \"nullPointMode\"\
    : \"null\",\n      \"options\": {\n        \"alertThreshold\": true\n      },\n\
    \      \"percentage\": false,\n      \"pluginVersion\": \"8.0.4\",\n      \"pointradius\"\
    : 2,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
    : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
    : false,\n      \"targets\": [\n        {\n          \"exemplar\": true,\n   \
    \       \"expr\": \"sum(rate(istio_requests_total{destination_service=~\\\"api-$api_name.+\\\
    \", response_code=~\\\"4.+\\\"}[1m])) by (destination_service, response_code)\"\
    ,\n          \"interval\": \"\",\n          \"legendFormat\": \"{{destination_service}}\"\
    ,\n          \"refId\": \"4XX\"\n        }\n      ],\n      \"thresholds\": [],\n\
    \      \"timeFrom\": null,\n      \"timeRegions\": [],\n      \"timeShift\": null,\n\
    \      \"title\": \"4XX Responses\",\n      \"tooltip\": {\n        \"shared\"\
    : true,\n        \"sort\": 0,\n        \"value_type\": \"individual\"\n      },\n\
    \      \"transformations\": [\n        {\n          \"id\": \"renameByRegex\"\
    ,\n          \"options\": {\n            \"regex\": \"([^\\\\.]+)\\\\..+\",\n\
    \            \"renamePattern\": \"$1\"\n          }\n        },\n        {\n \
    \         \"id\": \"renameByRegex\",\n          \"options\": {\n            \"\
    regex\": \"api-(.*)\",\n            \"renamePattern\": \"$1\"\n          }\n \
    \       }\n      ],\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"\
    buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n     \
    \   \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n  \
    \      {\n          \"format\": \"reqps\",\n          \"label\": null,\n     \
    \     \"logBase\": 1,\n          \"max\": null,\n          \"min\": \"0\",\n \
    \         \"show\": true\n        },\n        {\n          \"format\": \"short\"\
    ,\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
    \          \"min\": null,\n          \"show\": true\n        }\n      ],\n   \
    \   \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n  \
    \    }\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n  \
    \    \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": null,\n\
    \      \"description\": \"Request rate, computed over every minute, for responses\
    \ with status code 5XX of an API\",\n      \"fill\": 1,\n      \"fillGradient\"\
    : 0,\n      \"gridPos\": {\n        \"h\": 9,\n        \"w\": 12,\n        \"\
    x\": 12,\n        \"y\": 21\n      },\n      \"hiddenSeries\": false,\n      \"\
    id\": 10,\n      \"legend\": {\n        \"alignAsTable\": true,\n        \"avg\"\
    : true,\n        \"current\": true,\n        \"max\": true,\n        \"min\":\
    \ true,\n        \"rightSide\": false,\n        \"show\": true,\n        \"total\"\
    : false,\n        \"values\": true\n      },\n      \"lines\": true,\n      \"\
    linewidth\": 1,\n      \"nullPointMode\": \"null\",\n      \"options\": {\n  \
    \      \"alertThreshold\": true\n      },\n      \"percentage\": false,\n    \
    \  \"pluginVersion\": \"8.0.4\",\n      \"pointradius\": 2,\n      \"points\"\
    : false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n    \
    \  \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n\
    \      \"targets\": [\n        {\n          \"exemplar\": true,\n          \"\
    expr\": \"sum(rate(istio_requests_total{destination_service=~\\\"api-$api_name.+\\\
    \", response_code=~\\\"5.+\\\"}[1m])) by (destination_service, response_code)\"\
    ,\n          \"interval\": \"\",\n          \"legendFormat\": \"{{destination_service}}\"\
    ,\n          \"refId\": \"5XX\"\n        }\n      ],\n      \"thresholds\": [],\n\
    \      \"timeFrom\": null,\n      \"timeRegions\": [],\n      \"timeShift\": null,\n\
    \      \"title\": \"5XX Responses\",\n      \"tooltip\": {\n        \"shared\"\
    : true,\n        \"sort\": 0,\n        \"value_type\": \"individual\"\n      },\n\
    \      \"transformations\": [\n        {\n          \"id\": \"renameByRegex\"\
    ,\n          \"options\": {\n            \"regex\": \"([^\\\\.]+)\\\\..+\",\n\
    \            \"renamePattern\": \"$1\"\n          }\n        },\n        {\n \
    \         \"id\": \"renameByRegex\",\n          \"options\": {\n            \"\
    regex\": \"api-(.*)\",\n            \"renamePattern\": \"$1\"\n          }\n \
    \       }\n      ],\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"\
    buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n     \
    \   \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n  \
    \      {\n          \"format\": \"reqps\",\n          \"label\": null,\n     \
    \     \"logBase\": 1,\n          \"max\": null,\n          \"min\": \"0\",\n \
    \         \"show\": true\n        },\n        {\n          \"format\": \"short\"\
    ,\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
    \          \"min\": null,\n          \"show\": true\n        }\n      ],\n   \
    \   \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n  \
    \    }\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n  \
    \    \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": null,\n\
    \      \"description\": \"99th percentile latency, computed over a minute, for\
    \ an API\",\n      \"fill\": 1,\n      \"fillGradient\": 0,\n      \"gridPos\"\
    : {\n        \"h\": 9,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\":\
    \ 30\n      },\n      \"hiddenSeries\": false,\n      \"id\": 6,\n      \"legend\"\
    : {\n        \"alignAsTable\": true,\n        \"avg\": true,\n        \"current\"\
    : true,\n        \"max\": true,\n        \"min\": true,\n        \"show\": true,\n\
    \        \"total\": false,\n        \"values\": true\n      },\n      \"lines\"\
    : true,\n      \"linewidth\": 1,\n      \"nullPointMode\": \"null\",\n      \"\
    options\": {\n        \"alertThreshold\": true\n      },\n      \"percentage\"\
    : false,\n      \"pluginVersion\": \"8.0.4\",\n      \"pointradius\": 2,\n   \
    \   \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
    : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
    : false,\n      \"targets\": [\n        {\n          \"exemplar\": true,\n   \
    \       \"expr\": \"histogram_quantile(0.99, sum by (destination_service, le)\
    \ (rate(istio_request_duration_milliseconds_bucket{destination_service=~\\\"api-$api_name.+\\\
    \"}[1m])))\",\n          \"interval\": \"\",\n          \"legendFormat\": \"{{destination_service}}\"\
    ,\n          \"refId\": \"A\"\n        }\n      ],\n      \"thresholds\": [],\n\
    \      \"timeFrom\": null,\n      \"timeRegions\": [],\n      \"timeShift\": null,\n\
    \      \"title\": \"p99 Latency\",\n      \"tooltip\": {\n        \"shared\":\
    \ true,\n        \"sort\": 0,\n        \"value_type\": \"individual\"\n      },\n\
    \      \"transformations\": [\n        {\n          \"id\": \"renameByRegex\"\
    ,\n          \"options\": {\n            \"regex\": \"([^\\\\.]+)\\\\..+\",\n\
    \            \"renamePattern\": \"$1\"\n          }\n        },\n        {\n \
    \         \"id\": \"renameByRegex\",\n          \"options\": {\n            \"\
    regex\": \"api-(.*)\",\n            \"renamePattern\": \"$1\"\n          }\n \
    \       }\n      ],\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"\
    buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n     \
    \   \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n  \
    \      {\n          \"$$hashKey\": \"object:1302\",\n          \"format\": \"\
    ms\",\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\"\
    : null,\n          \"min\": \"0\",\n          \"show\": true\n        },\n   \
    \     {\n          \"$$hashKey\": \"object:1303\",\n          \"format\": \"short\"\
    ,\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
    \          \"min\": null,\n          \"show\": true\n        }\n      ],\n   \
    \   \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n  \
    \    }\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n  \
    \    \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": null,\n\
    \      \"description\": \"90th percentile latency, computed over a minute, for\
    \ an API\",\n      \"fill\": 1,\n      \"fillGradient\": 0,\n      \"gridPos\"\
    : {\n        \"h\": 9,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\"\
    : 30\n      },\n      \"hiddenSeries\": false,\n      \"id\": 11,\n      \"legend\"\
    : {\n        \"alignAsTable\": true,\n        \"avg\": true,\n        \"current\"\
    : true,\n        \"max\": true,\n        \"min\": true,\n        \"show\": true,\n\
    \        \"total\": false,\n        \"values\": true\n      },\n      \"lines\"\
    : true,\n      \"linewidth\": 1,\n      \"nullPointMode\": \"null\",\n      \"\
    options\": {\n        \"alertThreshold\": true\n      },\n      \"percentage\"\
    : false,\n      \"pluginVersion\": \"8.0.4\",\n      \"pointradius\": 2,\n   \
    \   \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
    : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
    : false,\n      \"targets\": [\n        {\n          \"exemplar\": true,\n   \
    \       \"expr\": \"histogram_quantile(0.90, sum by (destination_service, le)\
    \ (rate(istio_request_duration_milliseconds_bucket{destination_service=~\\\"api-$api_name.+\\\
    \"}[1m])))\",\n          \"hide\": false,\n          \"interval\": \"\",\n   \
    \       \"legendFormat\": \"{{destination_service}}\",\n          \"refId\": \"\
    B\"\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n\
    \      \"timeRegions\": [],\n      \"timeShift\": null,\n      \"title\": \"p90\
    \ Latency\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\"\
    : 0,\n        \"value_type\": \"individual\"\n      },\n      \"transformations\"\
    : [\n        {\n          \"id\": \"renameByRegex\",\n          \"options\": {\n\
    \            \"regex\": \"([^\\\\.]+)\\\\..+\",\n            \"renamePattern\"\
    : \"$1\"\n          }\n        },\n        {\n          \"id\": \"renameByRegex\"\
    ,\n          \"options\": {\n            \"regex\": \"api-(.*)\",\n          \
    \  \"renamePattern\": \"$1\"\n          }\n        }\n      ],\n      \"type\"\
    : \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\"\
    : \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\"\
    : []\n      },\n      \"yaxes\": [\n        {\n          \"format\": \"ms\",\n\
    \          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
    \          \"min\": \"0\",\n          \"show\": true\n        },\n        {\n\
    \          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\"\
    : 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\":\
    \ true\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n \
    \       \"alignLevel\": null\n      }\n    },\n    {\n      \"aliasColors\": {},\n\
    \      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n\
    \      \"datasource\": null,\n      \"description\": \"50th percentile latency,\
    \ computed over a minute, for an API\",\n      \"fill\": 1,\n      \"fillGradient\"\
    : 0,\n      \"gridPos\": {\n        \"h\": 9,\n        \"w\": 12,\n        \"\
    x\": 0,\n        \"y\": 39\n      },\n      \"hiddenSeries\": false,\n      \"\
    id\": 16,\n      \"legend\": {\n        \"alignAsTable\": true,\n        \"avg\"\
    : true,\n        \"current\": true,\n        \"max\": true,\n        \"min\":\
    \ true,\n        \"show\": true,\n        \"total\": false,\n        \"values\"\
    : true\n      },\n      \"lines\": true,\n      \"linewidth\": 1,\n      \"nullPointMode\"\
    : \"null\",\n      \"options\": {\n        \"alertThreshold\": true\n      },\n\
    \      \"percentage\": false,\n      \"pluginVersion\": \"8.0.4\",\n      \"pointradius\"\
    : 2,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
    : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
    : false,\n      \"targets\": [\n        {\n          \"exemplar\": true,\n   \
    \       \"expr\": \"histogram_quantile(0.50, sum by (destination_service, le)\
    \ (rate(istio_request_duration_milliseconds_bucket{destination_service=~\\\"api-$api_name.+\\\
    \"}[1m])))\",\n          \"hide\": false,\n          \"interval\": \"\",\n   \
    \       \"legendFormat\": \"{{destination_service}}\",\n          \"refId\": \"\
    B\"\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n\
    \      \"timeRegions\": [],\n      \"timeShift\": null,\n      \"title\": \"p50\
    \ Latency\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"sort\"\
    : 0,\n        \"value_type\": \"individual\"\n      },\n      \"transformations\"\
    : [\n        {\n          \"id\": \"renameByRegex\",\n          \"options\": {\n\
    \            \"regex\": \"([^\\\\.]+)\\\\..+\",\n            \"renamePattern\"\
    : \"$1\"\n          }\n        },\n        {\n          \"id\": \"renameByRegex\"\
    ,\n          \"options\": {\n            \"regex\": \"api-(.*)\",\n          \
    \  \"renamePattern\": \"$1\"\n          }\n        }\n      ],\n      \"type\"\
    : \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\"\
    : \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\"\
    : []\n      },\n      \"yaxes\": [\n        {\n          \"format\": \"ms\",\n\
    \          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
    \          \"min\": \"0\",\n          \"show\": true\n        },\n        {\n\
    \          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\"\
    : 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\":\
    \ true\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n \
    \       \"alignLevel\": null\n      }\n    },\n    {\n      \"aliasColors\": {},\n\
    \      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n\
    \      \"datasource\": null,\n      \"description\": \"Average latency, computed\
    \ over a minute, for an API\",\n      \"fill\": 1,\n      \"fillGradient\": 0,\n\
    \      \"gridPos\": {\n        \"h\": 9,\n        \"w\": 12,\n        \"x\": 12,\n\
    \        \"y\": 39\n      },\n      \"hiddenSeries\": false,\n      \"id\": 12,\n\
    \      \"legend\": {\n        \"alignAsTable\": true,\n        \"avg\": true,\n\
    \        \"current\": true,\n        \"max\": true,\n        \"min\": true,\n\
    \        \"show\": true,\n        \"total\": false,\n        \"values\": true\n\
    \      },\n      \"lines\": true,\n      \"linewidth\": 1,\n      \"nullPointMode\"\
    : \"null\",\n      \"options\": {\n        \"alertThreshold\": true\n      },\n\
    \      \"percentage\": false,\n      \"pluginVersion\": \"8.0.4\",\n      \"pointradius\"\
    : 2,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
    : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
    : false,\n      \"targets\": [\n        {\n          \"exemplar\": true,\n   \
    \       \"expr\": \"sum(rate(istio_request_duration_milliseconds_sum{destination_service=~\\\
    \"api-$api_name.+\\\"}[1m])) by (destination_service) / sum(rate(istio_request_duration_milliseconds_count{destination_service=~\\\
    \"api-$api_name.+\\\"}[1m])) by (destination_service)\",\n          \"hide\":\
    \ false,\n          \"interval\": \"\",\n          \"legendFormat\": \"{{destination_service}}\"\
    ,\n          \"refId\": \"D\"\n        }\n      ],\n      \"thresholds\": [],\n\
    \      \"timeFrom\": null,\n      \"timeRegions\": [],\n      \"timeShift\": null,\n\
    \      \"title\": \"Average Latency\",\n      \"tooltip\": {\n        \"shared\"\
    : true,\n        \"sort\": 0,\n        \"value_type\": \"individual\"\n      },\n\
    \      \"transformations\": [\n        {\n          \"id\": \"renameByRegex\"\
    ,\n          \"options\": {\n            \"regex\": \"([^\\\\.]+)\\\\..+\",\n\
    \            \"renamePattern\": \"$1\"\n          }\n        },\n        {\n \
    \         \"id\": \"renameByRegex\",\n          \"options\": {\n            \"\
    regex\": \"api-(.*)\",\n            \"renamePattern\": \"$1\"\n          }\n \
    \       }\n      ],\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"\
    buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n     \
    \   \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n  \
    \      {\n          \"format\": \"ms\",\n          \"label\": null,\n        \
    \  \"logBase\": 1,\n          \"max\": null,\n          \"min\": \"0\",\n    \
    \      \"show\": true\n        },\n        {\n          \"format\": \"short\"\
    ,\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
    \          \"min\": null,\n          \"show\": true\n        }\n      ],\n   \
    \   \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n  \
    \    }\n    },\n    {\n      \"collapsed\": false,\n      \"datasource\": null,\n\
    \      \"gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n\
    \        \"y\": 48\n      },\n      \"id\": 20,\n      \"panels\": [],\n     \
    \ \"title\": \"Aggregate Usage\",\n      \"type\": \"row\"\n    },\n    {\n  \
    \    \"aliasColors\": {\n        \"Total CPU Request\": \"semi-dark-orange\",\n\
    \        \"Total CPU Usage\": \"semi-dark-green\"\n      },\n      \"bars\": false,\n\
    \      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": null,\n\
    \      \"description\": \"Total CPU usage across all replicas of the API\",\n\
    \      \"fill\": 1,\n      \"fillGradient\": 0,\n      \"gridPos\": {\n      \
    \  \"h\": 8,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 49\n     \
    \ },\n      \"hiddenSeries\": false,\n      \"id\": 24,\n      \"legend\": {\n\
    \        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n\
    \        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n\
    \        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\"\
    : 1,\n      \"nullPointMode\": \"null\",\n      \"options\": {\n        \"alertThreshold\"\
    : true\n      },\n      \"percentage\": false,\n      \"pluginVersion\": \"8.0.4\"\
    ,\n      \"pointradius\": 2,\n      \"points\": false,\n      \"renderer\": \"\
    flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"\
    stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n       \
    \ {\n          \"exemplar\": false,\n          \"expr\": \"sum(rate(container_cpu_usage_seconds_total{pod=~\\\
    \"api-$api_name.+\\\", container!=\\\"POD\\\", name!=\\\"\\\"}[1m]))\",\n    \
    \      \"format\": \"time_series\",\n          \"instant\": false,\n         \
    \ \"interval\": \"\",\n          \"legendFormat\": \"Total CPU Usage\",\n    \
    \      \"refId\": \"CPU Usage\"\n        },\n        {\n          \"exemplar\"\
    : true,\n          \"expr\": \"sum(kube_pod_container_resource_requests{exported_pod=~\\\
    \"api-$api_name.+\\\", resource=\\\"cpu\\\"})\",\n          \"hide\": false,\n\
    \          \"interval\": \"\",\n          \"legendFormat\": \"Total CPU Request\"\
    ,\n          \"refId\": \"CPU Request\"\n        }\n      ],\n      \"thresholds\"\
    : [],\n      \"timeFrom\": null,\n      \"timeRegions\": [],\n      \"timeShift\"\
    : null,\n      \"title\": \"Total CPU Usage\",\n      \"tooltip\": {\n       \
    \ \"shared\": true,\n        \"sort\": 0,\n        \"value_type\": \"individual\"\
    \n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\"\
    : null,\n        \"mode\": \"time\",\n        \"name\": null,\n        \"show\"\
    : true,\n        \"values\": []\n      },\n      \"yaxes\": [\n        {\n   \
    \       \"$$hashKey\": \"object:1404\",\n          \"format\": \"core\",\n   \
    \       \"label\": \"cpu\",\n          \"logBase\": 1,\n          \"max\": null,\n\
    \          \"min\": \"0\",\n          \"show\": true\n        },\n        {\n\
    \          \"$$hashKey\": \"object:1405\",\n          \"format\": \"short\",\n\
    \          \"label\": \"\",\n          \"logBase\": 1,\n          \"max\": null,\n\
    \          \"min\": null,\n          \"show\": false\n        }\n      ],\n  \
    \    \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n \
    \     }\n    },\n    {\n      \"aliasColors\": {\n        \"Total Memory Request\"\
    : \"semi-dark-orange\",\n        \"Total Memory Usage\": \"semi-dark-green\"\n\
    \      },\n      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\"\
    : false,\n      \"datasource\": null,\n      \"description\": \"Total memory usage\
    \ across all replicas of the API\",\n      \"fill\": 1,\n      \"fillGradient\"\
    : 0,\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"\
    x\": 12,\n        \"y\": 49\n      },\n      \"hiddenSeries\": false,\n      \"\
    id\": 26,\n      \"legend\": {\n        \"avg\": false,\n        \"current\":\
    \ false,\n        \"max\": false,\n        \"min\": false,\n        \"show\":\
    \ true,\n        \"total\": false,\n        \"values\": false\n      },\n    \
    \  \"lines\": true,\n      \"linewidth\": 1,\n      \"nullPointMode\": \"null\"\
    ,\n      \"options\": {\n        \"alertThreshold\": true\n      },\n      \"\
    percentage\": false,\n      \"pluginVersion\": \"8.0.4\",\n      \"pointradius\"\
    : 2,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
    : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
    : false,\n      \"targets\": [\n        {\n          \"exemplar\": false,\n  \
    \        \"expr\": \"sum(sum_over_time(container_memory_working_set_bytes{pod=~\\\
    \"api-$api_name.+\\\", name!=\\\"\\\", container!=\\\"POD\\\"}[1m])) /\\navg(count_over_time(container_memory_working_set_bytes{pod=~\\\
    \"api-$api_name.+\\\", name!=\\\"\\\", container=\\\"api\\\"}[1m])) / 1024^2\"\
    ,\n          \"format\": \"time_series\",\n          \"instant\": false,\n   \
    \       \"interval\": \"\",\n          \"legendFormat\": \"Total Memory Usage\"\
    ,\n          \"refId\": \"Memory Usage\"\n        },\n        {\n          \"\
    exemplar\": true,\n          \"expr\": \"sum(kube_pod_container_resource_requests{exported_pod=~\\\
    \"api-$api_name.+\\\", resource=\\\"memory\\\"}) / 1024^2\",\n          \"hide\"\
    : false,\n          \"interval\": \"\",\n          \"legendFormat\": \"Total Memory\
    \ Request\",\n          \"refId\": \"Memory Request\"\n        }\n      ],\n \
    \     \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeRegions\": [],\n\
    \      \"timeShift\": null,\n      \"title\": \"Total Memory Usage\",\n      \"\
    tooltip\": {\n        \"shared\": true,\n        \"sort\": 0,\n        \"value_type\"\
    : \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n \
    \       \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n\
    \        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n\
    \        {\n          \"$$hashKey\": \"object:1404\",\n          \"format\": \"\
    MiB\",\n          \"label\": \"memory\",\n          \"logBase\": 1,\n        \
    \  \"max\": null,\n          \"min\": \"0\",\n          \"show\": true\n     \
    \   },\n        {\n          \"$$hashKey\": \"object:1405\",\n          \"format\"\
    : \"short\",\n          \"label\": \"\",\n          \"logBase\": 1,\n        \
    \  \"max\": null,\n          \"min\": null,\n          \"show\": false\n     \
    \   }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\"\
    : null\n      }\n    },\n    {\n      \"aliasColors\": {\n        \"Total GPU\
    \ Capacity\": \"semi-dark-orange\",\n        \"Total GPU Usage\": \"semi-dark-green\"\
    ,\n        \"Total GPU Utilization\": \"light-green\"\n      },\n      \"bars\"\
    : false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\"\
    : null,\n      \"description\": \"Total GPU core usage across all replicas of\
    \ the API\",\n      \"fill\": 1,\n      \"fillGradient\": 0,\n      \"gridPos\"\
    : {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\":\
    \ 57\n      },\n      \"hiddenSeries\": false,\n      \"id\": 28,\n      \"legend\"\
    : {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n\
    \        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n\
    \        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\"\
    : 1,\n      \"nullPointMode\": \"null\",\n      \"options\": {\n        \"alertThreshold\"\
    : true\n      },\n      \"percentage\": false,\n      \"pluginVersion\": \"8.0.4\"\
    ,\n      \"pointradius\": 2,\n      \"points\": false,\n      \"renderer\": \"\
    flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"\
    stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n       \
    \ {\n          \"exemplar\": true,\n          \"expr\": \"sum(DCGM_FI_DEV_GPU_UTIL{exported_pod=~\\\
    \"api-$api_name.+\\\"}) / 100\",\n          \"hide\": false,\n          \"interval\"\
    : \"\",\n          \"legendFormat\": \"Total GPU Usage\",\n          \"refId\"\
    : \"GPU Usage\"\n        },\n        {\n          \"exemplar\": true,\n      \
    \    \"expr\": \"count(DCGM_FI_DEV_GPU_UTIL{exported_pod=~\\\"api-$api_name.+\\\
    \"})\",\n          \"hide\": false,\n          \"interval\": \"\",\n         \
    \ \"legendFormat\": \"Total GPU Capacity\",\n          \"refId\": \"GPU Capacity\"\
    \n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n\
    \      \"timeRegions\": [],\n      \"timeShift\": null,\n      \"title\": \"Total\
    \ GPU Core Usage\",\n      \"tooltip\": {\n        \"shared\": true,\n       \
    \ \"sort\": 0,\n        \"value_type\": \"individual\"\n      },\n      \"type\"\
    : \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\"\
    : \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\"\
    : []\n      },\n      \"yaxes\": [\n        {\n          \"$$hashKey\": \"object:1404\"\
    ,\n          \"format\": \"gpuCore\",\n          \"label\": \"gpu\",\n       \
    \   \"logBase\": 1,\n          \"max\": null,\n          \"min\": \"0\",\n   \
    \       \"show\": true\n        },\n        {\n          \"$$hashKey\": \"object:1405\"\
    ,\n          \"format\": \"short\",\n          \"label\": \"\",\n          \"\
    logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"\
    show\": false\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n\
    \        \"alignLevel\": null\n      }\n    },\n    {\n      \"aliasColors\":\
    \ {\n        \"Total Capacity GPU Memory\": \"semi-dark-orange\",\n        \"\
    Total Used GPU Memory\": \"semi-dark-green\"\n      },\n      \"bars\": false,\n\
    \      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": null,\n\
    \      \"description\": \"Total GPU memory usage across all replicas of the API\"\
    ,\n      \"fill\": 1,\n      \"fillGradient\": 0,\n      \"gridPos\": {\n    \
    \    \"h\": 8,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 57\n  \
    \    },\n      \"hiddenSeries\": false,\n      \"id\": 29,\n      \"legend\":\
    \ {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n\
    \        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n\
    \        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\"\
    : 1,\n      \"nullPointMode\": \"null\",\n      \"options\": {\n        \"alertThreshold\"\
    : true\n      },\n      \"percentage\": false,\n      \"pluginVersion\": \"8.0.4\"\
    ,\n      \"pointradius\": 2,\n      \"points\": false,\n      \"renderer\": \"\
    flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"\
    stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n       \
    \ {\n          \"exemplar\": true,\n          \"expr\": \"sum(DCGM_FI_DEV_FB_USED{exported_pod=~\\\
    \"api-$api_name.+\\\"})\",\n          \"hide\": false,\n          \"interval\"\
    : \"\",\n          \"legendFormat\": \"Total Used GPU Memory\",\n          \"\
    refId\": \"GPU Used Memory\"\n        },\n        {\n          \"exemplar\": false,\n\
    \          \"expr\": \"sum(DCGM_FI_DEV_FB_FREE{exported_pod=~\\\"api-$api_name.+\\\
    \"}) + sum(DCGM_FI_DEV_FB_USED{exported_pod=~\\\"api-$api_name.+\\\"})\",\n  \
    \        \"format\": \"time_series\",\n          \"instant\": false,\n       \
    \   \"interval\": \"\",\n          \"legendFormat\": \"Total Capacity GPU Memory\"\
    ,\n          \"refId\": \"GPU Capacity Memory\"\n        }\n      ],\n      \"\
    thresholds\": [],\n      \"timeFrom\": null,\n      \"timeRegions\": [],\n   \
    \   \"timeShift\": null,\n      \"title\": \"Total GPU Memory Usage\",\n     \
    \ \"tooltip\": {\n        \"shared\": true,\n        \"sort\": 0,\n        \"\
    value_type\": \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\"\
    : {\n        \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\"\
    : null,\n        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\"\
    : [\n        {\n          \"$$hashKey\": \"object:1404\",\n          \"format\"\
    : \"MiB\",\n          \"label\": \"memory\",\n          \"logBase\": 1,\n    \
    \      \"max\": null,\n          \"min\": \"0\",\n          \"show\": true\n \
    \       },\n        {\n          \"$$hashKey\": \"object:1405\",\n          \"\
    format\": \"short\",\n          \"label\": \"\",\n          \"logBase\": 1,\n\
    \          \"max\": null,\n          \"min\": null,\n          \"show\": false\n\
    \        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n        \"\
    alignLevel\": null\n      }\n    },\n    {\n      \"collapsed\": false,\n    \
    \  \"datasource\": null,\n      \"gridPos\": {\n        \"h\": 1,\n        \"\
    w\": 24,\n        \"x\": 0,\n        \"y\": 65\n      },\n      \"id\": 18,\n\
    \      \"panels\": [],\n      \"title\": \"Average Replica Usage\",\n      \"\
    type\": \"row\"\n    },\n    {\n      \"aliasColors\": {\n        \"Avg CPU Request\"\
    : \"semi-dark-orange\",\n        \"Avg CPU Usage\": \"semi-dark-green\",\n   \
    \     \"Total CPU Request\": \"semi-dark-orange\",\n        \"Total CPU Usage\"\
    : \"semi-dark-green\"\n      },\n      \"bars\": false,\n      \"dashLength\"\
    : 10,\n      \"dashes\": false,\n      \"datasource\": null,\n      \"description\"\
    : \"Avg CPU usage across all replicas of the API\",\n      \"fill\": 1,\n    \
    \  \"fillGradient\": 0,\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\"\
    : 12,\n        \"x\": 0,\n        \"y\": 66\n      },\n      \"hiddenSeries\"\
    : false,\n      \"id\": 30,\n      \"legend\": {\n        \"avg\": false,\n  \
    \      \"current\": false,\n        \"max\": false,\n        \"min\": false,\n\
    \        \"show\": true,\n        \"total\": false,\n        \"values\": false\n\
    \      },\n      \"lines\": true,\n      \"linewidth\": 1,\n      \"nullPointMode\"\
    : \"null\",\n      \"options\": {\n        \"alertThreshold\": true\n      },\n\
    \      \"percentage\": false,\n      \"pluginVersion\": \"8.0.4\",\n      \"pointradius\"\
    : 2,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
    : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
    : false,\n      \"targets\": [\n        {\n          \"exemplar\": false,\n  \
    \        \"expr\": \"sum(rate(container_cpu_usage_seconds_total{pod=~\\\"api-$api_name.+\\\
    \", container!=\\\"POD\\\", name!=\\\"\\\"}[1m]))\\n/\\nsum(kube_pod_info{exported_pod=~\\\
    \"api-$api_name.+\\\"})\",\n          \"format\": \"time_series\",\n         \
    \ \"instant\": false,\n          \"interval\": \"\",\n          \"legendFormat\"\
    : \"Avg CPU Usage\",\n          \"refId\": \"CPU Usage\"\n        },\n       \
    \ {\n          \"exemplar\": true,\n          \"expr\": \"sum(kube_pod_container_resource_requests{exported_pod=~\\\
    \"api-$api_name.+\\\", resource=\\\"cpu\\\"})\\n/\\nsum(kube_pod_info{exported_pod=~\\\
    \"api-$api_name.+\\\"})\",\n          \"hide\": false,\n          \"interval\"\
    : \"\",\n          \"legendFormat\": \"Avg CPU Request\",\n          \"refId\"\
    : \"CPU Request\"\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\"\
    : null,\n      \"timeRegions\": [],\n      \"timeShift\": null,\n      \"title\"\
    : \"Avg CPU Usage\",\n      \"tooltip\": {\n        \"shared\": true,\n      \
    \  \"sort\": 0,\n        \"value_type\": \"individual\"\n      },\n      \"type\"\
    : \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\"\
    : \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\"\
    : []\n      },\n      \"yaxes\": [\n        {\n          \"$$hashKey\": \"object:1404\"\
    ,\n          \"format\": \"core\",\n          \"label\": \"cpu\",\n          \"\
    logBase\": 1,\n          \"max\": null,\n          \"min\": \"0\",\n         \
    \ \"show\": true\n        },\n        {\n          \"$$hashKey\": \"object:1405\"\
    ,\n          \"format\": \"short\",\n          \"label\": \"\",\n          \"\
    logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n          \"\
    show\": false\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n\
    \        \"alignLevel\": null\n      }\n    },\n    {\n      \"aliasColors\":\
    \ {\n        \"Avg Memory Request\": \"semi-dark-orange\",\n        \"Avg Memory\
    \ Usage\": \"semi-dark-green\",\n        \"Total Memory Request\": \"semi-dark-orange\"\
    ,\n        \"Total Memory Usage\": \"semi-dark-green\"\n      },\n      \"bars\"\
    : false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\"\
    : null,\n      \"description\": \"Avg memory usage across all replicas of the\
    \ API\",\n      \"fill\": 1,\n      \"fillGradient\": 0,\n      \"gridPos\": {\n\
    \        \"h\": 8,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 66\n\
    \      },\n      \"hiddenSeries\": false,\n      \"id\": 31,\n      \"legend\"\
    : {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n\
    \        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n\
    \        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\"\
    : 1,\n      \"nullPointMode\": \"null\",\n      \"options\": {\n        \"alertThreshold\"\
    : true\n      },\n      \"percentage\": false,\n      \"pluginVersion\": \"8.0.4\"\
    ,\n      \"pointradius\": 2,\n      \"points\": false,\n      \"renderer\": \"\
    flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"\
    stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n       \
    \ {\n          \"exemplar\": false,\n          \"expr\": \"sum(sum_over_time(container_memory_working_set_bytes{pod=~\\\
    \"api-$api_name.+\\\", name!=\\\"\\\", container!=\\\"POD\\\"}[1m]))\\n/\\navg(count_over_time(container_memory_working_set_bytes{pod=~\\\
    \"api-$api_name.+\\\", name!=\\\"\\\", container=\\\"api\\\"}[1m])) / 1024^2\\\
    n/\\nsum(kube_pod_info{exported_pod=~\\\"api-$api_name.+\\\"})\",\n          \"\
    format\": \"time_series\",\n          \"instant\": false,\n          \"interval\"\
    : \"\",\n          \"legendFormat\": \"Avg Memory Usage\",\n          \"refId\"\
    : \"Memory Usage\"\n        },\n        {\n          \"exemplar\": true,\n   \
    \       \"expr\": \"sum(kube_pod_container_resource_requests{exported_pod=~\\\"\
    api-$api_name.+\\\", resource=\\\"memory\\\"}) / 1024^2\\n/\\nsum(kube_pod_info{exported_pod=~\\\
    \"api-$api_name.+\\\"})\",\n          \"hide\": false,\n          \"interval\"\
    : \"\",\n          \"legendFormat\": \"Avg Memory Request\",\n          \"refId\"\
    : \"Memory Request\"\n        }\n      ],\n      \"thresholds\": [],\n      \"\
    timeFrom\": null,\n      \"timeRegions\": [],\n      \"timeShift\": null,\n  \
    \    \"title\": \"Avg Memory Usage\",\n      \"tooltip\": {\n        \"shared\"\
    : true,\n        \"sort\": 0,\n        \"value_type\": \"individual\"\n      },\n\
    \      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n\
    \        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n\
    \        \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"\
    $$hashKey\": \"object:1404\",\n          \"format\": \"MiB\",\n          \"label\"\
    : \"memory\",\n          \"logBase\": 1,\n          \"max\": null,\n         \
    \ \"min\": \"0\",\n          \"show\": true\n        },\n        {\n         \
    \ \"$$hashKey\": \"object:1405\",\n          \"format\": \"short\",\n        \
    \  \"label\": \"\",\n          \"logBase\": 1,\n          \"max\": null,\n   \
    \       \"min\": null,\n          \"show\": false\n        }\n      ],\n     \
    \ \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n    \
    \  }\n    },\n    {\n      \"aliasColors\": {\n        \"Avg GPU Capacity\": \"\
    semi-dark-orange\",\n        \"Avg GPU Usage\": \"semi-dark-green\",\n       \
    \ \"Total GPU Capacity\": \"semi-dark-orange\",\n        \"Total GPU Utilization\"\
    : \"semi-dark-green\"\n      },\n      \"bars\": false,\n      \"dashLength\"\
    : 10,\n      \"dashes\": false,\n      \"datasource\": null,\n      \"description\"\
    : \"Avg GPU core usage across all replicas of the API\",\n      \"fill\": 1,\n\
    \      \"fillGradient\": 0,\n      \"gridPos\": {\n        \"h\": 8,\n       \
    \ \"w\": 12,\n        \"x\": 0,\n        \"y\": 74\n      },\n      \"hiddenSeries\"\
    : false,\n      \"id\": 32,\n      \"legend\": {\n        \"avg\": false,\n  \
    \      \"current\": false,\n        \"max\": false,\n        \"min\": false,\n\
    \        \"show\": true,\n        \"total\": false,\n        \"values\": false\n\
    \      },\n      \"lines\": true,\n      \"linewidth\": 1,\n      \"nullPointMode\"\
    : \"null\",\n      \"options\": {\n        \"alertThreshold\": true\n      },\n\
    \      \"percentage\": false,\n      \"pluginVersion\": \"8.0.4\",\n      \"pointradius\"\
    : 2,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
    : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
    : false,\n      \"targets\": [\n        {\n          \"expr\": \"sum(DCGM_FI_DEV_GPU_UTIL{exported_pod=~\\\
    \"api-$api_name.+\\\"}) / 100\\n/\\ncount(DCGM_FI_DEV_GPU_UTIL{exported_pod=~\\\
    \"api-$api_name.+\\\"})\",\n          \"hide\": false,\n          \"interval\"\
    : \"\",\n          \"legendFormat\": \"Avg GPU Usage\",\n          \"refId\":\
    \ \"GPU Usage\"\n        },\n        {\n          \"expr\": \"count(DCGM_FI_DEV_GPU_UTIL{exported_pod=~\\\
    \"api-$api_name.+\\\"})\\n/\\ncount(count(DCGM_FI_DEV_GPU_UTIL{exported_pod=~\\\
    \"api-$api_name.+\\\"}) by (exported_pod))\",\n          \"hide\": false,\n  \
    \        \"interval\": \"\",\n          \"legendFormat\": \"Avg GPU Capacity\"\
    ,\n          \"refId\": \"GPU Capacity\"\n        }\n      ],\n      \"thresholds\"\
    : [],\n      \"timeFrom\": null,\n      \"timeRegions\": [],\n      \"timeShift\"\
    : null,\n      \"title\": \"Avg GPU Core Usage\",\n      \"tooltip\": {\n    \
    \    \"shared\": true,\n        \"sort\": 0,\n        \"value_type\": \"individual\"\
    \n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\"\
    : null,\n        \"mode\": \"time\",\n        \"name\": null,\n        \"show\"\
    : true,\n        \"values\": []\n      },\n      \"yaxes\": [\n        {\n   \
    \       \"$$hashKey\": \"object:1404\",\n          \"format\": \"gpuCore\",\n\
    \          \"label\": \"gpu\",\n          \"logBase\": 1,\n          \"max\":\
    \ null,\n          \"min\": \"0\",\n          \"show\": true\n        },\n   \
    \     {\n          \"$$hashKey\": \"object:1405\",\n          \"format\": \"short\"\
    ,\n          \"label\": \"\",\n          \"logBase\": 1,\n          \"max\": null,\n\
    \          \"min\": null,\n          \"show\": false\n        }\n      ],\n  \
    \    \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n \
    \     }\n    },\n    {\n      \"aliasColors\": {\n        \"Avg Capacity GPU Memory\"\
    : \"semi-dark-orange\",\n        \"Avg Used GPU Memory\": \"semi-dark-green\"\
    ,\n        \"Total Capacity GPU Memory\": \"semi-dark-orange\",\n        \"Total\
    \ Used GPU Memory\": \"semi-dark-green\"\n      },\n      \"bars\": false,\n \
    \     \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": null,\n\
    \      \"description\": \"Avg GPU memory usage across all replicas of the API\"\
    ,\n      \"fill\": 1,\n      \"fillGradient\": 0,\n      \"gridPos\": {\n    \
    \    \"h\": 8,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 74\n  \
    \    },\n      \"hiddenSeries\": false,\n      \"id\": 33,\n      \"legend\":\
    \ {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n\
    \        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n\
    \        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\"\
    : 1,\n      \"nullPointMode\": \"null\",\n      \"options\": {\n        \"alertThreshold\"\
    : true\n      },\n      \"percentage\": false,\n      \"pluginVersion\": \"8.0.4\"\
    ,\n      \"pointradius\": 2,\n      \"points\": false,\n      \"renderer\": \"\
    flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n      \"\
    stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n       \
    \ {\n          \"expr\": \"sum(DCGM_FI_DEV_FB_USED{exported_pod=~\\\"api-$api_name.+\\\
    \"})\\n/\\ncount(DCGM_FI_DEV_FB_USED{exported_pod=~\\\"api-$api_name.+\\\"})\"\
    ,\n          \"hide\": false,\n          \"interval\": \"\",\n          \"legendFormat\"\
    : \"Avg Used GPU Memory\",\n          \"refId\": \"GPU Used Memory\"\n       \
    \ },\n        {\n          \"exemplar\": false,\n          \"expr\": \"(sum(DCGM_FI_DEV_FB_FREE{exported_pod=~\\\
    \"api-$api_name.+\\\"}) + sum(DCGM_FI_DEV_FB_USED{exported_pod=~\\\"api-$api_name.+\\\
    \"}))\\n/\\ncount(DCGM_FI_DEV_FB_USED{exported_pod=~\\\"api-$api_name.+\\\"})\"\
    ,\n          \"format\": \"time_series\",\n          \"instant\": false,\n   \
    \       \"interval\": \"\",\n          \"legendFormat\": \"Avg Capacity GPU Memory\"\
    ,\n          \"refId\": \"GPU Capacity Memory\"\n        }\n      ],\n      \"\
    thresholds\": [],\n      \"timeFrom\": null,\n      \"timeRegions\": [],\n   \
    \   \"timeShift\": null,\n      \"title\": \"Avg GPU Memory Usage\",\n      \"\
    tooltip\": {\n        \"shared\": true,\n        \"sort\": 0,\n        \"value_type\"\
    : \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n \
    \       \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n\
    \        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n\
    \        {\n          \"$$hashKey\": \"object:1404\",\n          \"format\": \"\
    MiB\",\n          \"label\": \"memory\",\n          \"logBase\": 1,\n        \
    \  \"max\": null,\n          \"min\": \"0\",\n          \"show\": true\n     \
    \   },\n        {\n          \"$$hashKey\": \"object:1405\",\n          \"format\"\
    : \"short\",\n          \"label\": \"\",\n          \"logBase\": 1,\n        \
    \  \"max\": null,\n          \"min\": null,\n          \"show\": false\n     \
    \   }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\"\
    : null\n      }\n    }\n  ],\n  \"refresh\": \"30s\",\n  \"schemaVersion\": 30,\n\
    \  \"style\": \"dark\",\n  \"tags\": [],\n  \"templating\": {\n    \"list\": [\n\
    \      {\n        \"allValue\": null,\n        \"current\": {\n          \"selected\"\
    : false,\n          \"text\": \"None\",\n          \"value\": \"None\"\n     \
    \   },\n        \"datasource\": null,\n        \"definition\": \"label_values(cortex_in_flight_requests{api_kind=\\\
    \"RealtimeAPI\\\"}, api_name)\",\n        \"description\": null,\n        \"error\"\
    : null,\n        \"hide\": 0,\n        \"includeAll\": false,\n        \"label\"\
    : \"API Name\",\n        \"multi\": true,\n        \"name\": \"api_name\",\n \
    \       \"options\": [],\n        \"query\": {\n          \"query\": \"label_values(cortex_in_flight_requests{api_kind=\\\
    \"RealtimeAPI\\\"}, api_name)\",\n          \"refId\": \"StandardVariableQuery\"\
    \n        },\n        \"refresh\": 1,\n        \"regex\": \"\",\n        \"skipUrlSync\"\
    : false,\n        \"sort\": 0,\n        \"tagValuesQuery\": \"\",\n        \"\
    tagsQuery\": \"\",\n        \"type\": \"query\",\n        \"useTags\": false\n\
    \      }\n    ]\n  },\n  \"time\": {\n    \"from\": \"now-1h\",\n    \"to\": \"\
    now\"\n  },\n  \"timepicker\": {},\n  \"timezone\": \"\",\n  \"title\": \"RealtimeAPI\"\
    ,\n  \"uid\": \"realtimeapi\",\n  \"version\": 3\n}"
