apiVersion: v1
kind: ConfigMap
metadata:
  name: verdaccio
  labels:
    app: verdaccio
data:
  config.yaml: "#\n# This is the config file used for the docker images.\n# It allows\
    \ all users to do anything, so don't use it on production systems.\n#\n# Do not\
    \ configure host and port under `listen` in this file\n# as it will be ignored\
    \ when using docker.\n# see https://github.com/verdaccio/verdaccio/blob/master/wiki/docker.md#docker-and-custom-port-configuration\n\
    #\n# Look here for more config file examples:\n# https://github.com/verdaccio/verdaccio/tree/master/conf\n\
    #\n\n# path to a directory with all packages\nstorage: /verdaccio/storage\n# path\
    \ to a directory with plugins to include\nplugins: /verdaccio/plugins\n\nweb:\n\
    \  # WebUI is enabled as default, if you want disable it, just uncomment this\
    \ line\n  #enable: false\n  title: Verdaccio\nurl_prefix: https://verdaccio.company.com\n\
    \nauth:\n  htpasswd:\n    file: /verdaccio/conf/htpasswd\n    # Maximum amount\
    \ of users allowed to register, defaults to \"+infinity\".\n    # You can set\
    \ this to -1 to disable registration.\n    #max_users: 1000\n\n# a list of other\
    \ known repositories we can talk to\nuplinks:\n  npmjs:\n    url: https://registry.npmjs.org/\n\
    \npackages:\n  '@*/*':\n    # scoped packages\n    access: $authenticated\n  \
    \  publish: $authenticated\n    proxy: npmjs\n\n  '**':\n    # allow all users\
    \ (including non-authenticated users) to read and\n    # publish all packages\n\
    \    #\n    # you can specify usernames/groupnames (depending on your auth plugin)\n\
    \    # and three keywords: \"$all\", \"$anonymous\", \"$authenticated\"\n    access:\
    \ $all\n\n    # allow all known users to publish packages\n    # (anyone can register\
    \ by default, remember?)\n    publish: $authenticated\n\n    # if package is not\
    \ available locally, proxy requests to 'npmjs' registry\n    proxy: npmjs\n\n\
    # To use `npm audit` uncomment the following section\nmiddlewares:\n  audit:\n\
    \    enabled: true\n\n# log settings\nlogs:\n  - {type: stdout, format: pretty,\
    \ level: http}\n  #- {type: file, path: verdaccio.log, level: info}"
  htpasswd: username:$2y$05$S83b6n9QThQnqMoP9ZeQ8.BzRaYpSTgjyeymQaHULl1kMQrCF620K
