apiVersion: v1
kind: ConfigMap
metadata:
  name: config.yaml
  annotations:
    moon-wind/gin-vue-admin: backend
    github: https://github.com/moon-wind/gin-vue-admin.git
    app.kubernetes.io/version: 0.0.1
  labels:
    app: gva-server
    version: gva-vue3
data:
  config.yaml: "# github.com/moon-wind/gin-vue-admin/server Global Configuration\n\
    \n# jwt configuration\njwt:\n  signing-key: 'qmPlus'\n  expires-time: 604800\n\
    \  buffer-time: 86400\n\n# zap logger configuration\nzap:\n  level: 'info'\n \
    \ format: 'console'\n  prefix: '[github.com/moon-wind/gin-vue-admin/server]'\n\
    \  director: 'log'\n  link-name: 'latest_log'\n  show-line: true\n  encode-level:\
    \ 'LowercaseColorLevelEncoder'\n  stacktrace-key: 'stacktrace'\n  log-in-console:\
    \ true\n\n# redis configuration\nredis:\n  db: 0\n  addr: '127.0.0.1:6379'\n \
    \ password: ''\n\n# email configuration\nemail:\n  to: 'xxx@qq.com'\n  port: 465\n\
    \  from: 'xxx@163.com'\n  host: 'smtp.163.com'\n  is-ssl: true\n  secret: 'xxx'\n\
    \  nickname: 'test'\n\n# casbin configuration\ncasbin:\n  model-path: './resource/rbac_model.conf'\n\
    \n# system configuration\nsystem:\n  env: 'develop'  # Change to \"develop\" to\
    \ skip authentication for development mode\n  addr: 8888\n  db-type: 'mysql'\n\
    \  oss-type: 'local'    # \u63A7\u5236oss\u9009\u62E9\u8D70\u672C\u671F\u8FD8\u662F\
    \ \u4E03\u725B\u7B49\u5176\u4ED6\u4ED3 \u81EA\u884C\u589E\u52A0\u5176\u4ED6oss\u4ED3\
    \u53EF\u4EE5\u5728 server/utils/upload/upload.go \u4E2D NewOss\u51FD\u6570\u914D\
    \u7F6E\n  use-multipoint: false\n\n# captcha configuration\ncaptcha:\n  key-long:\
    \ 6\n  img-width: 240\n  img-height: 80\n\n# mysql connect configuration\n# \u672A\
    \u521D\u59CB\u5316\u4E4B\u524D\u8BF7\u52FF\u624B\u52A8\u4FEE\u6539\u6570\u636E\
    \u5E93\u4FE1\u606F\uFF01\uFF01\uFF01\u5982\u679C\u4E00\u5B9A\u8981\u624B\u52A8\
    \u521D\u59CB\u5316\u8BF7\u770B\uFF08https://www.github.com/moon-wind/gin-vue-admin/server.com/docs/first\uFF09\
    \nmysql:\n  path: ''\n  config: ''\n  db-name: ''\n  username: ''\n  password:\
    \ ''\n  max-idle-conns: 10\n  max-open-conns: 100\n  log-mode: false\n  log-zap:\
    \ \"\"\n\n# local configuration\nlocal:\n  path: 'uploads/file'\n\n# autocode\
    \ configuration\nautocode:\n  transfer-restart: true\n  root: \"\"\n  server:\
    \ /server\n  server-api: /api/v1/autocode\n  server-initialize: /initialize\n\
    \  server-model: /model/autocode\n  server-request: /model/autocode/request/\n\
    \  server-router: /router/autocode\n  server-service: /service/autocode\n  web:\
    \ /web/src\n  web-api: /api\n  web-flow: /view\n  web-form: /view\n  web-table:\
    \ /view\n\n# qiniu configuration (\u8BF7\u81EA\u884C\u4E03\u725B\u7533\u8BF7\u5BF9\
    \u5E94\u7684 \u516C\u94A5 \u79C1\u94A5 bucket \u548C \u57DF\u540D\u5730\u5740\
    )\nqiniu:\n  zone: 'ZoneHuaDong'\n  bucket: ''\n  img-path: ''\n  use-https: false\n\
    \  access-key: ''\n  secret-key: ''\n  use-cdn-domains: false\n\n\n# aliyun oss\
    \ configuration\naliyun-oss:\n  endpoint: 'yourEndpoint'\n  access-key-id: 'yourAccessKeyId'\n\
    \  access-key-secret: 'yourAccessKeySecret'\n  bucket-name: 'yourBucketName'\n\
    \  bucket-url: 'yourBucketUrl'\n  base-path: 'yourBasePath'\n\n# tencent cos configuration\n\
    tencent-cos:\n  bucket: 'xxxxx-10005608'\n  region: 'ap-shanghai'\n  secret-id:\
    \ 'xxxxxxxx'\n  secret-key: 'xxxxxxxx'\n  base-url: 'https://gin.vue.admin'\n\
    \  path-prefix: 'github.com/moon-wind/gin-vue-admin/server'\n\n# excel configuration\n\
    excel:\n  dir: './resource/excel/'\n\n\n# timer task db clear table\nTimer:\n\
    \  start: true\n  spec: \"@daily\"  # \u5B9A\u65F6\u4EFB\u52A1\u8BE6\u7EC6\u914D\
    \u7F6E\u53C2\u8003 https://pkg.go.dev/github.com/robfig/cron/v3\n  detail: [\n\
    \    # tableName: \u9700\u8981\u6E05\u7406\u7684\u8868\u540D\n    # compareField:\
    \ \u9700\u8981\u6BD4\u8F83\u65F6\u95F4\u7684\u5B57\u6BB5\n    # interval: \u65F6\
    \u95F4\u95F4\u9694, \u5177\u4F53\u914D\u7F6E\u8BE6\u770B time.ParseDuration()\
    \ \u4E2D\u5B57\u7B26\u4E32\u8868\u793A \u4E14\u4E0D\u80FD\u4E3A\u8D1F\u6570\n\
    \    # 2160h = 24 * 30 * 3 -> \u4E09\u4E2A\u6708\n    { tableName: \"sys_operation_records\"\
    \ , compareField: \"created_at\", interval: \"2160h\" },\n    { tableName: \"\
    jwt_blacklists\" , compareField: \"created_at\", interval: \"168h\" }\n    #{\
    \ tableName: \"log2\" , compareField: \"created_at\", interval: \"2160h\" }\n\
    \  ]"
