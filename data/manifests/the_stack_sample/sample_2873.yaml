apiVersion: v1
kind: ConfigMap
metadata:
  name: mattermost-loadtestconfig-json
data:
  loadtestconfig.json: "{\n  \"ConnectionConfiguration\": {\n    \"ServerURL\": \"\
    http://%MM_URL%\",\n    \"WebsocketURL\": \"ws://%MM_URL%\",\n    \"PProfUrl\"\
    : \"http://mattermost-loadtest-app:8067/debug/pprof\",\n    \"DriverName\": \"\
    mysql\",\n    \"DataSource\": \"%DATA_SOURCE%\",\n    \"LocalCommands\": true,\n\
    \    \"SSHHostnamePort\": \"\",\n    \"SSHUsername\": \"\",\n    \"SSHPassword\"\
    : \"\",\n    \"SSHKey\": \"\",\n    \"MattermostInstallDir\": \"/mattermost\"\
    ,\n    \"ConfigFileLoc\": \"\",\n    \"AdminEmail\": \"%ADMIN_EMAIL%\",\n    \"\
    AdminPassword\": \"%ADMIN_PASSWORD%\",\n    \"SkipBulkload\": true,\n    \"WaitForServerStart\"\
    : true\n  },\n  \"LoadtestEnviromentConfig\": {\n    \"NumTeams\": 1,\n    \"\
    NumChannelsPerTeam\": 250,\n    \"NumUsers\": 100,\n    \"PercentHighVolumeTeams\"\
    : 0.2,\n    \"PercentMidVolumeTeams\": 0.5,\n    \"PercentLowVolumeTeams\": 0.3,\n\
    \    \"PercentUsersHighVolumeTeams\": 0.9,\n    \"PercentUsersMidVolumeTeams\"\
    : 0.5,\n    \"PercentUsersLowVolumeTeams\": 0.1,\n    \"PercentHighVolumeChannels\"\
    : 0.2,\n    \"PercentMidVolumeChannels\": 0.5,\n    \"PercentLowVolumeChannels\"\
    : 0.3,\n    \"PercentUsersHighVolumeChannel\": 0.1,\n    \"PercentUsersMidVolumeChannel\"\
    : 0.003,\n    \"PercentUsersLowVolumeChannel\": 0.0002,\n    \"HighVolumeTeamSelectionWeight\"\
    : 3,\n    \"MidVolumeTeamSelectionWeight\": 2,\n    \"LowVolumeTeamSelectionWeight\"\
    : 1,\n    \"HighVolumeChannelSelectionWeight\": 1,\n    \"MidVolumeChannelSelectionWeight\"\
    : 3,\n    \"LowVolumeChannelSelectionWeight\": 1\n  },\n  \"UserEntitiesConfiguration\"\
    : {\n    \"TestLengthMinutes\": 10,\n    \"NumActiveEntities\": 100,\n    \"ActionRateMilliseconds\"\
    : 120000,\n    \"ActionRateMaxVarianceMilliseconds\": 1500,\n    \"EnableRequestTiming\"\
    : true,\n    \"ChannelLinkChance\": 0.02,\n    \"UploadImageChance\": 0.01,\n\
    \    \"LinkPreviewChance\": 0.2,\n    \"CustomEmojiChance\": 0.2,\n    \"NeedsProfilesByUsernameChance\"\
    : 0.38,\n    \"NeedsProfilesByIdChance\": 0.22,\n    \"NeedsProfileStatusChance\"\
    : 0.80,\n    \"DoStatusPolling\": true,\n    \"RandomizeEntitySelection\": false\n\
    \  },\n  \"ResultsConfiguration\": {\n    \"PProfDelayMinutes\": 1,\n    \"PProfLength\"\
    : 60\n  },\n  \"LogSettings\": {\n    \"EnableConsole\": true,\n    \"ConsoleLevel\"\
    : \"INFO\",\n    \"ConsoleJson\": true,\n    \"EnableFile\": true,\n    \"FileLevel\"\
    : \"INFO\",\n    \"FileJson\": true,\n    \"FileLocation\": \"loadtest.log\"\n\
    \  }\n}"
