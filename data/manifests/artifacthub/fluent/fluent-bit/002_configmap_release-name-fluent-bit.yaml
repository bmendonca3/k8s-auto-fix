apiVersion: v1
kind: ConfigMap
metadata:
  name: release-name-fluent-bit
  namespace: default
  labels:
    helm.sh/chart: fluent-bit-0.53.0
    app.kubernetes.io/name: fluent-bit
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: 4.0.7
    app.kubernetes.io/managed-by: Helm
data:
  custom_parsers.conf: "[PARSER]\n    Name docker_no_time\n    Format json\n    Time_Keep\
    \ Off\n    Time_Key time\n    Time_Format %Y-%m-%dT%H:%M:%S.%L\n"
  fluent-bit.conf: "[SERVICE]\n    Daemon Off\n    Flush 1\n    Log_Level info\n \
    \   Parsers_File /fluent-bit/etc/parsers.conf\n    Parsers_File /fluent-bit/etc/conf/custom_parsers.conf\n\
    \    HTTP_Server On\n    HTTP_Listen 0.0.0.0\n    HTTP_Port 2020\n    Health_Check\
    \ On\n\n[INPUT]\n    Name tail\n    Path /var/log/containers/*.log\n    multiline.parser\
    \ docker, cri\n    Tag kube.*\n    Mem_Buf_Limit 5MB\n    Skip_Long_Lines On\n\
    \n[INPUT]\n    Name systemd\n    Tag host.*\n    Systemd_Filter _SYSTEMD_UNIT=kubelet.service\n\
    \    Read_From_Tail On\n\n[FILTER]\n    Name kubernetes\n    Match kube.*\n  \
    \  Merge_Log On\n    Keep_Log Off\n    K8S-Logging.Parser On\n    K8S-Logging.Exclude\
    \ On\n\n[OUTPUT]\n    Name es\n    Match kube.*\n    Host elasticsearch-master\n\
    \    Logstash_Format On\n    Retry_Limit False\n\n[OUTPUT]\n    Name es\n    Match\
    \ host.*\n    Host elasticsearch-master\n    Logstash_Format On\n    Logstash_Prefix\
    \ node\n    Retry_Limit False\n"
