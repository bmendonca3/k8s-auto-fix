apiVersion: v1
kind: ConfigMap
metadata:
  name: gitlab-event-source
  labels:
    argo-events-event-source-version: v0.10
data:
  example: "# id of the project\nprojectId: \"1\"\n# Github will send events to following\
    \ port and endpoint\nhook:\n  # endpoint to listen to events on\n  endpoint: \"\
    /push\"\n  # port to run internal HTTP server on\n  port: \"12000\"\n  # url the\
    \ gateway will use to register at Github.\n  # This url must be reachable from\
    \ outside the cluster.\n  # The gateway pod is backed by the service defined in\
    \ the gateway spec. So get the URL for that service Github can reach to.\n  url:\
    \ \"http://myfakeurl.fake\"\n# event to listen to\n# Visit https://docs.gitlab.com/ee/user/project/integrations/webhooks.html#events\n\
    event: \"PushEvents\"\n# accessToken refers to K8s secret that stores the gitlab\
    \ api token\naccessToken:\n  # Key within the K8s secret whose corresponding value\
    \ (must be base64 encoded) is access token\n  key: accesskey\n  # Name of the\
    \ K8s secret that contains the access token\n  name: gitlab-access\n# Do SSL verification\
    \ when triggering the hook\nenableSSLVerification: false\n# Gitlab Base url\n\
    gitlabBaseUrl: \"YOUR_GITLAB_URL\""
  example-secure: "projectId: \"2\"\nhook:\n  endpoint: \"/push\"\n  port: \"13000\"\
    \n  url: \"http://mysecondfakeurl.fake\"\n  # path to file that is mounted in\
    \ gateway pod which contains certs\n  serverCertPath: \"some path in pod\"\n \
    \ # path to file that is mounted in gateway pod which contains private key\n \
    \ serverKeyPath: \"some path in pod\"\nevent: \"PushEvents\"\naccessToken:\n \
    \ key: accesskey\n  name: gitlab-access\nenableSSLVerification: true\ngitlabBaseUrl:\
    \ \"YOUR_GITLAB_URL\""
