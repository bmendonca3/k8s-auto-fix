apiVersion: v1
kind: Pod
metadata:
  generateName: kaniko-
  namespace: default
  annotations:
    sidecar.istio.io/inject: 'false'
spec:
  restartPolicy: Never
  serviceAccountName: kubeflow-pipelines-container-builder
  containers:
  - name: kaniko
    image: gcr.io/kaniko-project/executor@sha256:78d44ec4e9cb5545d7f85c1924695c89503ded86a59f92c7ae658afa3cff5400
    args:
    - --cache=true
    - --dockerfile=dockerfile
    - --context=gs://mlpipeline/kaniko_build.tar.gz
    - --destination=gcr.io/mlpipeline/kaniko_image:latest
    - --digest-file=/dev/termination-log
