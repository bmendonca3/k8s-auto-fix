[
  {
    "id": "02561",
    "policy_id": "set_requests_limits",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: prod1\n  labels:\n    app: prod1\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: prod1\n  template:\n    metadata:\n      labels:\n        app: prod1\n    spec:\n      containers:\n      - name: prod1-container\n        image: paulfdunn/prod1:v0.0.0\n        imagePullPolicy: IfNotPresent\n        ports:\n        - containerPort: 8000\n        volumeMounts:\n        - mountPath: /opt/prod1/data\n          name: data\n        resources:\n          requests:\n            cpu: 100m\n            memory: 128Mi\n          limits:\n            cpu: 500m\n            memory: 256Mi\n        securityContext:\n          privileged: false\n          capabilities:\n            drop:\n            - NET_RAW\n            - NET_ADMIN\n            - SYS_ADMIN\n            - SYS_MODULE\n            - SYS_PTRACE\n            - SYS_CHROOT\n          allowPrivilegeEscalation: false\n          runAsNonRoot: true\n          readOnlyRootFilesystem: true\n      volumes:\n      - name: data\n        persistentVolumeClaim:\n          claimName: prod1-pvc\n",
    "errors": []
  },
  {
    "id": "02562",
    "policy_id": "read_only_root_fs",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: kctl\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: kctl\n  template:\n    metadata:\n      labels:\n        app: kctl\n    spec:\n      containers:\n      - name: kctl\n        image: kg8s-local/kctl:v21.12.1\n        command:\n        - sh\n        args:\n        - -c\n        - 'cat /opt/ca.crt\n\n          cp /opt/ca.crt /usr/local/share/ca-certificates/nip-io-ca.crt\n\n          update-ca-certificates\n\n          echo \"\"\n\n          echo \"[UPDATE CA CERTIFICATE] check ca certificates\"\n\n          tail -n 20 /etc/ssl/certs/ca-certificates.crt\n\n          echo $(date) ; tail -f /dev/null\n\n          '\n        resources:\n          limits:\n            cpu: '1'\n            memory: 256Mi\n          requests:\n            cpu: 200m\n            memory: 128Mi\n        volumeMounts:\n        - name: cm-ca-nip\n          mountPath: /opt/ca.crt\n          subPath: ca.crt\n        securityContext:\n          readOnlyRootFilesystem: true\n          privileged: false\n          capabilities:\n            drop:\n            - NET_RAW\n            - NET_ADMIN\n            - SYS_ADMIN\n            - SYS_MODULE\n            - SYS_PTRACE\n            - SYS_CHROOT\n          allowPrivilegeEscalation: false\n          runAsNonRoot: true\n      volumes:\n      - name: cm-ca-nip\n        configMap:\n          name: ca-nip\n",
    "errors": []
  },
  {
    "id": "02563",
    "policy_id": "run_as_non_root",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: kctl\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: kctl\n  template:\n    metadata:\n      labels:\n        app: kctl\n    spec:\n      containers:\n      - name: kctl\n        image: kg8s-local/kctl:v21.12.1\n        command:\n        - sh\n        args:\n        - -c\n        - 'cat /opt/ca.crt\n\n          cp /opt/ca.crt /usr/local/share/ca-certificates/nip-io-ca.crt\n\n          update-ca-certificates\n\n          echo \"\"\n\n          echo \"[UPDATE CA CERTIFICATE] check ca certificates\"\n\n          tail -n 20 /etc/ssl/certs/ca-certificates.crt\n\n          echo $(date) ; tail -f /dev/null\n\n          '\n        resources:\n          limits:\n            cpu: '1'\n            memory: 256Mi\n          requests:\n            cpu: 200m\n            memory: 128Mi\n        volumeMounts:\n        - name: cm-ca-nip\n          mountPath: /opt/ca.crt\n          subPath: ca.crt\n        securityContext:\n          runAsNonRoot: true\n          privileged: false\n          capabilities:\n            drop:\n            - NET_RAW\n            - NET_ADMIN\n            - SYS_ADMIN\n            - SYS_MODULE\n            - SYS_PTRACE\n            - SYS_CHROOT\n          allowPrivilegeEscalation: false\n          readOnlyRootFilesystem: true\n      volumes:\n      - name: cm-ca-nip\n        configMap:\n          name: ca-nip\n      securityContext:\n        runAsNonRoot: true\n",
    "errors": []
  },
  {
    "id": "02564",
    "policy_id": "no_latest_tag",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: frontend\nspec:\n  selector:\n    matchLabels:\n      app: guestbook\n      tier: frontend\n  replicas: 1\n  template:\n    metadata:\n      labels:\n        app: guestbook\n        tier: frontend\n    spec:\n      containers:\n      - name: php-redis\n        image: naoyoshi/mb-ui:stable\n        resources:\n          requests:\n            cpu: 100m\n            memory: 100Mi\n          limits:\n            cpu: 500m\n            memory: 256Mi\n        env:\n        - name: GET_HOSTS_FROM\n          value: dns\n        ports:\n        - containerPort: 80\n        securityContext:\n          capabilities:\n            drop:\n            - NET_RAW\n            - NET_ADMIN\n            - SYS_ADMIN\n            - SYS_MODULE\n            - SYS_PTRACE\n            - SYS_CHROOT\n          privileged: false\n          allowPrivilegeEscalation: false\n          runAsNonRoot: true\n          readOnlyRootFilesystem: true\n",
    "errors": []
  },
  {
    "id": "02565",
    "policy_id": "read_only_root_fs",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: frontend\nspec:\n  selector:\n    matchLabels:\n      app: guestbook\n      tier: frontend\n  replicas: 1\n  template:\n    metadata:\n      labels:\n        app: guestbook\n        tier: frontend\n    spec:\n      containers:\n      - name: php-redis\n        image: naoyoshi/mb-ui:stable\n        resources:\n          requests:\n            cpu: 100m\n            memory: 100Mi\n          limits:\n            cpu: 500m\n            memory: 256Mi\n        env:\n        - name: GET_HOSTS_FROM\n          value: dns\n        ports:\n        - containerPort: 80\n        securityContext:\n          readOnlyRootFilesystem: true\n          privileged: false\n          capabilities:\n            drop:\n            - NET_RAW\n            - NET_ADMIN\n            - SYS_ADMIN\n            - SYS_MODULE\n            - SYS_PTRACE\n            - SYS_CHROOT\n          allowPrivilegeEscalation: false\n          runAsNonRoot: true\n",
    "errors": []
  },
  {
    "id": "02566",
    "policy_id": "run_as_non_root",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: frontend\nspec:\n  selector:\n    matchLabels:\n      app: guestbook\n      tier: frontend\n  replicas: 1\n  template:\n    metadata:\n      labels:\n        app: guestbook\n        tier: frontend\n    spec:\n      containers:\n      - name: php-redis\n        image: naoyoshi/mb-ui:stable\n        resources:\n          requests:\n            cpu: 100m\n            memory: 100Mi\n          limits:\n            cpu: 500m\n            memory: 256Mi\n        env:\n        - name: GET_HOSTS_FROM\n          value: dns\n        ports:\n        - containerPort: 80\n        securityContext:\n          runAsNonRoot: true\n          privileged: false\n          capabilities:\n            drop:\n            - NET_RAW\n            - NET_ADMIN\n            - SYS_ADMIN\n            - SYS_MODULE\n            - SYS_PTRACE\n            - SYS_CHROOT\n          allowPrivilegeEscalation: false\n          readOnlyRootFilesystem: true\n      securityContext:\n        runAsNonRoot: true\n",
    "errors": []
  },
  {
    "id": "02567",
    "policy_id": "set_requests_limits",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: frontend\nspec:\n  selector:\n    matchLabels:\n      app: guestbook\n      tier: frontend\n  replicas: 1\n  template:\n    metadata:\n      labels:\n        app: guestbook\n        tier: frontend\n    spec:\n      containers:\n      - name: php-redis\n        image: naoyoshi/mb-ui:stable\n        resources:\n          requests:\n            cpu: 100m\n            memory: 128Mi\n          limits:\n            cpu: 500m\n            memory: 256Mi\n        env:\n        - name: GET_HOSTS_FROM\n          value: dns\n        ports:\n        - containerPort: 80\n        securityContext:\n          privileged: false\n          capabilities:\n            drop:\n            - NET_RAW\n            - NET_ADMIN\n            - SYS_ADMIN\n            - SYS_MODULE\n            - SYS_PTRACE\n            - SYS_CHROOT\n          allowPrivilegeEscalation: false\n          runAsNonRoot: true\n          readOnlyRootFilesystem: true\n",
    "errors": []
  },
  {
    "id": "02568",
    "policy_id": "no_latest_tag",
    "accepted": false,
    "ok_schema": false,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": null,
    "errors": [
      "kubectl dry-run failed: The Deployment \"server\" is invalid: \n* spec.template.spec.containers[0].resources.requests: Invalid value: \"8Gi\": must be less than or equal to memory limit of 256Mi\n* spec.template.spec.containers[1].resources.requests: Invalid value: \"8Gi\": must be less than or equal to memory limit of 256Mi"
    ]
  },
  {
    "id": "02569",
    "policy_id": "no_latest_tag",
    "accepted": false,
    "ok_schema": false,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": null,
    "errors": [
      "kubectl dry-run failed: The Deployment \"server\" is invalid: \n* spec.template.spec.containers[0].resources.requests: Invalid value: \"8Gi\": must be less than or equal to memory limit of 256Mi\n* spec.template.spec.containers[1].resources.requests: Invalid value: \"8Gi\": must be less than or equal to memory limit of 256Mi"
    ]
  },
  {
    "id": "02570",
    "policy_id": "read_only_root_fs",
    "accepted": false,
    "ok_schema": false,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": null,
    "errors": [
      "kubectl dry-run failed: The Deployment \"server\" is invalid: \n* spec.template.spec.containers[0].resources.requests: Invalid value: \"8Gi\": must be less than or equal to memory limit of 256Mi\n* spec.template.spec.containers[1].resources.requests: Invalid value: \"8Gi\": must be less than or equal to memory limit of 256Mi"
    ]
  },
  {
    "id": "02571",
    "policy_id": "read_only_root_fs",
    "accepted": false,
    "ok_schema": false,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": null,
    "errors": [
      "kubectl dry-run failed: The Deployment \"server\" is invalid: \n* spec.template.spec.containers[0].resources.requests: Invalid value: \"8Gi\": must be less than or equal to memory limit of 256Mi\n* spec.template.spec.containers[1].resources.requests: Invalid value: \"8Gi\": must be less than or equal to memory limit of 256Mi"
    ]
  },
  {
    "id": "02572",
    "policy_id": "run_as_non_root",
    "accepted": false,
    "ok_schema": false,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": null,
    "errors": [
      "kubectl dry-run failed: The Deployment \"server\" is invalid: \n* spec.template.spec.containers[0].resources.requests: Invalid value: \"8Gi\": must be less than or equal to memory limit of 256Mi\n* spec.template.spec.containers[1].resources.requests: Invalid value: \"8Gi\": must be less than or equal to memory limit of 256Mi"
    ]
  },
  {
    "id": "02573",
    "policy_id": "run_as_non_root",
    "accepted": false,
    "ok_schema": false,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": null,
    "errors": [
      "kubectl dry-run failed: The Deployment \"server\" is invalid: \n* spec.template.spec.containers[0].resources.requests: Invalid value: \"8Gi\": must be less than or equal to memory limit of 256Mi\n* spec.template.spec.containers[1].resources.requests: Invalid value: \"8Gi\": must be less than or equal to memory limit of 256Mi"
    ]
  },
  {
    "id": "02574",
    "policy_id": "set_requests_limits",
    "accepted": false,
    "ok_schema": false,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": null,
    "errors": [
      "kubectl dry-run failed: The Deployment \"server\" is invalid: \n* spec.template.spec.containers[0].resources.requests: Invalid value: \"8Gi\": must be less than or equal to memory limit of 256Mi\n* spec.template.spec.containers[1].resources.requests: Invalid value: \"8Gi\": must be less than or equal to memory limit of 256Mi"
    ]
  },
  {
    "id": "02575",
    "policy_id": "set_requests_limits",
    "accepted": false,
    "ok_schema": false,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": null,
    "errors": [
      "kubectl dry-run failed: The Deployment \"server\" is invalid: \n* spec.template.spec.containers[0].resources.requests: Invalid value: \"8Gi\": must be less than or equal to memory limit of 256Mi\n* spec.template.spec.containers[1].resources.requests: Invalid value: \"8Gi\": must be less than or equal to memory limit of 256Mi"
    ]
  },
  {
    "id": "02576",
    "policy_id": "read_only_root_fs",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app.kubernetes.io/name: load-balancer-example\n  name: hello-world\nspec:\n  replicas: 5\n  selector:\n    matchLabels:\n      app.kubernetes.io/name: load-balancer-example\n  template:\n    metadata:\n      labels:\n        app.kubernetes.io/name: load-balancer-example\n    spec:\n      containers:\n      - image: nikhil101/django-k8s:2.1\n        name: hello-world\n        ports:\n        - containerPort: 8000\n        securityContext:\n          readOnlyRootFilesystem: true\n          privileged: false\n          capabilities:\n            drop:\n            - NET_RAW\n            - NET_ADMIN\n            - SYS_ADMIN\n            - SYS_MODULE\n            - SYS_PTRACE\n            - SYS_CHROOT\n          allowPrivilegeEscalation: false\n          runAsNonRoot: true\n        resources:\n          requests:\n            cpu: 100m\n            memory: 128Mi\n          limits:\n            cpu: 500m\n            memory: 256Mi\n",
    "errors": []
  },
  {
    "id": "02577",
    "policy_id": "run_as_non_root",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app.kubernetes.io/name: load-balancer-example\n  name: hello-world\nspec:\n  replicas: 5\n  selector:\n    matchLabels:\n      app.kubernetes.io/name: load-balancer-example\n  template:\n    metadata:\n      labels:\n        app.kubernetes.io/name: load-balancer-example\n    spec:\n      containers:\n      - image: nikhil101/django-k8s:2.1\n        name: hello-world\n        ports:\n        - containerPort: 8000\n        resources:\n          requests:\n            cpu: 100m\n            memory: 128Mi\n          limits:\n            cpu: 500m\n            memory: 256Mi\n        securityContext:\n          runAsNonRoot: true\n          privileged: false\n          capabilities:\n            drop:\n            - NET_RAW\n            - NET_ADMIN\n            - SYS_ADMIN\n            - SYS_MODULE\n            - SYS_PTRACE\n            - SYS_CHROOT\n          allowPrivilegeEscalation: false\n          readOnlyRootFilesystem: true\n      securityContext:\n        runAsNonRoot: true\n",
    "errors": []
  },
  {
    "id": "02578",
    "policy_id": "set_requests_limits",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app.kubernetes.io/name: load-balancer-example\n  name: hello-world\nspec:\n  replicas: 5\n  selector:\n    matchLabels:\n      app.kubernetes.io/name: load-balancer-example\n  template:\n    metadata:\n      labels:\n        app.kubernetes.io/name: load-balancer-example\n    spec:\n      containers:\n      - image: nikhil101/django-k8s:2.1\n        name: hello-world\n        ports:\n        - containerPort: 8000\n        resources:\n          requests:\n            cpu: 100m\n            memory: 128Mi\n          limits:\n            cpu: 500m\n            memory: 256Mi\n        securityContext:\n          privileged: false\n          capabilities:\n            drop:\n            - NET_RAW\n            - NET_ADMIN\n            - SYS_ADMIN\n            - SYS_MODULE\n            - SYS_PTRACE\n            - SYS_CHROOT\n          allowPrivilegeEscalation: false\n          runAsNonRoot: true\n          readOnlyRootFilesystem: true\n",
    "errors": []
  },
  {
    "id": "02579",
    "policy_id": "set_requests_limits",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app.kubernetes.io/name: load-balancer-example\n  name: hello-world\nspec:\n  replicas: 5\n  selector:\n    matchLabels:\n      app.kubernetes.io/name: load-balancer-example\n  template:\n    metadata:\n      labels:\n        app.kubernetes.io/name: load-balancer-example\n    spec:\n      containers:\n      - image: nikhil101/django-k8s:2.1\n        name: hello-world\n        ports:\n        - containerPort: 8000\n        resources:\n          requests:\n            cpu: 100m\n            memory: 128Mi\n          limits:\n            cpu: 500m\n            memory: 256Mi\n        securityContext:\n          privileged: false\n          capabilities:\n            drop:\n            - NET_RAW\n            - NET_ADMIN\n            - SYS_ADMIN\n            - SYS_MODULE\n            - SYS_PTRACE\n            - SYS_CHROOT\n          allowPrivilegeEscalation: false\n          runAsNonRoot: true\n          readOnlyRootFilesystem: true\n",
    "errors": []
  },
  {
    "id": "02580",
    "policy_id": "no_latest_tag",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: v1\nkind: Pod\nmetadata:\n  name: image-demo-3665\nspec:\n  containers:\n  - name: nginx\n    image: nginx:stable\n    resources:\n      requests:\n        cpu: 100m\n        memory: 128Mi\n      limits:\n        cpu: 500m\n        memory: 256Mi\n    securityContext:\n      capabilities:\n        drop:\n        - NET_RAW\n        - NET_ADMIN\n        - SYS_ADMIN\n        - SYS_MODULE\n        - SYS_PTRACE\n        - SYS_CHROOT\n      privileged: false\n      allowPrivilegeEscalation: false\n      runAsNonRoot: true\n      readOnlyRootFilesystem: true\n",
    "errors": []
  },
  {
    "id": "02581",
    "policy_id": "read_only_root_fs",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: v1\nkind: Pod\nmetadata:\n  name: image-demo-3665\nspec:\n  containers:\n  - name: nginx\n    image: nginx:stable\n    securityContext:\n      readOnlyRootFilesystem: true\n      privileged: false\n      capabilities:\n        drop:\n        - NET_RAW\n        - NET_ADMIN\n        - SYS_ADMIN\n        - SYS_MODULE\n        - SYS_PTRACE\n        - SYS_CHROOT\n      allowPrivilegeEscalation: false\n      runAsNonRoot: true\n    resources:\n      requests:\n        cpu: 100m\n        memory: 128Mi\n      limits:\n        cpu: 500m\n        memory: 256Mi\n",
    "errors": []
  },
  {
    "id": "02582",
    "policy_id": "run_as_non_root",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: v1\nkind: Pod\nmetadata:\n  name: image-demo-3665\nspec:\n  containers:\n  - name: nginx\n    image: nginx:stable\n    securityContext:\n      runAsNonRoot: true\n      privileged: false\n      capabilities:\n        drop:\n        - NET_RAW\n        - NET_ADMIN\n        - SYS_ADMIN\n        - SYS_MODULE\n        - SYS_PTRACE\n        - SYS_CHROOT\n      allowPrivilegeEscalation: false\n      readOnlyRootFilesystem: true\n    resources:\n      requests:\n        cpu: 100m\n        memory: 128Mi\n      limits:\n        cpu: 500m\n        memory: 256Mi\n  securityContext:\n    runAsNonRoot: true\n",
    "errors": []
  },
  {
    "id": "02583",
    "policy_id": "set_requests_limits",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: v1\nkind: Pod\nmetadata:\n  name: image-demo-3665\nspec:\n  containers:\n  - name: nginx\n    image: nginx:stable\n    resources:\n      limits:\n        cpu: 500m\n        memory: 256Mi\n      requests:\n        cpu: 100m\n        memory: 128Mi\n    securityContext:\n      privileged: false\n      capabilities:\n        drop:\n        - NET_RAW\n        - NET_ADMIN\n        - SYS_ADMIN\n        - SYS_MODULE\n        - SYS_PTRACE\n        - SYS_CHROOT\n      allowPrivilegeEscalation: false\n      runAsNonRoot: true\n      readOnlyRootFilesystem: true\n",
    "errors": []
  },
  {
    "id": "02584",
    "policy_id": "set_requests_limits",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: v1\nkind: Pod\nmetadata:\n  name: image-demo-3665\nspec:\n  containers:\n  - name: nginx\n    image: nginx:stable\n    resources:\n      requests:\n        cpu: 100m\n        memory: 128Mi\n      limits:\n        cpu: 500m\n        memory: 256Mi\n    securityContext:\n      privileged: false\n      capabilities:\n        drop:\n        - NET_RAW\n        - NET_ADMIN\n        - SYS_ADMIN\n        - SYS_MODULE\n        - SYS_PTRACE\n        - SYS_CHROOT\n      allowPrivilegeEscalation: false\n      runAsNonRoot: true\n      readOnlyRootFilesystem: true\n",
    "errors": []
  },
  {
    "id": "02585",
    "policy_id": "read_only_root_fs",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: batch/v1\nkind: CronJob\nmetadata:\n  labels:\n    accelerator: v2-8\n    benchmarkId: tf-r1.15.5-shapemask-conv-v2-8\n    frameworkVersion: tf-r1.15.5\n    mode: conv\n    model: shapemask\n  name: tf-r1.15.5-shapemask-conv-v2-8\n  namespace: automated\nspec:\n  jobTemplate:\n    spec:\n      template:\n        metadata:\n          annotations:\n            reserved.cloud-tpus.google.com: 'false'\n            tf-version.cloud-tpus.google.com: 1.15.5\n        spec:\n          containers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            image: gcr.io/xl-ml-test/health-monitor:stable\n            imagePullPolicy: Always\n            name: monitor\n            securityContext:\n              readOnlyRootFilesystem: true\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n          - args:\n            - python3\n            - /shapemask/models/official/detection/main.py\n            - --model=shapemask\n            - --use_tpu=True\n            - --eval_after_training=False\n            - --mode=train\n            - \"--params_override=\\\"eval\\\":\\n  \\\"eval_batch_size\\\": 8\\n  \\\"eval_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/val*\\\"\\n  \\\"eval_samples\\\": 5000\\n  \\\"val_json_file\\\"\\\n              : \\\"$(COCO_DIR)/instances_val2017.json\\\"\\n\\\"predict\\\":\\n  \\\"predict_batch_size\\\"\\\n              : 8\\n\\\"shapemask_head\\\":\\n  \\\"shape_prior_path\\\": \\\"$(SHAPEMASK_DIR)/kmeans_class_priors_91x20x32x32.npy\\\"\\\n              \\n  \\\"use_category_for_mask\\\": true\\n\\\"train\\\":\\n  \\\"checkpoint\\\":\\n\\\n              \\    \\\"path\\\": \\\"$(RESNET_PRETRAIN_DIR)/resnet50-checkpoint-2018-02-07\\\"\\\n              \\n    \\\"prefix\\\": \\\"resnet50/\\\"\\n  \\\"iterations_per_loop\\\": 100\\n  \\\"\\\n              total_steps\\\": 22500\\n  \\\"train_batch_size\\\": 64\\n  \\\"train_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/train*\\\"\\n\"\n            - --tpu=$(KUBE_GOOGLE_CLOUD_TPU_ENDPOINTS)\n            - --model_dir=$(MODEL_DIR)\n            - --num_cores=8\n            env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: PYTHONPATH\n              value: /shapemask/models/\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/tensorflow-tpu-1x:r1.15.5\n            imagePullPolicy: Always\n            name: train\n            resources:\n              limits:\n                cloud-tpus.google.com/v2: 8\n                cpu: 500m\n                memory: 256Mi\n              requests:\n                cpu: 100m\n                memory: 128Mi\n            securityContext:\n              readOnlyRootFilesystem: true\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n          initContainers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: METRIC_CONFIG\n              value: \"{\\n \\\"metric_collection_config\\\": {\\n  \\\"default_aggregation_strategies\\\"\\\n                : [\\n   \\\"final\\\"\\n  ],\\n  \\\"write_to_bigquery\\\": true\\n },\\n \\\"regression_test_config\\\"\\\n                : {\\n  \\\"metric_success_conditions\\\": {\\n   \\\"total_wall_time\\\": {\\n\\\n                \\    \\\"comparison\\\": \\\"less\\\",\\n    \\\"success_threshold\\\": {\\n   \\\n                \\  \\\"stddevs_from_mean\\\": 5\\n    },\\n    \\\"wait_for_n_points_of_history\\\"\\\n                : 10\\n   }\\n  }\\n },\\n \\\"test_name\\\": \\\"tf-r1.15.5-shapemask-conv-v2-8\\\"\\\n                \\n}\\n\"\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/publisher:stable\n            imagePullPolicy: Always\n            name: publisher\n            securityContext:\n              readOnlyRootFilesystem: true\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n          restartPolicy: OnFailure\n  schedule: 0 0 * * *\n",
    "errors": []
  },
  {
    "id": "02586",
    "policy_id": "read_only_root_fs",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: batch/v1\nkind: CronJob\nmetadata:\n  labels:\n    accelerator: v2-8\n    benchmarkId: tf-r1.15.5-shapemask-conv-v2-8\n    frameworkVersion: tf-r1.15.5\n    mode: conv\n    model: shapemask\n  name: tf-r1.15.5-shapemask-conv-v2-8\n  namespace: automated\nspec:\n  jobTemplate:\n    spec:\n      template:\n        metadata:\n          annotations:\n            reserved.cloud-tpus.google.com: 'false'\n            tf-version.cloud-tpus.google.com: 1.15.5\n        spec:\n          containers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            image: gcr.io/xl-ml-test/health-monitor:stable\n            imagePullPolicy: Always\n            name: monitor\n            securityContext:\n              readOnlyRootFilesystem: true\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n          - args:\n            - python3\n            - /shapemask/models/official/detection/main.py\n            - --model=shapemask\n            - --use_tpu=True\n            - --eval_after_training=False\n            - --mode=train\n            - \"--params_override=\\\"eval\\\":\\n  \\\"eval_batch_size\\\": 8\\n  \\\"eval_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/val*\\\"\\n  \\\"eval_samples\\\": 5000\\n  \\\"val_json_file\\\"\\\n              : \\\"$(COCO_DIR)/instances_val2017.json\\\"\\n\\\"predict\\\":\\n  \\\"predict_batch_size\\\"\\\n              : 8\\n\\\"shapemask_head\\\":\\n  \\\"shape_prior_path\\\": \\\"$(SHAPEMASK_DIR)/kmeans_class_priors_91x20x32x32.npy\\\"\\\n              \\n  \\\"use_category_for_mask\\\": true\\n\\\"train\\\":\\n  \\\"checkpoint\\\":\\n\\\n              \\    \\\"path\\\": \\\"$(RESNET_PRETRAIN_DIR)/resnet50-checkpoint-2018-02-07\\\"\\\n              \\n    \\\"prefix\\\": \\\"resnet50/\\\"\\n  \\\"iterations_per_loop\\\": 100\\n  \\\"\\\n              total_steps\\\": 22500\\n  \\\"train_batch_size\\\": 64\\n  \\\"train_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/train*\\\"\\n\"\n            - --tpu=$(KUBE_GOOGLE_CLOUD_TPU_ENDPOINTS)\n            - --model_dir=$(MODEL_DIR)\n            - --num_cores=8\n            env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: PYTHONPATH\n              value: /shapemask/models/\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/tensorflow-tpu-1x:r1.15.5\n            imagePullPolicy: Always\n            name: train\n            resources:\n              limits:\n                cloud-tpus.google.com/v2: 8\n                cpu: 500m\n                memory: 256Mi\n              requests:\n                cpu: 100m\n                memory: 128Mi\n            securityContext:\n              readOnlyRootFilesystem: true\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n          initContainers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: METRIC_CONFIG\n              value: \"{\\n \\\"metric_collection_config\\\": {\\n  \\\"default_aggregation_strategies\\\"\\\n                : [\\n   \\\"final\\\"\\n  ],\\n  \\\"write_to_bigquery\\\": true\\n },\\n \\\"regression_test_config\\\"\\\n                : {\\n  \\\"metric_success_conditions\\\": {\\n   \\\"total_wall_time\\\": {\\n\\\n                \\    \\\"comparison\\\": \\\"less\\\",\\n    \\\"success_threshold\\\": {\\n   \\\n                \\  \\\"stddevs_from_mean\\\": 5\\n    },\\n    \\\"wait_for_n_points_of_history\\\"\\\n                : 10\\n   }\\n  }\\n },\\n \\\"test_name\\\": \\\"tf-r1.15.5-shapemask-conv-v2-8\\\"\\\n                \\n}\\n\"\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/publisher:stable\n            imagePullPolicy: Always\n            name: publisher\n            securityContext:\n              readOnlyRootFilesystem: true\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n          restartPolicy: OnFailure\n  schedule: 0 0 * * *\n",
    "errors": []
  },
  {
    "id": "02587",
    "policy_id": "read_only_root_fs",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: batch/v1\nkind: CronJob\nmetadata:\n  labels:\n    accelerator: v2-8\n    benchmarkId: tf-r1.15.5-shapemask-conv-v2-8\n    frameworkVersion: tf-r1.15.5\n    mode: conv\n    model: shapemask\n  name: tf-r1.15.5-shapemask-conv-v2-8\n  namespace: automated\nspec:\n  jobTemplate:\n    spec:\n      template:\n        metadata:\n          annotations:\n            reserved.cloud-tpus.google.com: 'false'\n            tf-version.cloud-tpus.google.com: 1.15.5\n        spec:\n          containers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            image: gcr.io/xl-ml-test/health-monitor:stable\n            imagePullPolicy: Always\n            name: monitor\n            securityContext:\n              readOnlyRootFilesystem: true\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n          - args:\n            - python3\n            - /shapemask/models/official/detection/main.py\n            - --model=shapemask\n            - --use_tpu=True\n            - --eval_after_training=False\n            - --mode=train\n            - \"--params_override=\\\"eval\\\":\\n  \\\"eval_batch_size\\\": 8\\n  \\\"eval_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/val*\\\"\\n  \\\"eval_samples\\\": 5000\\n  \\\"val_json_file\\\"\\\n              : \\\"$(COCO_DIR)/instances_val2017.json\\\"\\n\\\"predict\\\":\\n  \\\"predict_batch_size\\\"\\\n              : 8\\n\\\"shapemask_head\\\":\\n  \\\"shape_prior_path\\\": \\\"$(SHAPEMASK_DIR)/kmeans_class_priors_91x20x32x32.npy\\\"\\\n              \\n  \\\"use_category_for_mask\\\": true\\n\\\"train\\\":\\n  \\\"checkpoint\\\":\\n\\\n              \\    \\\"path\\\": \\\"$(RESNET_PRETRAIN_DIR)/resnet50-checkpoint-2018-02-07\\\"\\\n              \\n    \\\"prefix\\\": \\\"resnet50/\\\"\\n  \\\"iterations_per_loop\\\": 100\\n  \\\"\\\n              total_steps\\\": 22500\\n  \\\"train_batch_size\\\": 64\\n  \\\"train_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/train*\\\"\\n\"\n            - --tpu=$(KUBE_GOOGLE_CLOUD_TPU_ENDPOINTS)\n            - --model_dir=$(MODEL_DIR)\n            - --num_cores=8\n            env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: PYTHONPATH\n              value: /shapemask/models/\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/tensorflow-tpu-1x:r1.15.5\n            imagePullPolicy: Always\n            name: train\n            resources:\n              limits:\n                cloud-tpus.google.com/v2: 8\n                cpu: 500m\n                memory: 256Mi\n              requests:\n                cpu: 100m\n                memory: 128Mi\n            securityContext:\n              readOnlyRootFilesystem: true\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n          initContainers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: METRIC_CONFIG\n              value: \"{\\n \\\"metric_collection_config\\\": {\\n  \\\"default_aggregation_strategies\\\"\\\n                : [\\n   \\\"final\\\"\\n  ],\\n  \\\"write_to_bigquery\\\": true\\n },\\n \\\"regression_test_config\\\"\\\n                : {\\n  \\\"metric_success_conditions\\\": {\\n   \\\"total_wall_time\\\": {\\n\\\n                \\    \\\"comparison\\\": \\\"less\\\",\\n    \\\"success_threshold\\\": {\\n   \\\n                \\  \\\"stddevs_from_mean\\\": 5\\n    },\\n    \\\"wait_for_n_points_of_history\\\"\\\n                : 10\\n   }\\n  }\\n },\\n \\\"test_name\\\": \\\"tf-r1.15.5-shapemask-conv-v2-8\\\"\\\n                \\n}\\n\"\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/publisher:stable\n            imagePullPolicy: Always\n            name: publisher\n            securityContext:\n              readOnlyRootFilesystem: true\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n          restartPolicy: OnFailure\n  schedule: 0 0 * * *\n",
    "errors": []
  },
  {
    "id": "02588",
    "policy_id": "run_as_non_root",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: batch/v1\nkind: CronJob\nmetadata:\n  labels:\n    accelerator: v2-8\n    benchmarkId: tf-r1.15.5-shapemask-conv-v2-8\n    frameworkVersion: tf-r1.15.5\n    mode: conv\n    model: shapemask\n  name: tf-r1.15.5-shapemask-conv-v2-8\n  namespace: automated\nspec:\n  jobTemplate:\n    spec:\n      template:\n        metadata:\n          annotations:\n            reserved.cloud-tpus.google.com: 'false'\n            tf-version.cloud-tpus.google.com: 1.15.5\n        spec:\n          containers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            image: gcr.io/xl-ml-test/health-monitor:stable\n            imagePullPolicy: Always\n            name: monitor\n            securityContext:\n              runAsNonRoot: true\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              readOnlyRootFilesystem: true\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n          - args:\n            - python3\n            - /shapemask/models/official/detection/main.py\n            - --model=shapemask\n            - --use_tpu=True\n            - --eval_after_training=False\n            - --mode=train\n            - \"--params_override=\\\"eval\\\":\\n  \\\"eval_batch_size\\\": 8\\n  \\\"eval_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/val*\\\"\\n  \\\"eval_samples\\\": 5000\\n  \\\"val_json_file\\\"\\\n              : \\\"$(COCO_DIR)/instances_val2017.json\\\"\\n\\\"predict\\\":\\n  \\\"predict_batch_size\\\"\\\n              : 8\\n\\\"shapemask_head\\\":\\n  \\\"shape_prior_path\\\": \\\"$(SHAPEMASK_DIR)/kmeans_class_priors_91x20x32x32.npy\\\"\\\n              \\n  \\\"use_category_for_mask\\\": true\\n\\\"train\\\":\\n  \\\"checkpoint\\\":\\n\\\n              \\    \\\"path\\\": \\\"$(RESNET_PRETRAIN_DIR)/resnet50-checkpoint-2018-02-07\\\"\\\n              \\n    \\\"prefix\\\": \\\"resnet50/\\\"\\n  \\\"iterations_per_loop\\\": 100\\n  \\\"\\\n              total_steps\\\": 22500\\n  \\\"train_batch_size\\\": 64\\n  \\\"train_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/train*\\\"\\n\"\n            - --tpu=$(KUBE_GOOGLE_CLOUD_TPU_ENDPOINTS)\n            - --model_dir=$(MODEL_DIR)\n            - --num_cores=8\n            env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: PYTHONPATH\n              value: /shapemask/models/\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/tensorflow-tpu-1x:r1.15.5\n            imagePullPolicy: Always\n            name: train\n            resources:\n              limits:\n                cloud-tpus.google.com/v2: 8\n                cpu: 500m\n                memory: 256Mi\n              requests:\n                cpu: 100m\n                memory: 128Mi\n            securityContext:\n              runAsNonRoot: true\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              readOnlyRootFilesystem: true\n          initContainers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: METRIC_CONFIG\n              value: \"{\\n \\\"metric_collection_config\\\": {\\n  \\\"default_aggregation_strategies\\\"\\\n                : [\\n   \\\"final\\\"\\n  ],\\n  \\\"write_to_bigquery\\\": true\\n },\\n \\\"regression_test_config\\\"\\\n                : {\\n  \\\"metric_success_conditions\\\": {\\n   \\\"total_wall_time\\\": {\\n\\\n                \\    \\\"comparison\\\": \\\"less\\\",\\n    \\\"success_threshold\\\": {\\n   \\\n                \\  \\\"stddevs_from_mean\\\": 5\\n    },\\n    \\\"wait_for_n_points_of_history\\\"\\\n                : 10\\n   }\\n  }\\n },\\n \\\"test_name\\\": \\\"tf-r1.15.5-shapemask-conv-v2-8\\\"\\\n                \\n}\\n\"\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/publisher:stable\n            imagePullPolicy: Always\n            name: publisher\n            securityContext:\n              runAsNonRoot: true\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              readOnlyRootFilesystem: true\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n          restartPolicy: OnFailure\n  schedule: 0 0 * * *\n",
    "errors": []
  },
  {
    "id": "02589",
    "policy_id": "run_as_non_root",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: batch/v1\nkind: CronJob\nmetadata:\n  labels:\n    accelerator: v2-8\n    benchmarkId: tf-r1.15.5-shapemask-conv-v2-8\n    frameworkVersion: tf-r1.15.5\n    mode: conv\n    model: shapemask\n  name: tf-r1.15.5-shapemask-conv-v2-8\n  namespace: automated\nspec:\n  jobTemplate:\n    spec:\n      template:\n        metadata:\n          annotations:\n            reserved.cloud-tpus.google.com: 'false'\n            tf-version.cloud-tpus.google.com: 1.15.5\n        spec:\n          containers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            image: gcr.io/xl-ml-test/health-monitor:stable\n            imagePullPolicy: Always\n            name: monitor\n            securityContext:\n              runAsNonRoot: true\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              readOnlyRootFilesystem: true\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n          - args:\n            - python3\n            - /shapemask/models/official/detection/main.py\n            - --model=shapemask\n            - --use_tpu=True\n            - --eval_after_training=False\n            - --mode=train\n            - \"--params_override=\\\"eval\\\":\\n  \\\"eval_batch_size\\\": 8\\n  \\\"eval_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/val*\\\"\\n  \\\"eval_samples\\\": 5000\\n  \\\"val_json_file\\\"\\\n              : \\\"$(COCO_DIR)/instances_val2017.json\\\"\\n\\\"predict\\\":\\n  \\\"predict_batch_size\\\"\\\n              : 8\\n\\\"shapemask_head\\\":\\n  \\\"shape_prior_path\\\": \\\"$(SHAPEMASK_DIR)/kmeans_class_priors_91x20x32x32.npy\\\"\\\n              \\n  \\\"use_category_for_mask\\\": true\\n\\\"train\\\":\\n  \\\"checkpoint\\\":\\n\\\n              \\    \\\"path\\\": \\\"$(RESNET_PRETRAIN_DIR)/resnet50-checkpoint-2018-02-07\\\"\\\n              \\n    \\\"prefix\\\": \\\"resnet50/\\\"\\n  \\\"iterations_per_loop\\\": 100\\n  \\\"\\\n              total_steps\\\": 22500\\n  \\\"train_batch_size\\\": 64\\n  \\\"train_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/train*\\\"\\n\"\n            - --tpu=$(KUBE_GOOGLE_CLOUD_TPU_ENDPOINTS)\n            - --model_dir=$(MODEL_DIR)\n            - --num_cores=8\n            env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: PYTHONPATH\n              value: /shapemask/models/\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/tensorflow-tpu-1x:r1.15.5\n            imagePullPolicy: Always\n            name: train\n            resources:\n              limits:\n                cloud-tpus.google.com/v2: 8\n                cpu: 500m\n                memory: 256Mi\n              requests:\n                cpu: 100m\n                memory: 128Mi\n            securityContext:\n              runAsNonRoot: true\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              readOnlyRootFilesystem: true\n          initContainers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: METRIC_CONFIG\n              value: \"{\\n \\\"metric_collection_config\\\": {\\n  \\\"default_aggregation_strategies\\\"\\\n                : [\\n   \\\"final\\\"\\n  ],\\n  \\\"write_to_bigquery\\\": true\\n },\\n \\\"regression_test_config\\\"\\\n                : {\\n  \\\"metric_success_conditions\\\": {\\n   \\\"total_wall_time\\\": {\\n\\\n                \\    \\\"comparison\\\": \\\"less\\\",\\n    \\\"success_threshold\\\": {\\n   \\\n                \\  \\\"stddevs_from_mean\\\": 5\\n    },\\n    \\\"wait_for_n_points_of_history\\\"\\\n                : 10\\n   }\\n  }\\n },\\n \\\"test_name\\\": \\\"tf-r1.15.5-shapemask-conv-v2-8\\\"\\\n                \\n}\\n\"\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/publisher:stable\n            imagePullPolicy: Always\n            name: publisher\n            securityContext:\n              runAsNonRoot: true\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              readOnlyRootFilesystem: true\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n          restartPolicy: OnFailure\n  schedule: 0 0 * * *\n",
    "errors": []
  },
  {
    "id": "02590",
    "policy_id": "run_as_non_root",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: batch/v1\nkind: CronJob\nmetadata:\n  labels:\n    accelerator: v2-8\n    benchmarkId: tf-r1.15.5-shapemask-conv-v2-8\n    frameworkVersion: tf-r1.15.5\n    mode: conv\n    model: shapemask\n  name: tf-r1.15.5-shapemask-conv-v2-8\n  namespace: automated\nspec:\n  jobTemplate:\n    spec:\n      template:\n        metadata:\n          annotations:\n            reserved.cloud-tpus.google.com: 'false'\n            tf-version.cloud-tpus.google.com: 1.15.5\n        spec:\n          containers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            image: gcr.io/xl-ml-test/health-monitor:stable\n            imagePullPolicy: Always\n            name: monitor\n            securityContext:\n              runAsNonRoot: true\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              readOnlyRootFilesystem: true\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n          - args:\n            - python3\n            - /shapemask/models/official/detection/main.py\n            - --model=shapemask\n            - --use_tpu=True\n            - --eval_after_training=False\n            - --mode=train\n            - \"--params_override=\\\"eval\\\":\\n  \\\"eval_batch_size\\\": 8\\n  \\\"eval_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/val*\\\"\\n  \\\"eval_samples\\\": 5000\\n  \\\"val_json_file\\\"\\\n              : \\\"$(COCO_DIR)/instances_val2017.json\\\"\\n\\\"predict\\\":\\n  \\\"predict_batch_size\\\"\\\n              : 8\\n\\\"shapemask_head\\\":\\n  \\\"shape_prior_path\\\": \\\"$(SHAPEMASK_DIR)/kmeans_class_priors_91x20x32x32.npy\\\"\\\n              \\n  \\\"use_category_for_mask\\\": true\\n\\\"train\\\":\\n  \\\"checkpoint\\\":\\n\\\n              \\    \\\"path\\\": \\\"$(RESNET_PRETRAIN_DIR)/resnet50-checkpoint-2018-02-07\\\"\\\n              \\n    \\\"prefix\\\": \\\"resnet50/\\\"\\n  \\\"iterations_per_loop\\\": 100\\n  \\\"\\\n              total_steps\\\": 22500\\n  \\\"train_batch_size\\\": 64\\n  \\\"train_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/train*\\\"\\n\"\n            - --tpu=$(KUBE_GOOGLE_CLOUD_TPU_ENDPOINTS)\n            - --model_dir=$(MODEL_DIR)\n            - --num_cores=8\n            env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: PYTHONPATH\n              value: /shapemask/models/\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/tensorflow-tpu-1x:r1.15.5\n            imagePullPolicy: Always\n            name: train\n            resources:\n              limits:\n                cloud-tpus.google.com/v2: 8\n                cpu: 500m\n                memory: 256Mi\n              requests:\n                cpu: 100m\n                memory: 128Mi\n            securityContext:\n              runAsNonRoot: true\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              readOnlyRootFilesystem: true\n          initContainers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: METRIC_CONFIG\n              value: \"{\\n \\\"metric_collection_config\\\": {\\n  \\\"default_aggregation_strategies\\\"\\\n                : [\\n   \\\"final\\\"\\n  ],\\n  \\\"write_to_bigquery\\\": true\\n },\\n \\\"regression_test_config\\\"\\\n                : {\\n  \\\"metric_success_conditions\\\": {\\n   \\\"total_wall_time\\\": {\\n\\\n                \\    \\\"comparison\\\": \\\"less\\\",\\n    \\\"success_threshold\\\": {\\n   \\\n                \\  \\\"stddevs_from_mean\\\": 5\\n    },\\n    \\\"wait_for_n_points_of_history\\\"\\\n                : 10\\n   }\\n  }\\n },\\n \\\"test_name\\\": \\\"tf-r1.15.5-shapemask-conv-v2-8\\\"\\\n                \\n}\\n\"\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/publisher:stable\n            imagePullPolicy: Always\n            name: publisher\n            securityContext:\n              runAsNonRoot: true\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              readOnlyRootFilesystem: true\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n          restartPolicy: OnFailure\n  schedule: 0 0 * * *\n",
    "errors": []
  },
  {
    "id": "02591",
    "policy_id": "set_requests_limits",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: batch/v1\nkind: CronJob\nmetadata:\n  labels:\n    accelerator: v2-8\n    benchmarkId: tf-r1.15.5-shapemask-conv-v2-8\n    frameworkVersion: tf-r1.15.5\n    mode: conv\n    model: shapemask\n  name: tf-r1.15.5-shapemask-conv-v2-8\n  namespace: automated\nspec:\n  jobTemplate:\n    spec:\n      template:\n        metadata:\n          annotations:\n            reserved.cloud-tpus.google.com: 'false'\n            tf-version.cloud-tpus.google.com: 1.15.5\n        spec:\n          containers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            image: gcr.io/xl-ml-test/health-monitor:stable\n            imagePullPolicy: Always\n            name: monitor\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n            securityContext:\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n              readOnlyRootFilesystem: true\n          - args:\n            - python3\n            - /shapemask/models/official/detection/main.py\n            - --model=shapemask\n            - --use_tpu=True\n            - --eval_after_training=False\n            - --mode=train\n            - \"--params_override=\\\"eval\\\":\\n  \\\"eval_batch_size\\\": 8\\n  \\\"eval_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/val*\\\"\\n  \\\"eval_samples\\\": 5000\\n  \\\"val_json_file\\\"\\\n              : \\\"$(COCO_DIR)/instances_val2017.json\\\"\\n\\\"predict\\\":\\n  \\\"predict_batch_size\\\"\\\n              : 8\\n\\\"shapemask_head\\\":\\n  \\\"shape_prior_path\\\": \\\"$(SHAPEMASK_DIR)/kmeans_class_priors_91x20x32x32.npy\\\"\\\n              \\n  \\\"use_category_for_mask\\\": true\\n\\\"train\\\":\\n  \\\"checkpoint\\\":\\n\\\n              \\    \\\"path\\\": \\\"$(RESNET_PRETRAIN_DIR)/resnet50-checkpoint-2018-02-07\\\"\\\n              \\n    \\\"prefix\\\": \\\"resnet50/\\\"\\n  \\\"iterations_per_loop\\\": 100\\n  \\\"\\\n              total_steps\\\": 22500\\n  \\\"train_batch_size\\\": 64\\n  \\\"train_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/train*\\\"\\n\"\n            - --tpu=$(KUBE_GOOGLE_CLOUD_TPU_ENDPOINTS)\n            - --model_dir=$(MODEL_DIR)\n            - --num_cores=8\n            env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: PYTHONPATH\n              value: /shapemask/models/\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/tensorflow-tpu-1x:r1.15.5\n            imagePullPolicy: Always\n            name: train\n            resources:\n              limits:\n                cloud-tpus.google.com/v2: 8\n                cpu: 500m\n                memory: 256Mi\n              requests:\n                cpu: 100m\n                memory: 128Mi\n            securityContext:\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n              readOnlyRootFilesystem: true\n          initContainers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: METRIC_CONFIG\n              value: \"{\\n \\\"metric_collection_config\\\": {\\n  \\\"default_aggregation_strategies\\\"\\\n                : [\\n   \\\"final\\\"\\n  ],\\n  \\\"write_to_bigquery\\\": true\\n },\\n \\\"regression_test_config\\\"\\\n                : {\\n  \\\"metric_success_conditions\\\": {\\n   \\\"total_wall_time\\\": {\\n\\\n                \\    \\\"comparison\\\": \\\"less\\\",\\n    \\\"success_threshold\\\": {\\n   \\\n                \\  \\\"stddevs_from_mean\\\": 5\\n    },\\n    \\\"wait_for_n_points_of_history\\\"\\\n                : 10\\n   }\\n  }\\n },\\n \\\"test_name\\\": \\\"tf-r1.15.5-shapemask-conv-v2-8\\\"\\\n                \\n}\\n\"\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/publisher:stable\n            imagePullPolicy: Always\n            name: publisher\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n            securityContext:\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n              readOnlyRootFilesystem: true\n          restartPolicy: OnFailure\n  schedule: 0 0 * * *\n",
    "errors": []
  },
  {
    "id": "02592",
    "policy_id": "set_requests_limits",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: batch/v1\nkind: CronJob\nmetadata:\n  labels:\n    accelerator: v2-8\n    benchmarkId: tf-r1.15.5-shapemask-conv-v2-8\n    frameworkVersion: tf-r1.15.5\n    mode: conv\n    model: shapemask\n  name: tf-r1.15.5-shapemask-conv-v2-8\n  namespace: automated\nspec:\n  jobTemplate:\n    spec:\n      template:\n        metadata:\n          annotations:\n            reserved.cloud-tpus.google.com: 'false'\n            tf-version.cloud-tpus.google.com: 1.15.5\n        spec:\n          containers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            image: gcr.io/xl-ml-test/health-monitor:stable\n            imagePullPolicy: Always\n            name: monitor\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n            securityContext:\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n              readOnlyRootFilesystem: true\n          - args:\n            - python3\n            - /shapemask/models/official/detection/main.py\n            - --model=shapemask\n            - --use_tpu=True\n            - --eval_after_training=False\n            - --mode=train\n            - \"--params_override=\\\"eval\\\":\\n  \\\"eval_batch_size\\\": 8\\n  \\\"eval_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/val*\\\"\\n  \\\"eval_samples\\\": 5000\\n  \\\"val_json_file\\\"\\\n              : \\\"$(COCO_DIR)/instances_val2017.json\\\"\\n\\\"predict\\\":\\n  \\\"predict_batch_size\\\"\\\n              : 8\\n\\\"shapemask_head\\\":\\n  \\\"shape_prior_path\\\": \\\"$(SHAPEMASK_DIR)/kmeans_class_priors_91x20x32x32.npy\\\"\\\n              \\n  \\\"use_category_for_mask\\\": true\\n\\\"train\\\":\\n  \\\"checkpoint\\\":\\n\\\n              \\    \\\"path\\\": \\\"$(RESNET_PRETRAIN_DIR)/resnet50-checkpoint-2018-02-07\\\"\\\n              \\n    \\\"prefix\\\": \\\"resnet50/\\\"\\n  \\\"iterations_per_loop\\\": 100\\n  \\\"\\\n              total_steps\\\": 22500\\n  \\\"train_batch_size\\\": 64\\n  \\\"train_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/train*\\\"\\n\"\n            - --tpu=$(KUBE_GOOGLE_CLOUD_TPU_ENDPOINTS)\n            - --model_dir=$(MODEL_DIR)\n            - --num_cores=8\n            env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: PYTHONPATH\n              value: /shapemask/models/\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/tensorflow-tpu-1x:r1.15.5\n            imagePullPolicy: Always\n            name: train\n            resources:\n              limits:\n                cloud-tpus.google.com/v2: 8\n                cpu: 500m\n                memory: 256Mi\n              requests:\n                cpu: 100m\n                memory: 128Mi\n            securityContext:\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n              readOnlyRootFilesystem: true\n          initContainers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: METRIC_CONFIG\n              value: \"{\\n \\\"metric_collection_config\\\": {\\n  \\\"default_aggregation_strategies\\\"\\\n                : [\\n   \\\"final\\\"\\n  ],\\n  \\\"write_to_bigquery\\\": true\\n },\\n \\\"regression_test_config\\\"\\\n                : {\\n  \\\"metric_success_conditions\\\": {\\n   \\\"total_wall_time\\\": {\\n\\\n                \\    \\\"comparison\\\": \\\"less\\\",\\n    \\\"success_threshold\\\": {\\n   \\\n                \\  \\\"stddevs_from_mean\\\": 5\\n    },\\n    \\\"wait_for_n_points_of_history\\\"\\\n                : 10\\n   }\\n  }\\n },\\n \\\"test_name\\\": \\\"tf-r1.15.5-shapemask-conv-v2-8\\\"\\\n                \\n}\\n\"\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/publisher:stable\n            imagePullPolicy: Always\n            name: publisher\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n            securityContext:\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n              readOnlyRootFilesystem: true\n          restartPolicy: OnFailure\n  schedule: 0 0 * * *\n",
    "errors": []
  },
  {
    "id": "02593",
    "policy_id": "set_requests_limits",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: batch/v1\nkind: CronJob\nmetadata:\n  labels:\n    accelerator: v2-8\n    benchmarkId: tf-r1.15.5-shapemask-conv-v2-8\n    frameworkVersion: tf-r1.15.5\n    mode: conv\n    model: shapemask\n  name: tf-r1.15.5-shapemask-conv-v2-8\n  namespace: automated\nspec:\n  jobTemplate:\n    spec:\n      template:\n        metadata:\n          annotations:\n            reserved.cloud-tpus.google.com: 'false'\n            tf-version.cloud-tpus.google.com: 1.15.5\n        spec:\n          containers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            image: gcr.io/xl-ml-test/health-monitor:stable\n            imagePullPolicy: Always\n            name: monitor\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n            securityContext:\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n              readOnlyRootFilesystem: true\n          - args:\n            - python3\n            - /shapemask/models/official/detection/main.py\n            - --model=shapemask\n            - --use_tpu=True\n            - --eval_after_training=False\n            - --mode=train\n            - \"--params_override=\\\"eval\\\":\\n  \\\"eval_batch_size\\\": 8\\n  \\\"eval_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/val*\\\"\\n  \\\"eval_samples\\\": 5000\\n  \\\"val_json_file\\\"\\\n              : \\\"$(COCO_DIR)/instances_val2017.json\\\"\\n\\\"predict\\\":\\n  \\\"predict_batch_size\\\"\\\n              : 8\\n\\\"shapemask_head\\\":\\n  \\\"shape_prior_path\\\": \\\"$(SHAPEMASK_DIR)/kmeans_class_priors_91x20x32x32.npy\\\"\\\n              \\n  \\\"use_category_for_mask\\\": true\\n\\\"train\\\":\\n  \\\"checkpoint\\\":\\n\\\n              \\    \\\"path\\\": \\\"$(RESNET_PRETRAIN_DIR)/resnet50-checkpoint-2018-02-07\\\"\\\n              \\n    \\\"prefix\\\": \\\"resnet50/\\\"\\n  \\\"iterations_per_loop\\\": 100\\n  \\\"\\\n              total_steps\\\": 22500\\n  \\\"train_batch_size\\\": 64\\n  \\\"train_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/train*\\\"\\n\"\n            - --tpu=$(KUBE_GOOGLE_CLOUD_TPU_ENDPOINTS)\n            - --model_dir=$(MODEL_DIR)\n            - --num_cores=8\n            env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: PYTHONPATH\n              value: /shapemask/models/\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/tensorflow-tpu-1x:r1.15.5\n            imagePullPolicy: Always\n            name: train\n            resources:\n              limits:\n                cloud-tpus.google.com/v2: 8\n                cpu: 500m\n                memory: 256Mi\n              requests:\n                cpu: 100m\n                memory: 128Mi\n            securityContext:\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n              readOnlyRootFilesystem: true\n          initContainers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: METRIC_CONFIG\n              value: \"{\\n \\\"metric_collection_config\\\": {\\n  \\\"default_aggregation_strategies\\\"\\\n                : [\\n   \\\"final\\\"\\n  ],\\n  \\\"write_to_bigquery\\\": true\\n },\\n \\\"regression_test_config\\\"\\\n                : {\\n  \\\"metric_success_conditions\\\": {\\n   \\\"total_wall_time\\\": {\\n\\\n                \\    \\\"comparison\\\": \\\"less\\\",\\n    \\\"success_threshold\\\": {\\n   \\\n                \\  \\\"stddevs_from_mean\\\": 5\\n    },\\n    \\\"wait_for_n_points_of_history\\\"\\\n                : 10\\n   }\\n  }\\n },\\n \\\"test_name\\\": \\\"tf-r1.15.5-shapemask-conv-v2-8\\\"\\\n                \\n}\\n\"\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/publisher:stable\n            imagePullPolicy: Always\n            name: publisher\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n            securityContext:\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n              readOnlyRootFilesystem: true\n          restartPolicy: OnFailure\n  schedule: 0 0 * * *\n",
    "errors": []
  },
  {
    "id": "02594",
    "policy_id": "set_requests_limits",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: batch/v1\nkind: CronJob\nmetadata:\n  labels:\n    accelerator: v2-8\n    benchmarkId: tf-r1.15.5-shapemask-conv-v2-8\n    frameworkVersion: tf-r1.15.5\n    mode: conv\n    model: shapemask\n  name: tf-r1.15.5-shapemask-conv-v2-8\n  namespace: automated\nspec:\n  jobTemplate:\n    spec:\n      template:\n        metadata:\n          annotations:\n            reserved.cloud-tpus.google.com: 'false'\n            tf-version.cloud-tpus.google.com: 1.15.5\n        spec:\n          containers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            image: gcr.io/xl-ml-test/health-monitor:stable\n            imagePullPolicy: Always\n            name: monitor\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n            securityContext:\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n              readOnlyRootFilesystem: true\n          - args:\n            - python3\n            - /shapemask/models/official/detection/main.py\n            - --model=shapemask\n            - --use_tpu=True\n            - --eval_after_training=False\n            - --mode=train\n            - \"--params_override=\\\"eval\\\":\\n  \\\"eval_batch_size\\\": 8\\n  \\\"eval_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/val*\\\"\\n  \\\"eval_samples\\\": 5000\\n  \\\"val_json_file\\\"\\\n              : \\\"$(COCO_DIR)/instances_val2017.json\\\"\\n\\\"predict\\\":\\n  \\\"predict_batch_size\\\"\\\n              : 8\\n\\\"shapemask_head\\\":\\n  \\\"shape_prior_path\\\": \\\"$(SHAPEMASK_DIR)/kmeans_class_priors_91x20x32x32.npy\\\"\\\n              \\n  \\\"use_category_for_mask\\\": true\\n\\\"train\\\":\\n  \\\"checkpoint\\\":\\n\\\n              \\    \\\"path\\\": \\\"$(RESNET_PRETRAIN_DIR)/resnet50-checkpoint-2018-02-07\\\"\\\n              \\n    \\\"prefix\\\": \\\"resnet50/\\\"\\n  \\\"iterations_per_loop\\\": 100\\n  \\\"\\\n              total_steps\\\": 22500\\n  \\\"train_batch_size\\\": 64\\n  \\\"train_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/train*\\\"\\n\"\n            - --tpu=$(KUBE_GOOGLE_CLOUD_TPU_ENDPOINTS)\n            - --model_dir=$(MODEL_DIR)\n            - --num_cores=8\n            env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: PYTHONPATH\n              value: /shapemask/models/\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/tensorflow-tpu-1x:r1.15.5\n            imagePullPolicy: Always\n            name: train\n            resources:\n              limits:\n                cloud-tpus.google.com/v2: 8\n                cpu: 500m\n                memory: 256Mi\n              requests:\n                cpu: 100m\n                memory: 128Mi\n            securityContext:\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n              readOnlyRootFilesystem: true\n          initContainers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: METRIC_CONFIG\n              value: \"{\\n \\\"metric_collection_config\\\": {\\n  \\\"default_aggregation_strategies\\\"\\\n                : [\\n   \\\"final\\\"\\n  ],\\n  \\\"write_to_bigquery\\\": true\\n },\\n \\\"regression_test_config\\\"\\\n                : {\\n  \\\"metric_success_conditions\\\": {\\n   \\\"total_wall_time\\\": {\\n\\\n                \\    \\\"comparison\\\": \\\"less\\\",\\n    \\\"success_threshold\\\": {\\n   \\\n                \\  \\\"stddevs_from_mean\\\": 5\\n    },\\n    \\\"wait_for_n_points_of_history\\\"\\\n                : 10\\n   }\\n  }\\n },\\n \\\"test_name\\\": \\\"tf-r1.15.5-shapemask-conv-v2-8\\\"\\\n                \\n}\\n\"\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/publisher:stable\n            imagePullPolicy: Always\n            name: publisher\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n            securityContext:\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n              readOnlyRootFilesystem: true\n          restartPolicy: OnFailure\n  schedule: 0 0 * * *\n",
    "errors": []
  },
  {
    "id": "02595",
    "policy_id": "set_requests_limits",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: batch/v1\nkind: CronJob\nmetadata:\n  labels:\n    accelerator: v2-8\n    benchmarkId: tf-r1.15.5-shapemask-conv-v2-8\n    frameworkVersion: tf-r1.15.5\n    mode: conv\n    model: shapemask\n  name: tf-r1.15.5-shapemask-conv-v2-8\n  namespace: automated\nspec:\n  jobTemplate:\n    spec:\n      template:\n        metadata:\n          annotations:\n            reserved.cloud-tpus.google.com: 'false'\n            tf-version.cloud-tpus.google.com: 1.15.5\n        spec:\n          containers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            image: gcr.io/xl-ml-test/health-monitor:stable\n            imagePullPolicy: Always\n            name: monitor\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n            securityContext:\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n              readOnlyRootFilesystem: true\n          - args:\n            - python3\n            - /shapemask/models/official/detection/main.py\n            - --model=shapemask\n            - --use_tpu=True\n            - --eval_after_training=False\n            - --mode=train\n            - \"--params_override=\\\"eval\\\":\\n  \\\"eval_batch_size\\\": 8\\n  \\\"eval_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/val*\\\"\\n  \\\"eval_samples\\\": 5000\\n  \\\"val_json_file\\\"\\\n              : \\\"$(COCO_DIR)/instances_val2017.json\\\"\\n\\\"predict\\\":\\n  \\\"predict_batch_size\\\"\\\n              : 8\\n\\\"shapemask_head\\\":\\n  \\\"shape_prior_path\\\": \\\"$(SHAPEMASK_DIR)/kmeans_class_priors_91x20x32x32.npy\\\"\\\n              \\n  \\\"use_category_for_mask\\\": true\\n\\\"train\\\":\\n  \\\"checkpoint\\\":\\n\\\n              \\    \\\"path\\\": \\\"$(RESNET_PRETRAIN_DIR)/resnet50-checkpoint-2018-02-07\\\"\\\n              \\n    \\\"prefix\\\": \\\"resnet50/\\\"\\n  \\\"iterations_per_loop\\\": 100\\n  \\\"\\\n              total_steps\\\": 22500\\n  \\\"train_batch_size\\\": 64\\n  \\\"train_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/train*\\\"\\n\"\n            - --tpu=$(KUBE_GOOGLE_CLOUD_TPU_ENDPOINTS)\n            - --model_dir=$(MODEL_DIR)\n            - --num_cores=8\n            env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: PYTHONPATH\n              value: /shapemask/models/\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/tensorflow-tpu-1x:r1.15.5\n            imagePullPolicy: Always\n            name: train\n            resources:\n              limits:\n                cloud-tpus.google.com/v2: 8\n                cpu: 500m\n                memory: 256Mi\n              requests:\n                cpu: 100m\n                memory: 128Mi\n            securityContext:\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n              readOnlyRootFilesystem: true\n          initContainers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: METRIC_CONFIG\n              value: \"{\\n \\\"metric_collection_config\\\": {\\n  \\\"default_aggregation_strategies\\\"\\\n                : [\\n   \\\"final\\\"\\n  ],\\n  \\\"write_to_bigquery\\\": true\\n },\\n \\\"regression_test_config\\\"\\\n                : {\\n  \\\"metric_success_conditions\\\": {\\n   \\\"total_wall_time\\\": {\\n\\\n                \\    \\\"comparison\\\": \\\"less\\\",\\n    \\\"success_threshold\\\": {\\n   \\\n                \\  \\\"stddevs_from_mean\\\": 5\\n    },\\n    \\\"wait_for_n_points_of_history\\\"\\\n                : 10\\n   }\\n  }\\n },\\n \\\"test_name\\\": \\\"tf-r1.15.5-shapemask-conv-v2-8\\\"\\\n                \\n}\\n\"\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/publisher:stable\n            imagePullPolicy: Always\n            name: publisher\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n            securityContext:\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n              readOnlyRootFilesystem: true\n          restartPolicy: OnFailure\n  schedule: 0 0 * * *\n",
    "errors": []
  },
  {
    "id": "02596",
    "policy_id": "set_requests_limits",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: batch/v1\nkind: CronJob\nmetadata:\n  labels:\n    accelerator: v2-8\n    benchmarkId: tf-r1.15.5-shapemask-conv-v2-8\n    frameworkVersion: tf-r1.15.5\n    mode: conv\n    model: shapemask\n  name: tf-r1.15.5-shapemask-conv-v2-8\n  namespace: automated\nspec:\n  jobTemplate:\n    spec:\n      template:\n        metadata:\n          annotations:\n            reserved.cloud-tpus.google.com: 'false'\n            tf-version.cloud-tpus.google.com: 1.15.5\n        spec:\n          containers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            image: gcr.io/xl-ml-test/health-monitor:stable\n            imagePullPolicy: Always\n            name: monitor\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n            securityContext:\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n              readOnlyRootFilesystem: true\n          - args:\n            - python3\n            - /shapemask/models/official/detection/main.py\n            - --model=shapemask\n            - --use_tpu=True\n            - --eval_after_training=False\n            - --mode=train\n            - \"--params_override=\\\"eval\\\":\\n  \\\"eval_batch_size\\\": 8\\n  \\\"eval_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/val*\\\"\\n  \\\"eval_samples\\\": 5000\\n  \\\"val_json_file\\\"\\\n              : \\\"$(COCO_DIR)/instances_val2017.json\\\"\\n\\\"predict\\\":\\n  \\\"predict_batch_size\\\"\\\n              : 8\\n\\\"shapemask_head\\\":\\n  \\\"shape_prior_path\\\": \\\"$(SHAPEMASK_DIR)/kmeans_class_priors_91x20x32x32.npy\\\"\\\n              \\n  \\\"use_category_for_mask\\\": true\\n\\\"train\\\":\\n  \\\"checkpoint\\\":\\n\\\n              \\    \\\"path\\\": \\\"$(RESNET_PRETRAIN_DIR)/resnet50-checkpoint-2018-02-07\\\"\\\n              \\n    \\\"prefix\\\": \\\"resnet50/\\\"\\n  \\\"iterations_per_loop\\\": 100\\n  \\\"\\\n              total_steps\\\": 22500\\n  \\\"train_batch_size\\\": 64\\n  \\\"train_file_pattern\\\"\\\n              : \\\"$(COCO_DIR)/train*\\\"\\n\"\n            - --tpu=$(KUBE_GOOGLE_CLOUD_TPU_ENDPOINTS)\n            - --model_dir=$(MODEL_DIR)\n            - --num_cores=8\n            env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: PYTHONPATH\n              value: /shapemask/models/\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/tensorflow-tpu-1x:r1.15.5\n            imagePullPolicy: Always\n            name: train\n            resources:\n              limits:\n                cloud-tpus.google.com/v2: 8\n                cpu: 500m\n                memory: 256Mi\n              requests:\n                cpu: 100m\n                memory: 128Mi\n            securityContext:\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n              readOnlyRootFilesystem: true\n          initContainers:\n          - env:\n            - name: POD_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.name\n            - name: POD_UID\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.uid\n            - name: POD_NAMESPACE\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.namespace\n            - name: JOB_NAME\n              valueFrom:\n                fieldRef:\n                  fieldPath: metadata.labels['job-name']\n            - name: MODEL_DIR\n              value: $(OUTPUT_BUCKET)/tf-r1.15.5/shapemask/conv/v2-8/$(JOB_NAME)\n            - name: METRIC_CONFIG\n              value: \"{\\n \\\"metric_collection_config\\\": {\\n  \\\"default_aggregation_strategies\\\"\\\n                : [\\n   \\\"final\\\"\\n  ],\\n  \\\"write_to_bigquery\\\": true\\n },\\n \\\"regression_test_config\\\"\\\n                : {\\n  \\\"metric_success_conditions\\\": {\\n   \\\"total_wall_time\\\": {\\n\\\n                \\    \\\"comparison\\\": \\\"less\\\",\\n    \\\"success_threshold\\\": {\\n   \\\n                \\  \\\"stddevs_from_mean\\\": 5\\n    },\\n    \\\"wait_for_n_points_of_history\\\"\\\n                : 10\\n   }\\n  }\\n },\\n \\\"test_name\\\": \\\"tf-r1.15.5-shapemask-conv-v2-8\\\"\\\n                \\n}\\n\"\n            envFrom:\n            - configMapRef:\n                name: gcs-buckets\n            image: gcr.io/xl-ml-test/publisher:stable\n            imagePullPolicy: Always\n            name: publisher\n            resources:\n              requests:\n                cpu: 100m\n                memory: 128Mi\n              limits:\n                cpu: 500m\n                memory: 256Mi\n            securityContext:\n              privileged: false\n              capabilities:\n                drop:\n                - NET_RAW\n                - NET_ADMIN\n                - SYS_ADMIN\n                - SYS_MODULE\n                - SYS_PTRACE\n                - SYS_CHROOT\n              allowPrivilegeEscalation: false\n              runAsNonRoot: true\n              readOnlyRootFilesystem: true\n          restartPolicy: OnFailure\n  schedule: 0 0 * * *\n",
    "errors": []
  },
  {
    "id": "02597",
    "policy_id": "no_latest_tag",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: v1\nkind: Pod\nmetadata:\n  name: image-demo-1497\nspec:\n  containers:\n  - name: nginx\n    image: nginx:stable\n    resources:\n      requests:\n        cpu: 100m\n        memory: 128Mi\n      limits:\n        cpu: 500m\n        memory: 256Mi\n    securityContext:\n      capabilities:\n        drop:\n        - NET_RAW\n        - NET_ADMIN\n        - SYS_ADMIN\n        - SYS_MODULE\n        - SYS_PTRACE\n        - SYS_CHROOT\n      privileged: false\n      allowPrivilegeEscalation: false\n      runAsNonRoot: true\n      readOnlyRootFilesystem: true\n",
    "errors": []
  },
  {
    "id": "02598",
    "policy_id": "read_only_root_fs",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: v1\nkind: Pod\nmetadata:\n  name: image-demo-1497\nspec:\n  containers:\n  - name: nginx\n    image: nginx:stable\n    securityContext:\n      readOnlyRootFilesystem: true\n      privileged: false\n      capabilities:\n        drop:\n        - NET_RAW\n        - NET_ADMIN\n        - SYS_ADMIN\n        - SYS_MODULE\n        - SYS_PTRACE\n        - SYS_CHROOT\n      allowPrivilegeEscalation: false\n      runAsNonRoot: true\n    resources:\n      requests:\n        cpu: 100m\n        memory: 128Mi\n      limits:\n        cpu: 500m\n        memory: 256Mi\n",
    "errors": []
  },
  {
    "id": "02599",
    "policy_id": "run_as_non_root",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: v1\nkind: Pod\nmetadata:\n  name: image-demo-1497\nspec:\n  containers:\n  - name: nginx\n    image: nginx:stable\n    securityContext:\n      runAsNonRoot: true\n      privileged: false\n      capabilities:\n        drop:\n        - NET_RAW\n        - NET_ADMIN\n        - SYS_ADMIN\n        - SYS_MODULE\n        - SYS_PTRACE\n        - SYS_CHROOT\n      allowPrivilegeEscalation: false\n      readOnlyRootFilesystem: true\n    resources:\n      requests:\n        cpu: 100m\n        memory: 128Mi\n      limits:\n        cpu: 500m\n        memory: 256Mi\n",
    "errors": []
  },
  {
    "id": "02600",
    "policy_id": "set_requests_limits",
    "accepted": true,
    "ok_schema": true,
    "ok_policy": true,
    "ok_safety": true,
    "ok_rescan": true,
    "patched_yaml": "apiVersion: v1\nkind: Pod\nmetadata:\n  name: image-demo-1497\nspec:\n  containers:\n  - name: nginx\n    image: nginx:stable\n    resources:\n      requests:\n        cpu: 100m\n        memory: 128Mi\n      limits:\n        cpu: 500m\n        memory: 256Mi\n    securityContext:\n      privileged: false\n      capabilities:\n        drop:\n        - NET_RAW\n        - NET_ADMIN\n        - SYS_ADMIN\n        - SYS_MODULE\n        - SYS_PTRACE\n        - SYS_CHROOT\n      allowPrivilegeEscalation: false\n      runAsNonRoot: true\n      readOnlyRootFilesystem: true\n",
    "errors": []
  }
]