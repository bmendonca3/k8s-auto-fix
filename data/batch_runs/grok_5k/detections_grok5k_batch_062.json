[
  {
    "id": "02481",
    "manifest_path": "data/manifests/the_stack_sample/sample_0997.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: mysql-operator\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      name: mysql-operator\n  template:\n    metadata:\n      labels:\n        name: mysql-operator\n    spec:\n      serviceAccountName: mysql-operator\n      containers:\n      - name: operator\n        image: atalabirchuk/otus:mysql-operator_v1\n        imagePullPolicy: Always\n",
    "policy_id": "run-as-non-root",
    "violation_text": "container \"operator\" is not set to runAsNonRoot"
  },
  {
    "id": "02482",
    "manifest_path": "data/manifests/the_stack_sample/sample_0997.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: mysql-operator\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      name: mysql-operator\n  template:\n    metadata:\n      labels:\n        name: mysql-operator\n    spec:\n      serviceAccountName: mysql-operator\n      containers:\n      - name: operator\n        image: atalabirchuk/otus:mysql-operator_v1\n        imagePullPolicy: Always\n",
    "policy_id": "unset-cpu-requirements",
    "violation_text": "container \"operator\" has cpu request 0"
  },
  {
    "id": "02483",
    "manifest_path": "data/manifests/the_stack_sample/sample_0997.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: mysql-operator\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      name: mysql-operator\n  template:\n    metadata:\n      labels:\n        name: mysql-operator\n    spec:\n      serviceAccountName: mysql-operator\n      containers:\n      - name: operator\n        image: atalabirchuk/otus:mysql-operator_v1\n        imagePullPolicy: Always\n",
    "policy_id": "unset-memory-requirements",
    "violation_text": "container \"operator\" has memory limit 0"
  },
  {
    "id": "02484",
    "manifest_path": "data/manifests/the_stack_sample/sample_1000.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: jx-pipelines-visualizer\n  labels:\n    app.kubernetes.io/name: jx-pipelines-visualizer\n    app.kubernetes.io/instance: jx-pipelines-visualizer\n    helm.sh/chart: jx-pipelines-visualizer-1.8.0\n    app.kubernetes.io/version: 1.8.0\n    app.kubernetes.io/managed-by: Helm\n    gitops.jenkins-x.io/pipeline: namespaces\n  annotations:\n    meta.helm.sh/release-name: jx-pipelines-visualizer\n    wave.pusher.com/update-on-config-change: 'true'\n  namespace: jx\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app.kubernetes.io/name: jx-pipelines-visualizer\n      app.kubernetes.io/instance: jx-pipelines-visualizer\n  template:\n    metadata:\n      labels:\n        app.kubernetes.io/name: jx-pipelines-visualizer\n        app.kubernetes.io/instance: jx-pipelines-visualizer\n        helm.sh/chart: jx-pipelines-visualizer-1.8.0\n        app.kubernetes.io/version: 1.8.0\n        app.kubernetes.io/managed-by: Helm\n    spec:\n      containers:\n      - name: jx-pipelines-visualizer\n        image: ghcr.io/jenkins-x/jx-pipelines-visualizer:1.8.0\n        args:\n        - -resync-interval\n        - 60s\n        - -pipeline-trace-url-template\n        - http://grafana-jx-observability.192.168.59.101.nip.io/explore?left=%5B%22now%22,%22now%22,%22Tempo%22,%7B%22query%22:%22{{.TraceID}}%22%7D%5D\n        - -log-level\n        - INFO\n        ports:\n        - name: http\n          containerPort: 8080\n        livenessProbe:\n          tcpSocket:\n            port: http\n        readinessProbe:\n          httpGet:\n            path: /healthz\n            port: http\n        volumeMounts:\n        - mountPath: /secrets/git\n          name: secrets-git\n        resources:\n          limits:\n            cpu: '1'\n            memory: 512M\n          requests:\n            cpu: '0.2'\n            memory: 128M\n      securityContext:\n        fsGroup: 1000\n      serviceAccountName: jx-pipelines-visualizer\n      volumes:\n      - name: secrets-git\n        secret:\n          defaultMode: 420\n          secretName: tekton-git\n",
    "policy_id": "no-read-only-root-fs",
    "violation_text": "container \"jx-pipelines-visualizer\" does not have a read-only root file system"
  },
  {
    "id": "02485",
    "manifest_path": "data/manifests/the_stack_sample/sample_1000.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: jx-pipelines-visualizer\n  labels:\n    app.kubernetes.io/name: jx-pipelines-visualizer\n    app.kubernetes.io/instance: jx-pipelines-visualizer\n    helm.sh/chart: jx-pipelines-visualizer-1.8.0\n    app.kubernetes.io/version: 1.8.0\n    app.kubernetes.io/managed-by: Helm\n    gitops.jenkins-x.io/pipeline: namespaces\n  annotations:\n    meta.helm.sh/release-name: jx-pipelines-visualizer\n    wave.pusher.com/update-on-config-change: 'true'\n  namespace: jx\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app.kubernetes.io/name: jx-pipelines-visualizer\n      app.kubernetes.io/instance: jx-pipelines-visualizer\n  template:\n    metadata:\n      labels:\n        app.kubernetes.io/name: jx-pipelines-visualizer\n        app.kubernetes.io/instance: jx-pipelines-visualizer\n        helm.sh/chart: jx-pipelines-visualizer-1.8.0\n        app.kubernetes.io/version: 1.8.0\n        app.kubernetes.io/managed-by: Helm\n    spec:\n      containers:\n      - name: jx-pipelines-visualizer\n        image: ghcr.io/jenkins-x/jx-pipelines-visualizer:1.8.0\n        args:\n        - -resync-interval\n        - 60s\n        - -pipeline-trace-url-template\n        - http://grafana-jx-observability.192.168.59.101.nip.io/explore?left=%5B%22now%22,%22now%22,%22Tempo%22,%7B%22query%22:%22{{.TraceID}}%22%7D%5D\n        - -log-level\n        - INFO\n        ports:\n        - name: http\n          containerPort: 8080\n        livenessProbe:\n          tcpSocket:\n            port: http\n        readinessProbe:\n          httpGet:\n            path: /healthz\n            port: http\n        volumeMounts:\n        - mountPath: /secrets/git\n          name: secrets-git\n        resources:\n          limits:\n            cpu: '1'\n            memory: 512M\n          requests:\n            cpu: '0.2'\n            memory: 128M\n      securityContext:\n        fsGroup: 1000\n      serviceAccountName: jx-pipelines-visualizer\n      volumes:\n      - name: secrets-git\n        secret:\n          defaultMode: 420\n          secretName: tekton-git\n",
    "policy_id": "run-as-non-root",
    "violation_text": "container \"jx-pipelines-visualizer\" is not set to runAsNonRoot"
  },
  {
    "id": "02486",
    "manifest_path": "data/manifests/the_stack_sample/sample_1002.yaml",
    "manifest_yaml": "apiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx-allowed\n  labels:\n    app: nginx-allowed\nspec:\n  securityContext:\n    supplementalGroups:\n    - 101\n    fsGroup: 101\n  containers:\n  - name: nginx\n    image: nginxinc/nginx-unprivileged:1.19\n    resources:\n      limits:\n        cpu: 1\n        memory: 1Gi\n      requests:\n        cpu: 1\n        memory: 1Gi\n    ports:\n    - containerPort: 8080\n      protocol: TCP\n    securityContext:\n      runAsUser: 101\n      runAsGroup: 101\n      capabilities:\n        drop:\n        - ALL\n      allowPrivilegeEscalation: false\n    readinessProbe:\n      httpGet:\n        scheme: HTTP\n        path: /index.html\n        port: 8080\n    livenessProbe:\n      httpGet:\n        scheme: HTTP\n        path: /index.html\n        port: 8080\n",
    "policy_id": "no-read-only-root-fs",
    "violation_text": "container \"nginx\" does not have a read-only root file system"
  },
  {
    "id": "02487",
    "manifest_path": "data/manifests/the_stack_sample/sample_1005.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  namespace: default\n  name: horologium\n  labels:\n    app: horologium\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: horologium\n  template:\n    metadata:\n      labels:\n        app: horologium\n    spec:\n      containers:\n      - name: horologium\n        image: gcr.io/k8s-prow/horologium:v20200116-52fe941d7\n        args:\n        - --config-path=/etc/config/config.yaml\n        - --job-config-path=/etc/job-config\n        - --dry-run=false\n        volumeMounts:\n        - name: config\n          mountPath: /etc/config\n          readOnly: true\n        - name: job-config\n          mountPath: /etc/job-config\n          readOnly: true\n      volumes:\n      - name: config\n        configMap:\n          name: config\n      - name: job-config\n        configMap:\n          name: job-config\n",
    "policy_id": "no-read-only-root-fs",
    "violation_text": "container \"horologium\" does not have a read-only root file system"
  },
  {
    "id": "02488",
    "manifest_path": "data/manifests/the_stack_sample/sample_1005.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  namespace: default\n  name: horologium\n  labels:\n    app: horologium\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: horologium\n  template:\n    metadata:\n      labels:\n        app: horologium\n    spec:\n      containers:\n      - name: horologium\n        image: gcr.io/k8s-prow/horologium:v20200116-52fe941d7\n        args:\n        - --config-path=/etc/config/config.yaml\n        - --job-config-path=/etc/job-config\n        - --dry-run=false\n        volumeMounts:\n        - name: config\n          mountPath: /etc/config\n          readOnly: true\n        - name: job-config\n          mountPath: /etc/job-config\n          readOnly: true\n      volumes:\n      - name: config\n        configMap:\n          name: config\n      - name: job-config\n        configMap:\n          name: job-config\n",
    "policy_id": "run-as-non-root",
    "violation_text": "container \"horologium\" is not set to runAsNonRoot"
  },
  {
    "id": "02489",
    "manifest_path": "data/manifests/the_stack_sample/sample_1005.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  namespace: default\n  name: horologium\n  labels:\n    app: horologium\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: horologium\n  template:\n    metadata:\n      labels:\n        app: horologium\n    spec:\n      containers:\n      - name: horologium\n        image: gcr.io/k8s-prow/horologium:v20200116-52fe941d7\n        args:\n        - --config-path=/etc/config/config.yaml\n        - --job-config-path=/etc/job-config\n        - --dry-run=false\n        volumeMounts:\n        - name: config\n          mountPath: /etc/config\n          readOnly: true\n        - name: job-config\n          mountPath: /etc/job-config\n          readOnly: true\n      volumes:\n      - name: config\n        configMap:\n          name: config\n      - name: job-config\n        configMap:\n          name: job-config\n",
    "policy_id": "unset-cpu-requirements",
    "violation_text": "container \"horologium\" has cpu request 0"
  },
  {
    "id": "02490",
    "manifest_path": "data/manifests/the_stack_sample/sample_1005.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  namespace: default\n  name: horologium\n  labels:\n    app: horologium\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: horologium\n  template:\n    metadata:\n      labels:\n        app: horologium\n    spec:\n      containers:\n      - name: horologium\n        image: gcr.io/k8s-prow/horologium:v20200116-52fe941d7\n        args:\n        - --config-path=/etc/config/config.yaml\n        - --job-config-path=/etc/job-config\n        - --dry-run=false\n        volumeMounts:\n        - name: config\n          mountPath: /etc/config\n          readOnly: true\n        - name: job-config\n          mountPath: /etc/job-config\n          readOnly: true\n      volumes:\n      - name: config\n        configMap:\n          name: config\n      - name: job-config\n        configMap:\n          name: job-config\n",
    "policy_id": "unset-memory-requirements",
    "violation_text": "container \"horologium\" has memory limit 0"
  },
  {
    "id": "02491",
    "manifest_path": "data/manifests/the_stack_sample/sample_1006.yaml",
    "manifest_yaml": "apiVersion: v1\nkind: Pod\nmetadata:\n  name: ubuntuapp\n  labels:\n    app: ubuntuapp\n  annotations:\n    opencontrail.org/network: '{\"domain\":\"default-domain\", \"project\": \"admin\", \"name\":\"VN-01\"}'\nspec:\n  containers:\n  - name: ubuntuapp\n    image: ubuntu-upstart\n",
    "policy_id": "latest-tag",
    "violation_text": "The container \"ubuntuapp\" is using an invalid container image, \"ubuntu-upstart\". Please use images that are not blocked by the `BlockList` criteria : [\".*:(latest)$\" \"^[^:]*$\" \"(.*/[^:]+)$\"]"
  },
  {
    "id": "02492",
    "manifest_path": "data/manifests/the_stack_sample/sample_1006.yaml",
    "manifest_yaml": "apiVersion: v1\nkind: Pod\nmetadata:\n  name: ubuntuapp\n  labels:\n    app: ubuntuapp\n  annotations:\n    opencontrail.org/network: '{\"domain\":\"default-domain\", \"project\": \"admin\", \"name\":\"VN-01\"}'\nspec:\n  containers:\n  - name: ubuntuapp\n    image: ubuntu-upstart\n",
    "policy_id": "no-read-only-root-fs",
    "violation_text": "container \"ubuntuapp\" does not have a read-only root file system"
  },
  {
    "id": "02493",
    "manifest_path": "data/manifests/the_stack_sample/sample_1006.yaml",
    "manifest_yaml": "apiVersion: v1\nkind: Pod\nmetadata:\n  name: ubuntuapp\n  labels:\n    app: ubuntuapp\n  annotations:\n    opencontrail.org/network: '{\"domain\":\"default-domain\", \"project\": \"admin\", \"name\":\"VN-01\"}'\nspec:\n  containers:\n  - name: ubuntuapp\n    image: ubuntu-upstart\n",
    "policy_id": "run-as-non-root",
    "violation_text": "container \"ubuntuapp\" is not set to runAsNonRoot"
  },
  {
    "id": "02494",
    "manifest_path": "data/manifests/the_stack_sample/sample_1006.yaml",
    "manifest_yaml": "apiVersion: v1\nkind: Pod\nmetadata:\n  name: ubuntuapp\n  labels:\n    app: ubuntuapp\n  annotations:\n    opencontrail.org/network: '{\"domain\":\"default-domain\", \"project\": \"admin\", \"name\":\"VN-01\"}'\nspec:\n  containers:\n  - name: ubuntuapp\n    image: ubuntu-upstart\n",
    "policy_id": "unset-cpu-requirements",
    "violation_text": "container \"ubuntuapp\" has cpu request 0"
  },
  {
    "id": "02495",
    "manifest_path": "data/manifests/the_stack_sample/sample_1006.yaml",
    "manifest_yaml": "apiVersion: v1\nkind: Pod\nmetadata:\n  name: ubuntuapp\n  labels:\n    app: ubuntuapp\n  annotations:\n    opencontrail.org/network: '{\"domain\":\"default-domain\", \"project\": \"admin\", \"name\":\"VN-01\"}'\nspec:\n  containers:\n  - name: ubuntuapp\n    image: ubuntu-upstart\n",
    "policy_id": "unset-memory-requirements",
    "violation_text": "container \"ubuntuapp\" has memory limit 0"
  },
  {
    "id": "02496",
    "manifest_path": "data/manifests/the_stack_sample/sample_1010.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  namespace: default\n  name: deck\n  labels:\n    app: deck\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: deck\n  template:\n    metadata:\n      labels:\n        app: deck\n    spec:\n      serviceAccountName: deck\n      containers:\n      - name: deck\n        image: gcr.io/k8s-prow/deck:v20210902-02bdcbd6bf\n        imagePullPolicy: Always\n        ports:\n        - name: http\n          containerPort: 8080\n        - name: metrics\n          containerPort: 9090\n        args:\n        - --tide-url=http://tide/\n        - --hook-url=http://hook:8888/plugin-help\n        - --redirect-http-to=prow.k8s.io\n        - --oauth-url=/github-login\n        - --config-path=/etc/config/config.yaml\n        - --job-config-path=/etc/job-config\n        - --spyglass=true\n        - --rerun-creates-job\n        - --github-token-path=/etc/github/oauth\n        - --github-endpoint=http://ghproxy\n        - --github-endpoint=https://api.github.com\n        - --github-oauth-config-file=/etc/githuboauth/secret\n        - --cookie-secret=/etc/cookie/secret\n        - --plugin-config=/etc/plugins/plugins.yaml\n        env:\n        - name: KUBECONFIG\n          value: /etc/kubeconfig/config\n        volumeMounts:\n        - name: oauth-config\n          mountPath: /etc/githuboauth\n          readOnly: true\n        - name: cookie-secret\n          mountPath: /etc/cookie\n          readOnly: true\n        - mountPath: /etc/kubeconfig\n          name: kubeconfig\n          readOnly: true\n        - name: config\n          mountPath: /etc/config\n          readOnly: true\n        - name: job-config\n          mountPath: /etc/job-config\n          readOnly: true\n        - name: oauth-token\n          mountPath: /etc/github\n          readOnly: true\n        - name: plugins\n          mountPath: /etc/plugins\n          readOnly: true\n        livenessProbe:\n          httpGet:\n            path: /healthz\n            port: 8081\n          initialDelaySeconds: 3\n          periodSeconds: 3\n        readinessProbe:\n          httpGet:\n            path: /healthz/ready\n            port: 8081\n          initialDelaySeconds: 10\n          periodSeconds: 3\n          timeoutSeconds: 600\n      volumes:\n      - name: oauth-config\n        secret:\n          secretName: github-oauth-config\n      - name: oauth-token\n        secret:\n          secretName: oauth-token\n      - name: cookie-secret\n        secret:\n          secretName: cookie\n      - name: kubeconfig\n        secret:\n          defaultMode: 420\n          secretName: kubeconfig\n      - name: config\n        configMap:\n          name: config\n      - name: job-config\n        configMap:\n          name: job-config\n      - name: plugins\n        configMap:\n          name: plugins\n",
    "policy_id": "no-read-only-root-fs",
    "violation_text": "container \"deck\" does not have a read-only root file system"
  },
  {
    "id": "02497",
    "manifest_path": "data/manifests/the_stack_sample/sample_1010.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  namespace: default\n  name: deck\n  labels:\n    app: deck\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: deck\n  template:\n    metadata:\n      labels:\n        app: deck\n    spec:\n      serviceAccountName: deck\n      containers:\n      - name: deck\n        image: gcr.io/k8s-prow/deck:v20210902-02bdcbd6bf\n        imagePullPolicy: Always\n        ports:\n        - name: http\n          containerPort: 8080\n        - name: metrics\n          containerPort: 9090\n        args:\n        - --tide-url=http://tide/\n        - --hook-url=http://hook:8888/plugin-help\n        - --redirect-http-to=prow.k8s.io\n        - --oauth-url=/github-login\n        - --config-path=/etc/config/config.yaml\n        - --job-config-path=/etc/job-config\n        - --spyglass=true\n        - --rerun-creates-job\n        - --github-token-path=/etc/github/oauth\n        - --github-endpoint=http://ghproxy\n        - --github-endpoint=https://api.github.com\n        - --github-oauth-config-file=/etc/githuboauth/secret\n        - --cookie-secret=/etc/cookie/secret\n        - --plugin-config=/etc/plugins/plugins.yaml\n        env:\n        - name: KUBECONFIG\n          value: /etc/kubeconfig/config\n        volumeMounts:\n        - name: oauth-config\n          mountPath: /etc/githuboauth\n          readOnly: true\n        - name: cookie-secret\n          mountPath: /etc/cookie\n          readOnly: true\n        - mountPath: /etc/kubeconfig\n          name: kubeconfig\n          readOnly: true\n        - name: config\n          mountPath: /etc/config\n          readOnly: true\n        - name: job-config\n          mountPath: /etc/job-config\n          readOnly: true\n        - name: oauth-token\n          mountPath: /etc/github\n          readOnly: true\n        - name: plugins\n          mountPath: /etc/plugins\n          readOnly: true\n        livenessProbe:\n          httpGet:\n            path: /healthz\n            port: 8081\n          initialDelaySeconds: 3\n          periodSeconds: 3\n        readinessProbe:\n          httpGet:\n            path: /healthz/ready\n            port: 8081\n          initialDelaySeconds: 10\n          periodSeconds: 3\n          timeoutSeconds: 600\n      volumes:\n      - name: oauth-config\n        secret:\n          secretName: github-oauth-config\n      - name: oauth-token\n        secret:\n          secretName: oauth-token\n      - name: cookie-secret\n        secret:\n          secretName: cookie\n      - name: kubeconfig\n        secret:\n          defaultMode: 420\n          secretName: kubeconfig\n      - name: config\n        configMap:\n          name: config\n      - name: job-config\n        configMap:\n          name: job-config\n      - name: plugins\n        configMap:\n          name: plugins\n",
    "policy_id": "run-as-non-root",
    "violation_text": "container \"deck\" is not set to runAsNonRoot"
  },
  {
    "id": "02498",
    "manifest_path": "data/manifests/the_stack_sample/sample_1010.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  namespace: default\n  name: deck\n  labels:\n    app: deck\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: deck\n  template:\n    metadata:\n      labels:\n        app: deck\n    spec:\n      serviceAccountName: deck\n      containers:\n      - name: deck\n        image: gcr.io/k8s-prow/deck:v20210902-02bdcbd6bf\n        imagePullPolicy: Always\n        ports:\n        - name: http\n          containerPort: 8080\n        - name: metrics\n          containerPort: 9090\n        args:\n        - --tide-url=http://tide/\n        - --hook-url=http://hook:8888/plugin-help\n        - --redirect-http-to=prow.k8s.io\n        - --oauth-url=/github-login\n        - --config-path=/etc/config/config.yaml\n        - --job-config-path=/etc/job-config\n        - --spyglass=true\n        - --rerun-creates-job\n        - --github-token-path=/etc/github/oauth\n        - --github-endpoint=http://ghproxy\n        - --github-endpoint=https://api.github.com\n        - --github-oauth-config-file=/etc/githuboauth/secret\n        - --cookie-secret=/etc/cookie/secret\n        - --plugin-config=/etc/plugins/plugins.yaml\n        env:\n        - name: KUBECONFIG\n          value: /etc/kubeconfig/config\n        volumeMounts:\n        - name: oauth-config\n          mountPath: /etc/githuboauth\n          readOnly: true\n        - name: cookie-secret\n          mountPath: /etc/cookie\n          readOnly: true\n        - mountPath: /etc/kubeconfig\n          name: kubeconfig\n          readOnly: true\n        - name: config\n          mountPath: /etc/config\n          readOnly: true\n        - name: job-config\n          mountPath: /etc/job-config\n          readOnly: true\n        - name: oauth-token\n          mountPath: /etc/github\n          readOnly: true\n        - name: plugins\n          mountPath: /etc/plugins\n          readOnly: true\n        livenessProbe:\n          httpGet:\n            path: /healthz\n            port: 8081\n          initialDelaySeconds: 3\n          periodSeconds: 3\n        readinessProbe:\n          httpGet:\n            path: /healthz/ready\n            port: 8081\n          initialDelaySeconds: 10\n          periodSeconds: 3\n          timeoutSeconds: 600\n      volumes:\n      - name: oauth-config\n        secret:\n          secretName: github-oauth-config\n      - name: oauth-token\n        secret:\n          secretName: oauth-token\n      - name: cookie-secret\n        secret:\n          secretName: cookie\n      - name: kubeconfig\n        secret:\n          defaultMode: 420\n          secretName: kubeconfig\n      - name: config\n        configMap:\n          name: config\n      - name: job-config\n        configMap:\n          name: job-config\n      - name: plugins\n        configMap:\n          name: plugins\n",
    "policy_id": "unset-cpu-requirements",
    "violation_text": "container \"deck\" has cpu request 0"
  },
  {
    "id": "02499",
    "manifest_path": "data/manifests/the_stack_sample/sample_1010.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  namespace: default\n  name: deck\n  labels:\n    app: deck\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: deck\n  template:\n    metadata:\n      labels:\n        app: deck\n    spec:\n      serviceAccountName: deck\n      containers:\n      - name: deck\n        image: gcr.io/k8s-prow/deck:v20210902-02bdcbd6bf\n        imagePullPolicy: Always\n        ports:\n        - name: http\n          containerPort: 8080\n        - name: metrics\n          containerPort: 9090\n        args:\n        - --tide-url=http://tide/\n        - --hook-url=http://hook:8888/plugin-help\n        - --redirect-http-to=prow.k8s.io\n        - --oauth-url=/github-login\n        - --config-path=/etc/config/config.yaml\n        - --job-config-path=/etc/job-config\n        - --spyglass=true\n        - --rerun-creates-job\n        - --github-token-path=/etc/github/oauth\n        - --github-endpoint=http://ghproxy\n        - --github-endpoint=https://api.github.com\n        - --github-oauth-config-file=/etc/githuboauth/secret\n        - --cookie-secret=/etc/cookie/secret\n        - --plugin-config=/etc/plugins/plugins.yaml\n        env:\n        - name: KUBECONFIG\n          value: /etc/kubeconfig/config\n        volumeMounts:\n        - name: oauth-config\n          mountPath: /etc/githuboauth\n          readOnly: true\n        - name: cookie-secret\n          mountPath: /etc/cookie\n          readOnly: true\n        - mountPath: /etc/kubeconfig\n          name: kubeconfig\n          readOnly: true\n        - name: config\n          mountPath: /etc/config\n          readOnly: true\n        - name: job-config\n          mountPath: /etc/job-config\n          readOnly: true\n        - name: oauth-token\n          mountPath: /etc/github\n          readOnly: true\n        - name: plugins\n          mountPath: /etc/plugins\n          readOnly: true\n        livenessProbe:\n          httpGet:\n            path: /healthz\n            port: 8081\n          initialDelaySeconds: 3\n          periodSeconds: 3\n        readinessProbe:\n          httpGet:\n            path: /healthz/ready\n            port: 8081\n          initialDelaySeconds: 10\n          periodSeconds: 3\n          timeoutSeconds: 600\n      volumes:\n      - name: oauth-config\n        secret:\n          secretName: github-oauth-config\n      - name: oauth-token\n        secret:\n          secretName: oauth-token\n      - name: cookie-secret\n        secret:\n          secretName: cookie\n      - name: kubeconfig\n        secret:\n          defaultMode: 420\n          secretName: kubeconfig\n      - name: config\n        configMap:\n          name: config\n      - name: job-config\n        configMap:\n          name: job-config\n      - name: plugins\n        configMap:\n          name: plugins\n",
    "policy_id": "unset-memory-requirements",
    "violation_text": "container \"deck\" has memory limit 0"
  },
  {
    "id": "02500",
    "manifest_path": "data/manifests/the_stack_sample/sample_1011.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: goapp-deployment\nspec:\n  selector:\n    matchLabels:\n      app: goapp\n  template:\n    metadata:\n      labels:\n        app: goapp\n    spec:\n      containers:\n      - name: goapp\n        image: docker.pkg.github.com/ynishi18/cicd-handson-2021-code/go-image:base\n        ports:\n        - containerPort: 9090\n",
    "policy_id": "no-read-only-root-fs",
    "violation_text": "container \"goapp\" does not have a read-only root file system"
  },
  {
    "id": "02501",
    "manifest_path": "data/manifests/the_stack_sample/sample_1011.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: goapp-deployment\nspec:\n  selector:\n    matchLabels:\n      app: goapp\n  template:\n    metadata:\n      labels:\n        app: goapp\n    spec:\n      containers:\n      - name: goapp\n        image: docker.pkg.github.com/ynishi18/cicd-handson-2021-code/go-image:base\n        ports:\n        - containerPort: 9090\n",
    "policy_id": "run-as-non-root",
    "violation_text": "container \"goapp\" is not set to runAsNonRoot"
  },
  {
    "id": "02502",
    "manifest_path": "data/manifests/the_stack_sample/sample_1011.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: goapp-deployment\nspec:\n  selector:\n    matchLabels:\n      app: goapp\n  template:\n    metadata:\n      labels:\n        app: goapp\n    spec:\n      containers:\n      - name: goapp\n        image: docker.pkg.github.com/ynishi18/cicd-handson-2021-code/go-image:base\n        ports:\n        - containerPort: 9090\n",
    "policy_id": "unset-cpu-requirements",
    "violation_text": "container \"goapp\" has cpu request 0"
  },
  {
    "id": "02503",
    "manifest_path": "data/manifests/the_stack_sample/sample_1011.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: goapp-deployment\nspec:\n  selector:\n    matchLabels:\n      app: goapp\n  template:\n    metadata:\n      labels:\n        app: goapp\n    spec:\n      containers:\n      - name: goapp\n        image: docker.pkg.github.com/ynishi18/cicd-handson-2021-code/go-image:base\n        ports:\n        - containerPort: 9090\n",
    "policy_id": "unset-memory-requirements",
    "violation_text": "container \"goapp\" has memory limit 0"
  },
  {
    "id": "02504",
    "manifest_path": "data/manifests/the_stack_sample/sample_1012.yaml",
    "manifest_yaml": "apiVersion: batch/v1\nkind: Job\nmetadata:\n  name: module2-ex1\nspec:\n  template:\n    metadata:\n      name: module2-ex1\n    spec:\n      containers:\n      - name: tensorflow\n        image: nileshgule/tf-mnist:gpu\n        args:\n        - --max_steps\n        - '500'\n        resources:\n          limits:\n            nvidia.com/gpu: 1\n        volumeMounts:\n        - name: nvidia\n          mountPath: /usr/local/nvidia\n      volumes:\n      - name: nvidia\n        hostPath:\n          path: /usr/local/nvidia\n",
    "policy_id": "no-read-only-root-fs",
    "violation_text": "container \"tensorflow\" does not have a read-only root file system"
  },
  {
    "id": "02505",
    "manifest_path": "data/manifests/the_stack_sample/sample_1012.yaml",
    "manifest_yaml": "apiVersion: batch/v1\nkind: Job\nmetadata:\n  name: module2-ex1\nspec:\n  template:\n    metadata:\n      name: module2-ex1\n    spec:\n      containers:\n      - name: tensorflow\n        image: nileshgule/tf-mnist:gpu\n        args:\n        - --max_steps\n        - '500'\n        resources:\n          limits:\n            nvidia.com/gpu: 1\n        volumeMounts:\n        - name: nvidia\n          mountPath: /usr/local/nvidia\n      volumes:\n      - name: nvidia\n        hostPath:\n          path: /usr/local/nvidia\n",
    "policy_id": "run-as-non-root",
    "violation_text": "container \"tensorflow\" is not set to runAsNonRoot"
  },
  {
    "id": "02506",
    "manifest_path": "data/manifests/the_stack_sample/sample_1012.yaml",
    "manifest_yaml": "apiVersion: batch/v1\nkind: Job\nmetadata:\n  name: module2-ex1\nspec:\n  template:\n    metadata:\n      name: module2-ex1\n    spec:\n      containers:\n      - name: tensorflow\n        image: nileshgule/tf-mnist:gpu\n        args:\n        - --max_steps\n        - '500'\n        resources:\n          limits:\n            nvidia.com/gpu: 1\n        volumeMounts:\n        - name: nvidia\n          mountPath: /usr/local/nvidia\n      volumes:\n      - name: nvidia\n        hostPath:\n          path: /usr/local/nvidia\n",
    "policy_id": "unset-cpu-requirements",
    "violation_text": "container \"tensorflow\" has cpu request 0"
  },
  {
    "id": "02507",
    "manifest_path": "data/manifests/the_stack_sample/sample_1012.yaml",
    "manifest_yaml": "apiVersion: batch/v1\nkind: Job\nmetadata:\n  name: module2-ex1\nspec:\n  template:\n    metadata:\n      name: module2-ex1\n    spec:\n      containers:\n      - name: tensorflow\n        image: nileshgule/tf-mnist:gpu\n        args:\n        - --max_steps\n        - '500'\n        resources:\n          limits:\n            nvidia.com/gpu: 1\n        volumeMounts:\n        - name: nvidia\n          mountPath: /usr/local/nvidia\n      volumes:\n      - name: nvidia\n        hostPath:\n          path: /usr/local/nvidia\n",
    "policy_id": "unset-memory-requirements",
    "violation_text": "container \"tensorflow\" has memory limit 0"
  },
  {
    "id": "02508",
    "manifest_path": "data/manifests/the_stack_sample/sample_1013.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  namespace: prow\n  name: tide\n  labels:\n    app: tide\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: tide\n  template:\n    metadata:\n      labels:\n        app: tide\n    spec:\n      serviceAccountName: tide\n      containers:\n      - name: tide\n        image: gcr.io/k8s-prow/tide:v20220203-ad9c38e2b5\n        args:\n        - --config-path=/etc/config/config.yaml\n        - --dry-run=false\n        - --github-endpoint=http://ghproxy.prow.svc.cluster.local\n        - --github-endpoint=https://api.github.com\n        - --github-token-path=/etc/github/token\n        - --gcs-credentials-file=/etc/gcs-credentials/service-account.json\n        - --job-config-path=/etc/job-config\n        - --history-uri=gs://k8s-infra-prow-results/tide-history.json\n        - --status-path=gs://k8s-infra-prow-results/tide-status-checkpoint.yaml\n        ports:\n        - name: http\n          containerPort: 8888\n        - name: metrics\n          containerPort: 9090\n        securityContext:\n          allowPrivilegeEscalation: false\n          capabilities:\n            drop:\n            - ALL\n          privileged: false\n        volumeMounts:\n        - name: github-token\n          mountPath: /etc/github\n          readOnly: true\n        - name: config\n          mountPath: /etc/config\n          readOnly: true\n        - name: job-config\n          mountPath: /etc/job-config\n          readOnly: true\n        - name: gcs-credentials\n          mountPath: /etc/gcs-credentials\n          readOnly: true\n      volumes:\n      - name: github-token\n        secret:\n          defaultMode: 420\n          secretName: k8s-infra-ci-robot-github-token\n      - name: gcs-credentials\n        secret:\n          defaultMode: 420\n          secretName: k8s-infra-prow-sa-key\n      - name: config\n        configMap:\n          name: config\n      - name: job-config\n        configMap:\n          name: job-config\n",
    "policy_id": "no-read-only-root-fs",
    "violation_text": "container \"tide\" does not have a read-only root file system"
  },
  {
    "id": "02509",
    "manifest_path": "data/manifests/the_stack_sample/sample_1013.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  namespace: prow\n  name: tide\n  labels:\n    app: tide\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: tide\n  template:\n    metadata:\n      labels:\n        app: tide\n    spec:\n      serviceAccountName: tide\n      containers:\n      - name: tide\n        image: gcr.io/k8s-prow/tide:v20220203-ad9c38e2b5\n        args:\n        - --config-path=/etc/config/config.yaml\n        - --dry-run=false\n        - --github-endpoint=http://ghproxy.prow.svc.cluster.local\n        - --github-endpoint=https://api.github.com\n        - --github-token-path=/etc/github/token\n        - --gcs-credentials-file=/etc/gcs-credentials/service-account.json\n        - --job-config-path=/etc/job-config\n        - --history-uri=gs://k8s-infra-prow-results/tide-history.json\n        - --status-path=gs://k8s-infra-prow-results/tide-status-checkpoint.yaml\n        ports:\n        - name: http\n          containerPort: 8888\n        - name: metrics\n          containerPort: 9090\n        securityContext:\n          allowPrivilegeEscalation: false\n          capabilities:\n            drop:\n            - ALL\n          privileged: false\n        volumeMounts:\n        - name: github-token\n          mountPath: /etc/github\n          readOnly: true\n        - name: config\n          mountPath: /etc/config\n          readOnly: true\n        - name: job-config\n          mountPath: /etc/job-config\n          readOnly: true\n        - name: gcs-credentials\n          mountPath: /etc/gcs-credentials\n          readOnly: true\n      volumes:\n      - name: github-token\n        secret:\n          defaultMode: 420\n          secretName: k8s-infra-ci-robot-github-token\n      - name: gcs-credentials\n        secret:\n          defaultMode: 420\n          secretName: k8s-infra-prow-sa-key\n      - name: config\n        configMap:\n          name: config\n      - name: job-config\n        configMap:\n          name: job-config\n",
    "policy_id": "run-as-non-root",
    "violation_text": "container \"tide\" is not set to runAsNonRoot"
  },
  {
    "id": "02510",
    "manifest_path": "data/manifests/the_stack_sample/sample_1013.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  namespace: prow\n  name: tide\n  labels:\n    app: tide\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: tide\n  template:\n    metadata:\n      labels:\n        app: tide\n    spec:\n      serviceAccountName: tide\n      containers:\n      - name: tide\n        image: gcr.io/k8s-prow/tide:v20220203-ad9c38e2b5\n        args:\n        - --config-path=/etc/config/config.yaml\n        - --dry-run=false\n        - --github-endpoint=http://ghproxy.prow.svc.cluster.local\n        - --github-endpoint=https://api.github.com\n        - --github-token-path=/etc/github/token\n        - --gcs-credentials-file=/etc/gcs-credentials/service-account.json\n        - --job-config-path=/etc/job-config\n        - --history-uri=gs://k8s-infra-prow-results/tide-history.json\n        - --status-path=gs://k8s-infra-prow-results/tide-status-checkpoint.yaml\n        ports:\n        - name: http\n          containerPort: 8888\n        - name: metrics\n          containerPort: 9090\n        securityContext:\n          allowPrivilegeEscalation: false\n          capabilities:\n            drop:\n            - ALL\n          privileged: false\n        volumeMounts:\n        - name: github-token\n          mountPath: /etc/github\n          readOnly: true\n        - name: config\n          mountPath: /etc/config\n          readOnly: true\n        - name: job-config\n          mountPath: /etc/job-config\n          readOnly: true\n        - name: gcs-credentials\n          mountPath: /etc/gcs-credentials\n          readOnly: true\n      volumes:\n      - name: github-token\n        secret:\n          defaultMode: 420\n          secretName: k8s-infra-ci-robot-github-token\n      - name: gcs-credentials\n        secret:\n          defaultMode: 420\n          secretName: k8s-infra-prow-sa-key\n      - name: config\n        configMap:\n          name: config\n      - name: job-config\n        configMap:\n          name: job-config\n",
    "policy_id": "unset-cpu-requirements",
    "violation_text": "container \"tide\" has cpu request 0"
  },
  {
    "id": "02511",
    "manifest_path": "data/manifests/the_stack_sample/sample_1013.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  namespace: prow\n  name: tide\n  labels:\n    app: tide\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: tide\n  template:\n    metadata:\n      labels:\n        app: tide\n    spec:\n      serviceAccountName: tide\n      containers:\n      - name: tide\n        image: gcr.io/k8s-prow/tide:v20220203-ad9c38e2b5\n        args:\n        - --config-path=/etc/config/config.yaml\n        - --dry-run=false\n        - --github-endpoint=http://ghproxy.prow.svc.cluster.local\n        - --github-endpoint=https://api.github.com\n        - --github-token-path=/etc/github/token\n        - --gcs-credentials-file=/etc/gcs-credentials/service-account.json\n        - --job-config-path=/etc/job-config\n        - --history-uri=gs://k8s-infra-prow-results/tide-history.json\n        - --status-path=gs://k8s-infra-prow-results/tide-status-checkpoint.yaml\n        ports:\n        - name: http\n          containerPort: 8888\n        - name: metrics\n          containerPort: 9090\n        securityContext:\n          allowPrivilegeEscalation: false\n          capabilities:\n            drop:\n            - ALL\n          privileged: false\n        volumeMounts:\n        - name: github-token\n          mountPath: /etc/github\n          readOnly: true\n        - name: config\n          mountPath: /etc/config\n          readOnly: true\n        - name: job-config\n          mountPath: /etc/job-config\n          readOnly: true\n        - name: gcs-credentials\n          mountPath: /etc/gcs-credentials\n          readOnly: true\n      volumes:\n      - name: github-token\n        secret:\n          defaultMode: 420\n          secretName: k8s-infra-ci-robot-github-token\n      - name: gcs-credentials\n        secret:\n          defaultMode: 420\n          secretName: k8s-infra-prow-sa-key\n      - name: config\n        configMap:\n          name: config\n      - name: job-config\n        configMap:\n          name: job-config\n",
    "policy_id": "unset-memory-requirements",
    "violation_text": "container \"tide\" has memory limit 0"
  },
  {
    "id": "02512",
    "manifest_path": "data/manifests/the_stack_sample/sample_1014.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: howtos-api\n  namespace: howtos-prod\n  labels:\n    app: howtos-api\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: howtos-api\n  template:\n    metadata:\n      labels:\n        app: howtos-api\n    spec:\n      containers:\n      - image: registry.digitalocean.com/tiveritz/howtos-api:{{version}}\n        name: howtos-api\n        env:\n        - name: VERSION\n          value: '{{version}}'\n        - name: SECRET_KEY\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: secret-key\n        - name: DEBUG\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: debug\n        - name: ALLOWED_HOSTS\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: allowed-hosts\n        - name: SECURE_SSL_REDIRECT\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: secure-ssl-redirect\n        - name: DB_NAME\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: db-name\n        - name: DB_USER\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: db-user\n        - name: DB_PASS\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: db-pass\n        - name: DB_HOST\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: db-host\n        - name: DB_PORT\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: db-port\n        - name: AWS_S3_ACCESS_KEY_ID\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: aws-s3-access-key-id\n        - name: AWS_S3_SECRET_ACCESS_KEY\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: aws-s3-secret-access-key\n        ports:\n        - containerPort: 8080\n          name: gunicorn\n",
    "policy_id": "no-read-only-root-fs",
    "violation_text": "container \"howtos-api\" does not have a read-only root file system"
  },
  {
    "id": "02513",
    "manifest_path": "data/manifests/the_stack_sample/sample_1014.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: howtos-api\n  namespace: howtos-prod\n  labels:\n    app: howtos-api\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: howtos-api\n  template:\n    metadata:\n      labels:\n        app: howtos-api\n    spec:\n      containers:\n      - image: registry.digitalocean.com/tiveritz/howtos-api:{{version}}\n        name: howtos-api\n        env:\n        - name: VERSION\n          value: '{{version}}'\n        - name: SECRET_KEY\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: secret-key\n        - name: DEBUG\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: debug\n        - name: ALLOWED_HOSTS\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: allowed-hosts\n        - name: SECURE_SSL_REDIRECT\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: secure-ssl-redirect\n        - name: DB_NAME\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: db-name\n        - name: DB_USER\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: db-user\n        - name: DB_PASS\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: db-pass\n        - name: DB_HOST\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: db-host\n        - name: DB_PORT\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: db-port\n        - name: AWS_S3_ACCESS_KEY_ID\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: aws-s3-access-key-id\n        - name: AWS_S3_SECRET_ACCESS_KEY\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: aws-s3-secret-access-key\n        ports:\n        - containerPort: 8080\n          name: gunicorn\n",
    "policy_id": "run-as-non-root",
    "violation_text": "container \"howtos-api\" is not set to runAsNonRoot"
  },
  {
    "id": "02514",
    "manifest_path": "data/manifests/the_stack_sample/sample_1014.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: howtos-api\n  namespace: howtos-prod\n  labels:\n    app: howtos-api\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: howtos-api\n  template:\n    metadata:\n      labels:\n        app: howtos-api\n    spec:\n      containers:\n      - image: registry.digitalocean.com/tiveritz/howtos-api:{{version}}\n        name: howtos-api\n        env:\n        - name: VERSION\n          value: '{{version}}'\n        - name: SECRET_KEY\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: secret-key\n        - name: DEBUG\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: debug\n        - name: ALLOWED_HOSTS\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: allowed-hosts\n        - name: SECURE_SSL_REDIRECT\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: secure-ssl-redirect\n        - name: DB_NAME\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: db-name\n        - name: DB_USER\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: db-user\n        - name: DB_PASS\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: db-pass\n        - name: DB_HOST\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: db-host\n        - name: DB_PORT\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: db-port\n        - name: AWS_S3_ACCESS_KEY_ID\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: aws-s3-access-key-id\n        - name: AWS_S3_SECRET_ACCESS_KEY\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: aws-s3-secret-access-key\n        ports:\n        - containerPort: 8080\n          name: gunicorn\n",
    "policy_id": "unset-cpu-requirements",
    "violation_text": "container \"howtos-api\" has cpu request 0"
  },
  {
    "id": "02515",
    "manifest_path": "data/manifests/the_stack_sample/sample_1014.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: howtos-api\n  namespace: howtos-prod\n  labels:\n    app: howtos-api\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: howtos-api\n  template:\n    metadata:\n      labels:\n        app: howtos-api\n    spec:\n      containers:\n      - image: registry.digitalocean.com/tiveritz/howtos-api:{{version}}\n        name: howtos-api\n        env:\n        - name: VERSION\n          value: '{{version}}'\n        - name: SECRET_KEY\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: secret-key\n        - name: DEBUG\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: debug\n        - name: ALLOWED_HOSTS\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: allowed-hosts\n        - name: SECURE_SSL_REDIRECT\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: secure-ssl-redirect\n        - name: DB_NAME\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: db-name\n        - name: DB_USER\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: db-user\n        - name: DB_PASS\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: db-pass\n        - name: DB_HOST\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: db-host\n        - name: DB_PORT\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: db-port\n        - name: AWS_S3_ACCESS_KEY_ID\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: aws-s3-access-key-id\n        - name: AWS_S3_SECRET_ACCESS_KEY\n          valueFrom:\n            secretKeyRef:\n              name: howtos-api-env\n              key: aws-s3-secret-access-key\n        ports:\n        - containerPort: 8080\n          name: gunicorn\n",
    "policy_id": "unset-memory-requirements",
    "violation_text": "container \"howtos-api\" has memory limit 0"
  },
  {
    "id": "02516",
    "manifest_path": "data/manifests/the_stack_sample/sample_1016.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  annotations:\n    kompose.cmd: kompose convert -f docker-compose.prod.yaml\n    kompose.version: 1.21.0 ()\n  labels:\n    io.kompose.service: reporter\n  name: reporter\n  namespace: reporter\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      io.kompose.service: reporter\n  template:\n    metadata:\n      annotations:\n        kompose.cmd: kompose convert -f docker-compose.prod.yaml\n        kompose.version: 1.21.0 ()\n      labels:\n        io.kompose.network/redis-net: 'true'\n        io.kompose.service: reporter\n    spec:\n      containers:\n      - env:\n        - name: GITHUB_TOKEN\n          valueFrom:\n            configMapKeyRef:\n              key: GITHUB_TOKEN\n              name: env\n        - name: REDIS_HOST\n          valueFrom:\n            configMapKeyRef:\n              key: REDIS_HOST\n              name: env\n        - name: REDIS_PASSWORD\n          valueFrom:\n            configMapKeyRef:\n              key: REDIS_PASSWORD\n              name: env\n        - name: REDIS_PORT\n          valueFrom:\n            configMapKeyRef:\n              key: REDIS_PORT\n              name: env\n        - name: ZENHUB_TOKEN\n          valueFrom:\n            configMapKeyRef:\n              key: ZENHUB_TOKEN\n              name: env\n        image: docker.greymatter.io/internal/reporter:latest\n        imagePullPolicy: Always\n        name: reporter\n        ports:\n        - containerPort: 3000\n        resources: {}\n",
    "policy_id": "latest-tag",
    "violation_text": "The container \"reporter\" is using an invalid container image, \"docker.greymatter.io/internal/reporter:latest\". Please use images that are not blocked by the `BlockList` criteria : [\".*:(latest)$\" \"^[^:]*$\" \"(.*/[^:]+)$\"]"
  },
  {
    "id": "02517",
    "manifest_path": "data/manifests/the_stack_sample/sample_1016.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  annotations:\n    kompose.cmd: kompose convert -f docker-compose.prod.yaml\n    kompose.version: 1.21.0 ()\n  labels:\n    io.kompose.service: reporter\n  name: reporter\n  namespace: reporter\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      io.kompose.service: reporter\n  template:\n    metadata:\n      annotations:\n        kompose.cmd: kompose convert -f docker-compose.prod.yaml\n        kompose.version: 1.21.0 ()\n      labels:\n        io.kompose.network/redis-net: 'true'\n        io.kompose.service: reporter\n    spec:\n      containers:\n      - env:\n        - name: GITHUB_TOKEN\n          valueFrom:\n            configMapKeyRef:\n              key: GITHUB_TOKEN\n              name: env\n        - name: REDIS_HOST\n          valueFrom:\n            configMapKeyRef:\n              key: REDIS_HOST\n              name: env\n        - name: REDIS_PASSWORD\n          valueFrom:\n            configMapKeyRef:\n              key: REDIS_PASSWORD\n              name: env\n        - name: REDIS_PORT\n          valueFrom:\n            configMapKeyRef:\n              key: REDIS_PORT\n              name: env\n        - name: ZENHUB_TOKEN\n          valueFrom:\n            configMapKeyRef:\n              key: ZENHUB_TOKEN\n              name: env\n        image: docker.greymatter.io/internal/reporter:latest\n        imagePullPolicy: Always\n        name: reporter\n        ports:\n        - containerPort: 3000\n        resources: {}\n",
    "policy_id": "no-read-only-root-fs",
    "violation_text": "container \"reporter\" does not have a read-only root file system"
  },
  {
    "id": "02518",
    "manifest_path": "data/manifests/the_stack_sample/sample_1016.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  annotations:\n    kompose.cmd: kompose convert -f docker-compose.prod.yaml\n    kompose.version: 1.21.0 ()\n  labels:\n    io.kompose.service: reporter\n  name: reporter\n  namespace: reporter\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      io.kompose.service: reporter\n  template:\n    metadata:\n      annotations:\n        kompose.cmd: kompose convert -f docker-compose.prod.yaml\n        kompose.version: 1.21.0 ()\n      labels:\n        io.kompose.network/redis-net: 'true'\n        io.kompose.service: reporter\n    spec:\n      containers:\n      - env:\n        - name: GITHUB_TOKEN\n          valueFrom:\n            configMapKeyRef:\n              key: GITHUB_TOKEN\n              name: env\n        - name: REDIS_HOST\n          valueFrom:\n            configMapKeyRef:\n              key: REDIS_HOST\n              name: env\n        - name: REDIS_PASSWORD\n          valueFrom:\n            configMapKeyRef:\n              key: REDIS_PASSWORD\n              name: env\n        - name: REDIS_PORT\n          valueFrom:\n            configMapKeyRef:\n              key: REDIS_PORT\n              name: env\n        - name: ZENHUB_TOKEN\n          valueFrom:\n            configMapKeyRef:\n              key: ZENHUB_TOKEN\n              name: env\n        image: docker.greymatter.io/internal/reporter:latest\n        imagePullPolicy: Always\n        name: reporter\n        ports:\n        - containerPort: 3000\n        resources: {}\n",
    "policy_id": "run-as-non-root",
    "violation_text": "container \"reporter\" is not set to runAsNonRoot"
  },
  {
    "id": "02519",
    "manifest_path": "data/manifests/the_stack_sample/sample_1016.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  annotations:\n    kompose.cmd: kompose convert -f docker-compose.prod.yaml\n    kompose.version: 1.21.0 ()\n  labels:\n    io.kompose.service: reporter\n  name: reporter\n  namespace: reporter\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      io.kompose.service: reporter\n  template:\n    metadata:\n      annotations:\n        kompose.cmd: kompose convert -f docker-compose.prod.yaml\n        kompose.version: 1.21.0 ()\n      labels:\n        io.kompose.network/redis-net: 'true'\n        io.kompose.service: reporter\n    spec:\n      containers:\n      - env:\n        - name: GITHUB_TOKEN\n          valueFrom:\n            configMapKeyRef:\n              key: GITHUB_TOKEN\n              name: env\n        - name: REDIS_HOST\n          valueFrom:\n            configMapKeyRef:\n              key: REDIS_HOST\n              name: env\n        - name: REDIS_PASSWORD\n          valueFrom:\n            configMapKeyRef:\n              key: REDIS_PASSWORD\n              name: env\n        - name: REDIS_PORT\n          valueFrom:\n            configMapKeyRef:\n              key: REDIS_PORT\n              name: env\n        - name: ZENHUB_TOKEN\n          valueFrom:\n            configMapKeyRef:\n              key: ZENHUB_TOKEN\n              name: env\n        image: docker.greymatter.io/internal/reporter:latest\n        imagePullPolicy: Always\n        name: reporter\n        ports:\n        - containerPort: 3000\n        resources: {}\n",
    "policy_id": "unset-cpu-requirements",
    "violation_text": "container \"reporter\" has cpu request 0"
  },
  {
    "id": "02520",
    "manifest_path": "data/manifests/the_stack_sample/sample_1016.yaml",
    "manifest_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  annotations:\n    kompose.cmd: kompose convert -f docker-compose.prod.yaml\n    kompose.version: 1.21.0 ()\n  labels:\n    io.kompose.service: reporter\n  name: reporter\n  namespace: reporter\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      io.kompose.service: reporter\n  template:\n    metadata:\n      annotations:\n        kompose.cmd: kompose convert -f docker-compose.prod.yaml\n        kompose.version: 1.21.0 ()\n      labels:\n        io.kompose.network/redis-net: 'true'\n        io.kompose.service: reporter\n    spec:\n      containers:\n      - env:\n        - name: GITHUB_TOKEN\n          valueFrom:\n            configMapKeyRef:\n              key: GITHUB_TOKEN\n              name: env\n        - name: REDIS_HOST\n          valueFrom:\n            configMapKeyRef:\n              key: REDIS_HOST\n              name: env\n        - name: REDIS_PASSWORD\n          valueFrom:\n            configMapKeyRef:\n              key: REDIS_PASSWORD\n              name: env\n        - name: REDIS_PORT\n          valueFrom:\n            configMapKeyRef:\n              key: REDIS_PORT\n              name: env\n        - name: ZENHUB_TOKEN\n          valueFrom:\n            configMapKeyRef:\n              key: ZENHUB_TOKEN\n              name: env\n        image: docker.greymatter.io/internal/reporter:latest\n        imagePullPolicy: Always\n        name: reporter\n        ports:\n        - containerPort: 3000\n        resources: {}\n",
    "policy_id": "unset-memory-requirements",
    "violation_text": "container \"reporter\" has memory limit 0"
  }
]